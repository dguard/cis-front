{"version":3,"sources":["serviceWorker.ts","types/RequestState.ts","pages/404/NotFound.module.scss","pages/404/index.tsx","stores/UserStore.ts","components/VKButton/img/VK_Blue_Logo.svg","components/VKButton/VKButton.module.scss","components/VKButton/index.tsx","helpers/isEmptyObj.ts","stores/useStores.ts","components/LayoutDefault/LayoutDefault.module.scss","stores/WebsocketService.ts","components/LayoutDefault/index.tsx","pages/SignInPage/SignInPage.module.scss","pages/SignInPage/index.tsx","components/LayoutUser/LayoutUser.module.scss","components/LayoutUser/index.tsx","pages/UserPage/UserPage.module.scss","pages/UserPage/index.tsx","pages/HomePage/index.tsx","pages/ListUsersPage/ListUsersPage.module.scss","pages/ListUsersPage/index.tsx","pages/CreateClassArea/index.tsx","pages/CreateClassPage/index.tsx","pages/ScheduleControlPointsPerSchoolClassPage/ScheduleControlPointPerSchoolClassPage.module.scss","pages/ScheduleControlPointsPerSchoolClassPage/index.tsx","pages/Registration/Registration.module.scss","pages/Registration/index.tsx","pages/ConfirmPage/Confirm.module.scss","pages/ConfirmPage/index.tsx","pages/Onboarding/Onboarding.module.scss","pages/Onboarding/index.tsx","pages/ChangePassword/ChangePassword.module.scss","pages/ChangePassword/index.tsx","pages/ChangePhone/ChangePhone.module.scss","pages/ChangePhone/index.tsx","pages/ChangeEmail/ChangeEmail.module.scss","pages/ChangeEmail/index.tsx","pages/ResetPassword/ResetPassword.module.scss","pages/ResetPassword/index.tsx","pages/Dialog/UserPage.module.scss","pages/Dialog/index.tsx","App/index.tsx","index.tsx","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../webpack/startup"],"names":["Boolean","window","location","hostname","match","RequestState","className","styles","to","UserStore","user","state","users","usersPagination","schoolAreas","schoolClasses","controlPoints","controlPointPagination","profile","loginVk","code","fetch","process","method","body","JSON","stringify","headers","then","res","status","json","errBody","setError","Promise","reject","message","setUser","getProfileById","user_id","token","sessionStorage","getItem","Authorization","getProfile","getAllUsers","page","per_page","params","join","handleSetUsers","setUsers","newUsers","setUsersPagination","newPagination","getSchoolAreas","setSchoolAreas","getSchoolClasses","setSchoolClasses","getControlPoints","start_time","end_time","setControlPoints","updateUser","uploadImage","userId","formData","formatPhone","phone","replace","signIn","password","setItem","updateControlPoint","selectedControlPointId","selectedControlPointThemeName","selectedControlPointHomeworkDescription","selectedControlPointOpensAt","selectedControlPointClosesAt","selectedControlPointGrade","selectedControlPointStatus","selectedControlPointHandledBy","selectedControlSchoolArea","selectedControlPointSchoolClass","controlPoint","id","theme_name","homework_description","control_point_opens","control_point_closes","control_point_status","control_point_handled_by","control_point_grade","school_area_id","school_class_id","welcome","register","first_name","last_name","confirmAccount","confirmation_code","requestConfirmationCode","requestConfirmationCodeViaSms","requestChangePhone","changePassword","old_password","new_password","requestChangePhoneWithConfirmation","confirmChangePhoneWithVerification","new_phone","confirm_code","requestChangeEmailWithConfirmation","email","confirmChangeEmailWithVerification","new_email","requestConfirmationCodeForResetPasswordUsingPhone","verifyConfirmationCodeUsingPhone","confirmResetPasswordWithConfirmationUsingPhone","updateProfile","getLatestDialogs","logout","clear","items","pagination","controlPointResponse","setSuccess","decorate","observable","withRouter","props","React","isError","setIsError","cbLink","queryObj","queryString","search","href","obj","key","isEmptyObj","resolve","setTimeout","removeItem","history","push","catch","onClick","src","vk","alt","style","color","useStores","MobXProviderContext","onMessageCallback","_send","socket","onConnected","PRIVATE_ROUTES","LayoutDefault","observer","useHistory","includes","pathname","textDecoration","fontSize","children","useState","errMessage","setErrMessage","selectedPhone","setSelectedPhone","selectedPassword","setSelectedPassword","selectedAlert","setSelectedAlert","alert","parse","existingSelectedPhone","phoneEl","document","querySelector","Inputmask","mask","canSignIn","length","trim","handleSignIn","err","text","onSubmit","event","preventDefault","overflow","type","value","onChange","currentTarget","placeholder","disabled","textAlign","marginBottom","cursor","inject","useUpdateUser","setUseUpdateUser","selectedFirstName","setSelectedFirstName","selectedLastName","setSelectedLastName","console","log","file","handleClick","e","uploadBtn","focus","click","handleUpdateProfile","avatar_url","indexOf","split","padding","display","ev","fileChangeEvent","target","files","FormData","append","name","onFileChange","availableSchoolAreas","setAvailableSchoolAreas","availableSchoolClassesPerUserAndSchoolArea","setAvailableSchoolClassesPerUserAndSchoolArea","selectedSchoolArea","setSelectedSchoolArea","selectedSchoolClass","setSelectedSchoolClass","setPage","perPage","setPerPage","newSelectedSchoolArea","map","schoolArea","label","school_area","newSelectedSchoolClass","schoolClass","school_class","newAvailableSchoolAreas","item","newAvailableSchoolClassesPerUserAndSchoolArea","filter","renderRow","width","height","paddingRight","paddingTop","paddingBottom","paddingLeft","sO","Number","handleChange1","Object","keys","handleChange2","userModel","vk_id","grant","changePage","x","i","Array","total_pages","marginRight","weekDays","setWeekDays","selectedHours","controlPointsPerSchoolClass","setControlPointsPerSchoolClass","periodStartsAt","setPeriodStartsAt","periodEndsAt","setPeriodEndsAt","calendarWeekdaysCount","setCalendarWeekdaysCount","selectedWeekIndex","setSelectedWeekIndex","setSelectedControlPointId","setSelectedControlPointThemeName","setSelectedControlPointHomeworkDescription","setSelectedControlPointOpensAt","setSelectedControlPointClosesAt","setSelectedControlPointGrade","setSelectedControlPointStatus","setSelectedControlPointHandledBy","setSelectedControlPointSchoolArea","setSelectedControlPointSchoolClass","selectedControlPointSchoolAreaAvailableOptions","setSelectedControlPointAreaAvailableOptions","selectedControlPointSchoolClassPerSchoolAreaAvailableOptions","setSelectedControlPointSchoolClassPerSchoolAreaAvailableOptions","startTimePerControlPoints","setStartTimePerControlPoints","endTimePerControlPoints","setEndTimePerControlPoints","Date","selectedCurrentDate","setSelectedCurrentDate","useUpdateControlPoints","setUseUpdateControlPoints","useUpdateWeekdays","setUseUpdateWeekdays","useUpdateCalendarWeekdaysCount","setUseUpdateCalendarWeekdaysCount","listControlPointHandledBy","setListControlPointHandledBy","updateSelectedControlPointSchoolClassPerSchoolAreaAvailableOptions","currentSchoolAreaId","newSelectedControlPointSchoolClassPerSchoolAreaAvailableOptions","updateSelectedControlPoint","newListControlPointHandledBy","controlPointHandledBy","newSelectedControlPointAreaAvailableOptions","updateSelectedControlPointAreaAvailableOptions","updateWeekdaysCount","weekdaysEl","updateControlPoints","newControlPointsPerSchoolClass","index","updateWeekdays","newWeekDays","date","weekDayText","toLocaleDateString","weekday","dateText","getDate","month","prevButton","onclick","prev2Button","nextButton","next2Button","initWeekdaysCount","calendarDayNowEl","monthViewDaysEl","calendarDayIndex","weekIndex","Math","trunc","querySelectorAll","updateSelectedWeekIndex","handleChangeControlPoint","controlPointId","dataset","renderDayTimeWindowBody","chosenControlPointsPerSchoolClass","listRectangle","totalEmptyMinutesDiff","countEmptyDayWindows","countEmptyStretchWindows","countEmptyDivisions","totalRectangleDurationInMinutes","highestDurationInMinutes","countFullDayWindows","countFullStretchWindows","marginLeft","position","marginTop","background","data-id","verticalAlign","renderRectangle","options","year","day","handleChangeWeek","periodStarts","periodEnds","getAttribute","startDateEl","endDateEl","textContent","monthLong","monthPeriodStarts","yearPeriodStarts","monthPeriodEnds","yearPeriodEnds","addLeadZero","String","calendarPeriodStarts","getFullYear","getMonth","getHours","getMinutes","calendarPeriodEnds","canUpdateControlPoint","handleUpdateControlPoint","visibility","justifyContent","border","borderRadius","left","from","data-key","boxSizing","lineHeight","calendarType","fontWeight","margin","float","format","clearIcon","borderRight","borderLeft","renderSchoolClassBody","overflowX","weekDay","renderDayTimeWindowHeader","canRegister","handleRegister","debounce","selectedCode","setSelectedCode","allowRequestNewConfirmationCode","setAllowRequestNewConfirmationCode","waitIntervalBetweenTries","setWaitIntervalBetweenTries","selectedSection","allowEnterCode","setAllowEnterCode","useUpdatePhone","setUseUpdatePhone","canChangePhone","handleUpdatePhone","timeoutTimer","clearTimeout","handleConfirm","replaceAll","canContinue","handleContinue","selectedOldPassword","setSelectedOldPassword","selectedNewPassword","setSelectedNewPassword","selectedRepeatPassword","setSelectedRepeatPassword","handleChangePassword","phoneUpdated","setPhoneUpdated","handleSubmit","selectedEmail","setSelectedEmail","setSelectedSection","setUseUpdateEmail","emailUpdated","setEmailUpdated","canChangeEmail","RegExp","test","isValid","errors","connect","tryToConnect","registerMessageCallback","fn","registerOnConnectedCallback","this","WebSocket","onerror","error","onopen","onmessage","onclose","reason","send","bind","data","archivedDialogs","setArchivedDialogs","latestDialogs","setLatestDialogs","dialogMessages","setDialogMessages","dialogReceiver","setDialogReceiver","useUpdateDialogReceiver","setUseUpdateDialogReceiver","WebsocketService","receiverId","useParams","entities","receiver","total_items","handleOnConnected","handleOpenDialog","sender","receiver_id","concat","timerId","sendDraftMessage","msg","icon","faBars","data-user-id","entity_type","message_content","faPaperclip","onKeyDown","keyCode","sendMessage","getElementById","faPaperPlane","total_photos","total_files","total_shared_links","path","exact","component","HomePage","SignInPage","UserPage","ListUsersPage","CreateClassArea","CreateClassPage","ScheduleControlPointsPerSchoolClassPage","Registration","ConfirmPage","OnboardingPage","ChangePasswordPage","ChangePhonePage","ChangeEmailPage","ResetPasswordPage","Dialog","NotFound","ReactDOM","navigator","serviceWorker","ready","registration","unregister","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","m","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","p","installedChunks","179","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","chunkId","chunkIds","moreModules","runtime","executeModules","resolves","shift","apply","chunkLoadingGlobal","self","checkDeferredModulesImpl","result","deferredModule","fulfilled","j","depId","splice","s","forEach","startup"],"mappings":"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","file":"static/js/main.709734fe.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          // eslint-disable-next-line no-console\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        // eslint-disable-next-line eqeqeq\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              // eslint-disable-next-line no-console\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              // eslint-disable-next-line no-console\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      // eslint-disable-next-line no-console\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        // eslint-disable-next-line eqeqeq\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      // eslint-disable-next-line no-console\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        // eslint-disable-next-line no-console\n        console.error(error.message);\n      });\n  }\n}\n","export enum RequestState {\n  PENDING = \"pending\",\n  LOADING = \"loading\",\n  SUCCESS = \"success\",\n  ERROR = \"error\",\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"page\":\"NotFound_page__1PB6l\"};","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport styles from \"./NotFound.module.scss\";\n\ninterface IProps {}\nconst NotFound: React.FC<IProps> = () => {\n  return (\n    <div className={styles[\"page\"]}>\n      <p>Страница не найдена</p>\n      <Link to=\"/\">Вернуться на главную</Link>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import { observable, decorate } from \"mobx\";\n\nimport { RequestState } from \"types/RequestState\";\n\nexport interface SchoolArea {\n  id: number;\n  school_area: string;\n}\n\nexport interface SchoolClass {\n  id: number;\n  schoolArea: SchoolArea;\n  school_class: string;\n}\n\nexport interface IUser {\n  id: number;\n  email: string;\n  grant: number;\n  first_name: string;\n  last_name: string;\n  phone: string;\n  token: string;\n  avatar_url: string | null;\n  schoolArea: SchoolArea;\n  schoolClass: SchoolClass;\n}\n\nexport interface ControlPoint {\n  id: number;\n  theme_name: string;\n  homework_description: string;\n  control_point_opens: string;\n  control_point_closes: string;\n  control_point_status: string;\n  control_point_grade: string;\n  controlPointHandledBy: IUser;\n  schoolArea: SchoolArea;\n  schoolClass: SchoolClass;\n}\n\nexport interface Pagination {\n  page: string;\n  per_page: string;\n  total_items: number;\n  total_pages: number;\n}\n\nexport interface ControlPointResponse {\n  items: ControlPoint[];\n  pagination: Pagination;\n}\n\nclass UserStore {\n  user: IUser = null;\n  state = RequestState.PENDING;\n\n  users: IUser[] = null;\n  usersPagination: any = null;\n  schoolAreas: SchoolArea[] = null;\n  schoolClasses: SchoolClass[] = null;\n  controlPoints: ControlPoint[] = null;\n  controlPointPagination: Pagination = null;\n\n  profile: any = null;\n\n  loginVk = (code: string) => {\n    this.state = RequestState.LOADING;\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/auth/login/vk`, {\n      method: \"POST\",\n      body: JSON.stringify({ code }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((user) => this.setUser(user));\n  };\n\n  getProfileById = (user_id) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n\n    if (!token) {\n      return Promise.reject();\n    }\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/users/${user_id}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n        .then((res) => {\n          switch (res.status) {\n            case 200:\n            case 201:\n              return res.json();\n            default:\n              this.setError();\n              return Promise.reject();\n          }\n        });\n  };\n\n  getProfile = () => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n\n    if (!token) {\n      return Promise.reject();\n    }\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/users/profile`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            this.setError();\n            return Promise.reject();\n        }\n      })\n      .then((user) => this.setUser(user));\n  };\n\n  getAllUsers = (page, per_page) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n\n    if (!token) {\n      return Promise.reject();\n    }\n\n    const params = \"?\" + [\"page=\" + page, \"per_page=\" + per_page].join(\"&\");\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/users/${params}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            this.setError();\n            return Promise.reject();\n        }\n      })\n      .then((users) => this.handleSetUsers(users));\n  };\n\n  setUsers = (newUsers) => {\n    this.users = newUsers;\n  };\n  setUsersPagination = (newPagination) => {\n    this.usersPagination = newPagination;\n  };\n\n  getSchoolAreas = () => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n\n    if (!token) {\n      return Promise.reject();\n    }\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/school-area/`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            this.setError();\n            return Promise.reject();\n        }\n      })\n      .then((schoolAreas) => this.setSchoolAreas(schoolAreas));\n  };\n\n  getSchoolClasses = () => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n\n    if (!token) {\n      return Promise.reject();\n    }\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/school-class/`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            this.setError();\n            return Promise.reject();\n        }\n      })\n      .then((schoolClasses) => this.setSchoolClasses(schoolClasses));\n  };\n\n  getControlPoints = (page, per_page, start_time, end_time) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n\n    if (!token) {\n      return Promise.reject();\n    }\n\n    const params =\n      \"?\" +\n      [\n        \"page=\" + page,\n        \"per_page=\" + per_page,\n        \"start_time=\" + start_time,\n        \"end_time=\" + end_time,\n      ].join(\"&\");\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/control-point/${params}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            this.setError();\n            return Promise.reject();\n        }\n      })\n      .then((controlPoints) => this.setControlPoints(controlPoints));\n  };\n\n  updateUser = (user) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n\n    if (!token) {\n      return Promise.reject();\n    }\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/users/`, {\n      method: \"PUT\",\n      body: JSON.stringify(user),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then(() => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  uploadImage = (userId, formData) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n\n    if (!token) {\n      return Promise.reject();\n    }\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/avatars/${userId}/avatar`, {\n      method: \"POST\",\n      body: formData,\n      headers: {\n        // \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            this.setError();\n            return Promise.reject();\n        }\n      })\n      .then(() => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  formatPhone = (phone) => {\n    return [\"+7\", phone].join(\"\").replace(/[()-]|_| /gi, \"\");\n  };\n\n  signIn = (phone, password) => {\n    this.state = RequestState.LOADING;\n    // const token = sessionStorage.getItem(\"token\");\n    //\n    // if (!token) Promise.reject();\n    const user = {\n      phone: this.formatPhone(phone),\n      password,\n    };\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/auth/login`, {\n      method: \"POST\",\n      body: JSON.stringify(user),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        sessionStorage.setItem(\"token\", res[\"token\"]);\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  updateControlPoint = (\n    selectedControlPointId,\n    selectedControlPointThemeName,\n    selectedControlPointHomeworkDescription,\n    selectedControlPointOpensAt,\n    selectedControlPointClosesAt,\n    selectedControlPointGrade,\n    selectedControlPointStatus,\n    selectedControlPointHandledBy,\n    selectedControlSchoolArea,\n    selectedControlPointSchoolClass\n  ) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n\n    if (!token) {\n      return Promise.reject();\n    }\n\n    const controlPoint = {\n      id: selectedControlPointId,\n      theme_name: selectedControlPointThemeName,\n      homework_description: selectedControlPointHomeworkDescription,\n      control_point_opens: selectedControlPointOpensAt,\n      control_point_closes: selectedControlPointClosesAt,\n      control_point_status: selectedControlPointStatus,\n      control_point_handled_by: selectedControlPointHandledBy,\n      control_point_grade: selectedControlPointGrade,\n      school_area_id: selectedControlSchoolArea,\n      school_class_id: selectedControlPointSchoolClass,\n    };\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/control-point/`, {\n      method: \"PUT\",\n      body: JSON.stringify(controlPoint),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then(() => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  welcome = (phone) => {\n    this.state = RequestState.LOADING;\n    // const token = sessionStorage.getItem(\"token\");\n    //\n    // if (!token) Promise.reject();\n    const user = {\n      phone: this.formatPhone(phone),\n    };\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/auth/welcome`, {\n      method: \"POST\",\n      body: JSON.stringify(user),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            this.setError();\n            return Promise.reject();\n        }\n      })\n      .then((res) => {\n        debugger;\n        if (res[\"phone\"]) {\n          sessionStorage.setItem(\"phone\", res[\"phone\"]);\n        }\n        this.state = RequestState.SUCCESS;\n        return res;\n      });\n  };\n\n  register = (first_name, last_name, phone, password) => {\n    this.state = RequestState.LOADING;\n    // const token = sessionStorage.getItem(\"token\");\n    //\n    // if (!token) Promise.reject();\n    const user = {\n      first_name,\n      last_name,\n      phone: this.formatPhone(phone),\n      password,\n    };\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/auth/register`, {\n      method: \"POST\",\n      body: JSON.stringify(user),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            this.setError();\n            return Promise.reject();\n        }\n      })\n      .then((res) => {\n        sessionStorage.setItem(\"token\", res[\"token\"]);\n        this.state = RequestState.SUCCESS;\n        return res;\n      });\n  };\n\n  confirmAccount = (phone, code) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n    if (!token) {\n      return Promise.reject();\n    }\n    const user = {\n      phone: this.formatPhone(phone),\n      confirmation_code: code,\n    };\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/auth/confirm-account`, {\n      method: \"POST\",\n      body: JSON.stringify(user),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((/* res */) => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  requestConfirmationCode = (phone) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n    if (!token) {\n      return Promise.reject();\n    }\n    const user = {\n      phone: this.formatPhone(phone),\n    };\n\n    return fetch(\n      `${process.env.REACT_APP_API_HOST}/auth/request-confirmation-code`,\n      {\n        method: \"POST\",\n        body: JSON.stringify(user),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    )\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  requestConfirmationCodeViaSms = (phone) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n    if (!token) {\n      return Promise.reject();\n    }\n    const user = {\n      phone,\n    };\n\n    return fetch(\n      `${process.env.REACT_APP_API_HOST}/auth/request-confirmation-code-via-sms`,\n      {\n        method: \"POST\",\n        body: JSON.stringify(user),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    )\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  requestChangePhone = (user_id, phone) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n    if (!token) {\n      return Promise.reject();\n    }\n    const user = {\n      id: user_id,\n      phone: this.formatPhone(phone),\n    };\n\n    return fetch(\n      `${process.env.REACT_APP_API_HOST}/auth/request-change-phone`,\n      {\n        method: \"POST\",\n        body: JSON.stringify(user),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    )\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  changePassword = (user_id, old_password, new_password) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n    if (!token) {\n      return Promise.reject();\n    }\n    const user = {\n      user_id,\n      old_password,\n      new_password,\n    };\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/auth/change-password`, {\n      method: \"POST\",\n      body: JSON.stringify(user),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  requestChangePhoneWithConfirmation = (user_id, phone): any => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n    if (!token) {\n      return Promise.reject();\n    }\n    const user = {\n      id: user_id,\n      phone: this.formatPhone(phone),\n    };\n\n    return fetch(\n      `${process.env.REACT_APP_API_HOST}/auth/request-change-phone-with-confirmation`,\n      {\n        method: \"POST\",\n        body: JSON.stringify(user),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    )\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  confirmChangePhoneWithVerification = (user_id, phone, code): any => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n    if (!token) {\n      return Promise.reject();\n    }\n    const user = {\n      user_id,\n      new_phone: this.formatPhone(phone),\n      confirm_code: code,\n    };\n\n    return fetch(\n      `${process.env.REACT_APP_API_HOST}/auth/confirm-change-phone-with-verification`,\n      {\n        method: \"POST\",\n        body: JSON.stringify(user),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    )\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  requestChangeEmailWithConfirmation = (user_id, email): any => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n    if (!token) {\n      return Promise.reject();\n    }\n    const user = {\n      id: user_id,\n      email: email,\n    };\n\n    return fetch(\n      `${process.env.REACT_APP_API_HOST}/auth/request-change-email-with-confirmation`,\n      {\n        method: \"POST\",\n        body: JSON.stringify(user),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    )\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  confirmChangeEmailWithVerification = (user_id, email, code): any => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n    if (!token) {\n      return Promise.reject();\n    }\n    const user = {\n      user_id,\n      new_email: email,\n      confirm_code: code,\n    };\n\n    return fetch(\n      `${process.env.REACT_APP_API_HOST}/auth/confirm-change-email-with-verification`,\n      {\n        method: \"POST\",\n        body: JSON.stringify(user),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    )\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  requestConfirmationCodeForResetPasswordUsingPhone = (phone) => {\n    this.state = RequestState.LOADING;\n    const user = {\n      phone: this.formatPhone(phone),\n    };\n\n    return fetch(\n      `${process.env.REACT_APP_API_HOST}/auth/request-confirmation-code-for-reset-password-using-phone`,\n      {\n        method: \"POST\",\n        body: JSON.stringify(user),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  verifyConfirmationCodeUsingPhone = (phone, code) => {\n    this.state = RequestState.LOADING;\n    const user = {\n      phone: this.formatPhone(phone),\n      confirm_code: code,\n    };\n\n    return fetch(\n      `${process.env.REACT_APP_API_HOST}/auth/verify-confirmation-code-using-phone`,\n      {\n        method: \"POST\",\n        body: JSON.stringify(user),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        this.state = RequestState.SUCCESS;\n      });\n  };\n\n  confirmResetPasswordWithConfirmationUsingPhone = (\n    phone,\n    code,\n    new_password\n  ) => {\n    this.state = RequestState.LOADING;\n    const user = {\n      phone: this.formatPhone(phone),\n      confirm_code: code,\n      new_password,\n    };\n\n    return fetch(\n      `${process.env.REACT_APP_API_HOST}/auth/confirm-reset-password-with-confirmation-using-phone`,\n      {\n        method: \"POST\",\n        body: JSON.stringify(user),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        sessionStorage.setItem(\"token\", res[\"token\"]);\n        this.state = RequestState.SUCCESS;\n        return res;\n      });\n  };\n\n  updateProfile = (user_id, first_name, last_name) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n    if (!token) {\n      return Promise.reject();\n    }\n\n    const user = {\n      id: user_id,\n      first_name,\n      last_name,\n    };\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/users/`, {\n      method: \"PUT\",\n      body: JSON.stringify(user),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        switch (res.status) {\n          case 200:\n          case 201:\n            return res.json();\n          default:\n            return res.json().then((errBody) => {\n              this.setError();\n              return Promise.reject({\n                message: errBody.message,\n              });\n            });\n        }\n      })\n      .then((res) => {\n        this.state = RequestState.SUCCESS;\n        return res;\n      });\n  };\n\n  getLatestDialogs = (userId) => {\n    this.state = RequestState.LOADING;\n    const token = sessionStorage.getItem(\"token\");\n\n    if (!token) {\n      return Promise.reject();\n    }\n\n    return fetch(`${process.env.REACT_APP_API_HOST}/message/latestDialogs?author_id=${userId}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    })\n        .then((res) => {\n          switch (res.status) {\n            case 200:\n            case 201:\n              return res.json();\n            default:\n              this.setError();\n              return Promise.reject();\n          }\n        });\n  };\n\n\n  logout = () => {\n    this.user = null;\n    sessionStorage.clear();\n    this.state = RequestState.PENDING;\n  };\n\n  setUser = (user: IUser) => {\n    this.user = user;\n    this.state = RequestState.SUCCESS;\n\n    if (user[\"token\"]) {\n      sessionStorage.setItem(\"token\", user.token);\n    }\n    return user;\n  };\n\n  handleSetUsers = (res: { items: IUser[]; pagination: any }): IUser[] => {\n    this.users = res.items;\n    this.usersPagination = res.pagination;\n    this.state = RequestState.SUCCESS;\n\n    return res.items;\n  };\n\n  setSchoolAreas = (schoolAreas: SchoolArea[]) => {\n    this.schoolAreas = schoolAreas;\n    this.state = RequestState.SUCCESS;\n\n    return schoolAreas;\n  };\n\n  setSchoolClasses = (schoolClasses: SchoolClass[]) => {\n    this.schoolClasses = schoolClasses;\n    this.state = RequestState.SUCCESS;\n\n    return schoolClasses;\n  };\n\n  setControlPoints = (controlPointResponse: ControlPointResponse) => {\n    this.controlPoints = controlPointResponse.items;\n    this.controlPointPagination = controlPointResponse.pagination;\n\n    this.state = RequestState.SUCCESS;\n\n    return this.controlPoints;\n  };\n\n  setError = () => {\n    this.state = RequestState.ERROR;\n  };\n  setSuccess = () => {\n    this.state = RequestState.SUCCESS;\n  };\n}\n\ndecorate(UserStore, {\n  user: observable,\n  state: observable,\n\n  schoolAreas: observable,\n  schoolClasses: observable,\n});\n\nexport default new UserStore();\n","export default __webpack_public_path__ + \"static/media/VK_Blue_Logo.cce74bbd.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"vk-button__input\":\"VKButton_vk-button__input__2yYiU\",\"vk-button\":\"VKButton_vk-button__2yUZ7\",\"vk-button__input-icon\":\"VKButton_vk-button__input-icon__2j7Ao\"};","import React from \"react\";\nimport { withRouter, RouteComponentProps } from \"react-router-dom\";\nimport queryString from \"query-string\";\n\nimport { isEmptyObj } from \"helpers/isEmptyObj\";\nimport UserStore from \"stores/UserStore\";\n\nimport vk from \"./img/VK_Blue_Logo.svg\";\n\nimport styles from \"./VKButton.module.scss\";\n\ninterface IProps extends RouteComponentProps {\n  // buttonText: string;\n}\n\nconst VKButton = (props: IProps) => {\n  const [isError, setIsError] = React.useState(false);\n\n  const buttonText = \"Sign in with VK\";\n\n  const host =\n    process.env.REACT_APP_MODE === \"production\"\n      ? process.env.REACT_APP_HOST_PROD\n      : process.env.REACT_APP_HOST_LOCAL;\n\n  const cbLink = `${host}/signin`;\n\n  const handleRedirect = () => {\n    window.location.href = `https://oauth.vk.com/authorize?client_id=${process.env.REACT_APP_CLIENT_ID}&display=popup&redirect_uri=${cbLink}&scope=email&response_type=code&v=5.120&state=4194308`;\n  };\n\n  React.useEffect(() => {\n    const handleLogin = (code: string) => {\n      UserStore.loginVk(code)\n        .then(() => {\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              sessionStorage.removeItem(\"alert\");\n\n              sessionStorage.setItem(\"useUpdateUser\", JSON.stringify(true));\n              resolve();\n            }, 100);\n          }).then(() => {\n            props.history.push(\"/user\");\n          });\n        })\n        .catch(() => setIsError(true));\n    };\n\n    const queryObj = queryString.parse(props.location.search);\n\n    if (isError) {\n      window.location.href = cbLink;\n    }\n\n    if (!isEmptyObj(queryObj) && queryObj[\"code\"]) {\n      handleLogin(queryObj.code);\n    }\n  }, [props.location.search, isError, cbLink, props.history]);\n\n  return (\n    <div className={styles[\"vk-button\"]}>\n      <button className={styles[\"vk-button__input\"]} onClick={handleRedirect}>\n        <img\n          src={vk}\n          alt=\"vk logo\"\n          className={styles[\"vk-button__input-icon\"]}\n        />\n        {buttonText}\n      </button>\n      {isError && <p style={{ color: \"red\" }}>Ошибка входа через ВК</p>}\n    </div>\n  );\n};\n\nexport default withRouter(VKButton);\n","export const isEmptyObj = (obj: Object): boolean => {\n  for (const key in obj) {\n    return false;\n  }\n  return true;\n};\n","import { MobXProviderContext } from \"mobx-react\";\nimport React from \"react\";\n\nexport function useStores() {\n  return React.useContext(MobXProviderContext);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"layout-default\":\"LayoutDefault_layout-default__1Lp5X\",\"layout-default__content\":\"LayoutDefault_layout-default__content__25qpL\",\"layout-default__links-content\":\"LayoutDefault_layout-default__links-content__NsElU\",\"layout-default__links\":\"LayoutDefault_layout-default__links__1atp7\"};","\n\nlet onMessageCallback;\nlet _send;\nlet socket;\nlet onConnected;\nlet status;\n\nclass WebsocketService {\n\n    constructor() {\n    }\n\n    startWebsocketConnection() {\n        if(!socket) {\n            this.connect();\n        }\n    }\n\n    connect = () => {\n        return new Promise((resolve, reject)=>{\n            this.tryToConnect().then(()=>{\n                // succeed\n                status = 'connected';\n                resolve();\n            }).catch(()=>{\n                setTimeout(()=>{\n                    this.connect().then(resolve).catch(reject);\n                }, 300);\n            });\n        })\n    };\n\n    tryToConnect() {\n        return new Promise((resolve, reject)=>{\n            socket = new WebSocket(\"ws://localhost:8080\");\n            socket.onerror = function (error) {\n                reject(error);\n            };\n\n            socket.onopen = function () {\n                // eslint-disable-next-line no-console\n                console.log(\"Connected\");\n                onConnected && onConnected();\n                resolve(socket);\n            };\n\n            socket.onmessage = (event) => {\n                onMessageCallback && onMessageCallback(event);\n            };\n\n            socket.onclose = (err) => {\n                status = 'disconnected';\n                // eslint-disable-next-line no-console\n                console.log('disconnected', err.code, err.reason);\n            };\n            _send = socket.send.bind(socket);\n        })\n    }\n\n    send(data){\n        if('connected' === status) {\n            _send(data);\n        } else {\n            this.connect().then(()=>{\n                _send(data);\n            });\n        }\n    }\n\n    registerMessageCallback = (fn) => {\n        onMessageCallback = fn;\n    }\n    registerOnConnectedCallback = (fn) => {\n        onConnected = fn;\n    }\n\n}\nexport default new WebsocketService();\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport { useStores } from \"stores/useStores\";\nimport { RequestState } from \"types/RequestState\";\n\nimport styles from \"./LayoutDefault.module.scss\";\n\nconst PRIVATE_ROUTES = [\"/user\"];\n\nconst LayoutDefault: React.FC = observer((props) => {\n  const { user, state, getProfile, logout } = useStores()[\"UserStore\"];\n  const history = useHistory();\n\n  React.useEffect(() => {\n    const token = sessionStorage.getItem(\"token\");\n\n    if (PRIVATE_ROUTES.includes(history.location.pathname) && !token) {\n      return history.push(\"/signin\");\n    }\n\n    if (!user && state !== RequestState.LOADING && token) {\n      getProfile().catch(() => {\n        history.push(\"/signin\");\n        logout();\n      });\n    }\n  }, [user, state, getProfile, logout, history]);\n\n  return (\n    <div className={styles[\"layout-default\"]}>\n      <div className={styles[\"layout-default__links-content\"]}>\n        <div className={styles[\"layout-default__links\"]}>\n          <Link\n            to=\"/\"\n            style={{\n              color: \"#2980b9\",\n              textDecoration: \"initial\",\n              fontSize: 23,\n            }}\n          >\n            Главная\n          </Link>\n          {user ? (\n            <Link\n              to=\"/user\"\n              style={{\n                color: \"#2980b9\",\n                textDecoration: \"initial\",\n                fontSize: 23,\n              }}\n            >\n              Мой профиль\n            </Link>\n          ) : (\n            <Link\n              to=\"/signin\"\n              style={{\n                  color: \"#2980b9\",\n                  textDecoration: \"initial\",\n                  fontSize: 23\n              }}\n            >\n              Войти\n            </Link>\n          )}\n        </div>\n      </div>\n      <div className={styles[\"layout-default__content\"]}>{props.children}</div>\n    </div>\n  );\n});\n\nexport default LayoutDefault;\n","// extracted by mini-css-extract-plugin\nexport default {\"signin-form\":\"SignInPage_signin-form__3wl2_\",\"phone-prefix\":\"SignInPage_phone-prefix__3JnqO\",\"phone\":\"SignInPage_phone__2A_oV\",\"password\":\"SignInPage_password__nOek4\",\"signin-container\":\"SignInPage_signin-container__1U01L\",\"signin-btn\":\"SignInPage_signin-btn__20twg\",\"alert\":\"SignInPage_alert__1DynZ\",\"fadein\":\"SignInPage_fadein__pdahR\",\"alert-success\":\"SignInPage_alert-success__3-gpr\",\"alert-error\":\"SignInPage_alert-error__2_XJ1\",\"has-error\":\"SignInPage_has-error__1R-V_\",\"shakeMe\":\"SignInPage_shakeMe__1mtk7\"};","import React from \"react\";\nimport { useState } from \"react\";\nimport VKButton from \"components/VKButton\";\nimport LayoutDefault from \"components/LayoutDefault\";\nimport Inputmask from \"inputmask\";\n\nimport styles from \"./SignInPage.module.scss\";\nimport UserStore from \"../../stores/UserStore\";\nimport { RouteComponentProps } from \"react-router\";\ninterface IProps extends RouteComponentProps {}\n\nconst SignInPage: React.FC<IProps> = (props) => {\n  // POST /auth/login\n  // POST /auth/login/vk\n\n  const [isError, setIsError] = useState(false);\n  const [errMessage, setErrMessage] = useState(\"\");\n\n  const [selectedPhone, setSelectedPhone] = useState(\"\");\n  const [selectedPassword, setSelectedPassword] = useState(\"\");\n\n  const [selectedAlert, setSelectedAlert] = useState(\"\" as any);\n\n  React.useEffect(() => {\n    // sessionStorage\n    if (!selectedAlert) {\n      const alert = sessionStorage.getItem(\"alert\");\n      setSelectedAlert(JSON.parse(alert));\n    }\n  }, [selectedAlert]);\n\n  React.useEffect(() => {\n    const existingSelectedPhone = sessionStorage.getItem(\"selectedPhone\");\n    if (existingSelectedPhone) {\n      sessionStorage.removeItem(\"selectedPhone\");\n      setSelectedPhone(existingSelectedPhone);\n    }\n    // react-input-mask\n    const phoneEl = document.querySelector(\".phone input\");\n    if (phoneEl) {\n      Inputmask({ mask: \"(999) 999-99-99\" }).mask(phoneEl);\n    }\n  }, [selectedPhone]);\n\n  const canChangePhone = () => {\n    return (\n      [\"+7\", selectedPhone].join(\"\").replace(/[()-]|_| /gi, \"\").length === 12\n    );\n  };\n  const canSignIn = () => {\n    return canChangePhone() && selectedPassword.trim();\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    handleSignIn();\n  };\n\n  const handleSignIn = () => {\n    if (canSignIn()) {\n      setIsError(false);\n      setErrMessage(\"\");\n\n      UserStore.signIn(selectedPhone.trim(), selectedPassword.trim())\n        .then((res) => {\n          // redirect\n          sessionStorage.removeItem(\"alert\");\n          props.history.push(\"/user\");\n        })\n        .catch((err) => {\n          setErrMessage(err.message || \"Ошибка при обновлении аккаунта\");\n          setIsError(true);\n        });\n    }\n  };\n\n  return (\n    <LayoutDefault>\n      <div className={styles[\"signin-page\"]}>\n        <div\n          className={`${isError ? styles[\"has-error\"] : \"\"} ${\n            styles[\"signin-form\"]\n          }`}\n        >\n          <div>\n            <h2>Sign In</h2>\n            {selectedAlert && (\n              <div className={`${styles[\"alert\"]} ${styles[\"alert-success\"]}`}>\n                {selectedAlert.text}\n              </div>\n            )}\n            {isError && (\n              <div className={`${styles[\"alert\"]} ${styles[\"alert-error\"]}`}>\n                {errMessage}\n              </div>\n            )}\n            <form onSubmit={handleSubmit}>\n              <div className={`phone ${styles[\"phone\"]}`}>\n                <label>\n                  {/*<span style={{marginBottom: 5, display: 'block', fontSize: 14}}>Phone</span>*/}\n                  <div style={{ overflow: \"hidden\" }}>\n                    <span className={styles[\"phone-prefix\"]}>+7</span>\n                    <input\n                      type=\"text\"\n                      value={selectedPhone}\n                      onChange={(event) => {\n                        setSelectedPhone(event.currentTarget.value);\n                      }}\n                      placeholder=\"(___) ___-__-__\"\n                    />\n                  </div>\n                </label>\n              </div>\n              <div className={styles[\"password\"]}>\n                <label>\n                  {/*<span style={{marginBottom: 5, display: 'block', fontSize: 14}}>Password</span>*/}\n                  <input\n                    type=\"password\"\n                    value={selectedPassword}\n                    onChange={(event) => {\n                      setSelectedPassword(event.currentTarget.value);\n                    }}\n                    placeholder=\"Password\"\n                  />\n                </label>\n              </div>\n              <div className={styles[\"signin-container\"]}>\n                <button\n                  className={styles[\"signin-btn\"]}\n                  disabled={!canSignIn}\n                  onClick={handleSignIn}\n                >\n                  Sign In\n                </button>\n              </div>\n            </form>\n\n            <VKButton /*buttonText=\"Register with VK\"*/ />\n            {/*\n                  // registration\n                  // request-confirmation-code\n                  // confirm-account\n                */}\n\n            <div style={{ textAlign: \"center\", marginBottom: 10 }}>\n              <span>\n                Forgot password? You may{\" \"}\n                <a\n                  href=\"/reset-password\"\n                  style={{ color: \"initial\", fontSize: 17 }}\n                >\n                  reset password\n                </a>\n                <br />\n              </span>\n              <span>\n                Don't have an account? Use{\" \"}\n                <a\n                  href=\"/registration\"\n                  style={{ color: \"initial\", cursor: \"pointer\", fontSize: 17 }}\n                >\n                  registration\n                </a>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </LayoutDefault>\n  );\n};\n\nexport default SignInPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"layout-user\":\"LayoutUser_layout-user__2-cjQ\"};","import React from \"react\";\n\nimport LayoutDefault from \"components/LayoutDefault\";\n\nimport styles from \"./LayoutUser.module.scss\";\n\ninterface IProps {}\n\nconst LayoutUser: React.FC<IProps> = (props) => {\n  return (\n    <LayoutDefault>\n      <div className={styles[\"layout-user\"]}>\n        <div className={styles[\"layout-user__main\"]}>\n          <div className={styles[\"layout-user__content\"]}>{props.children}</div>\n        </div>\n      </div>\n    </LayoutDefault>\n  );\n};\n\nexport default LayoutUser;\n","// extracted by mini-css-extract-plugin\nexport default {\"user-page\":\"UserPage_user-page__39J4X\",\"user-page__name\":\"UserPage_user-page__name__dOmPG\",\"user-page__email\":\"UserPage_user-page__email__3KoNX\",\"user-page__logout\":\"UserPage_user-page__logout__1lSzz\",\"user-page__avatar\":\"UserPage_user-page__avatar__R1YLC\",\"first-name\":\"UserPage_first-name__1WXzY\",\"last-name\":\"UserPage_last-name__3xQ_s\",\"password\":\"UserPage_password__2J90_\",\"phone-prefix\":\"UserPage_phone-prefix__SnFmw\",\"phone\":\"UserPage_phone__A3oi1\",\"email\":\"UserPage_email__JUiyz\",\"update-profile-container\":\"UserPage_update-profile-container__27FQJ\",\"update-profile-btn\":\"UserPage_update-profile-btn__3TV5R\",\"alert\":\"UserPage_alert__2f-sq\",\"fadein\":\"UserPage_fadein__2jEZB\",\"alert-success\":\"UserPage_alert-success__2Eb-o\",\"alert-error\":\"UserPage_alert-error__YIXPP\"};","import React from \"react\";\nimport { useState } from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport Inputmask from \"inputmask\";\nimport LayoutUser from \"components/LayoutUser\";\n\nimport UserStore from \"stores/UserStore\";\n\nimport styles from \"./UserPage.module.scss\";\n\ninterface IProps extends RouteComponentProps {\n  UserStore: typeof UserStore;\n}\n\nconst UserPage: React.FC<IProps> = (props) => {\n  // GET /users/profile\n  // POST /users/\n\n  const { state, user } = props.UserStore;\n  const [isError, setIsError] = useState(false);\n  const [errMessage, setErrMessage] = useState(\"\");\n\n  const [selectedAlert, setSelectedAlert] = useState(\"\" as any);\n  const [useUpdateUser, setUseUpdateUser] = useState(false);\n\n  const [selectedFirstName, setSelectedFirstName] = useState(\"\");\n  const [selectedLastName, setSelectedLastName] = useState(\"\");\n\n  React.useEffect(() => {\n    const token = sessionStorage.getItem(\"token\");\n    // eslint-disable-next-line no-console\n    console.log(token);\n    if (!token) {\n      return props.history.push(\"/signin\");\n    }\n\n    if (sessionStorage.getItem(\"alert\")) {\n      const alert = sessionStorage.getItem(\"alert\");\n      sessionStorage.removeItem(\"alert\");\n      setSelectedAlert(JSON.parse(alert));\n    }\n    if (!user) {\n      UserStore.getProfile().then((res: any) => {\n        setSelectedFirstName(res.first_name);\n        setSelectedLastName(res.last_name);\n      });\n    }\n    if (!useUpdateUser) {\n      const hasUseUpdateUser = sessionStorage.getItem(\"useUpdateUser\");\n      if (hasUseUpdateUser) {\n        sessionStorage.removeItem(\"hasUseUpdateUser\");\n        setUseUpdateUser(true);\n      }\n    }\n    if (useUpdateUser) {\n      // setUseUpdateUser(false);\n      UserStore.getProfile().then((res: any) => {\n        setSelectedFirstName(res.first_name);\n        setSelectedLastName(res.last_name);\n      });\n    }\n\n    const phoneEl = document.querySelector(\".phone input\");\n    if (phoneEl) {\n      Inputmask({ mask: \"(999) 999-99-99\" }).mask(phoneEl);\n    }\n  }, [useUpdateUser]);\n\n  const handleLogout = () => {\n    UserStore.logout();\n    props.history.push(\"/signin\");\n  };\n\n  // if (state === RequestState.ERROR) return <p>Erorr</p>;\n  //\n  // if (state !== RequestState.SUCCESS) {\n  //   return (\n  //     <LayoutUser>\n  //       <p>Loading...</p>\n  //     </LayoutUser>\n  //   );\n  // }\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    const uploadBtn: any = document.querySelector(\".file\");\n    uploadBtn.focus();\n    uploadBtn.click();\n  };\n\n  let file;\n  const onFileChange = (fileChangeEvent) => {\n    file = fileChangeEvent.target.files[0];\n\n    const formData = new FormData();\n    formData.append(\"file\", file, file.name);\n\n    const userId = user.id;\n\n    UserStore.uploadImage(userId, formData).then(() => {\n      return UserStore.getProfile();\n    });\n  };\n\n  const canUpdateProfile = () => {\n    return selectedFirstName.trim() && selectedLastName.trim();\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    handleUpdateProfile();\n  };\n\n  const handleUpdateProfile = () => {\n    if (canUpdateProfile()) {\n      setIsError(false);\n      setErrMessage(\"\");\n\n      UserStore.updateProfile(\n        user.id,\n        selectedFirstName.trim(),\n        selectedLastName.trim()\n      )\n        .then((/* res */) => {\n          // redirect\n          sessionStorage.removeItem(\"alert\");\n\n          sessionStorage.setItem(\n            \"alert\",\n            JSON.stringify({\n              text: \"Profile successfully updated!\",\n            })\n          );\n          const alert = sessionStorage.getItem(\"alert\");\n          sessionStorage.removeItem(\"alert\");\n          setSelectedAlert(JSON.parse(alert));\n\n          // props.history.push(\"/user\");\n        })\n        .catch((err) => {\n          setErrMessage(err.message || \"Ошибка при обновлении аккаунта\");\n          setIsError(true);\n        });\n    }\n  };\n\n  return (\n    <LayoutUser>\n      {user && (\n        <div className={styles[\"user-page\"]}>\n          {(user && user.avatar_url && (\n            <img\n              onClick={handleClick}\n              src={\n                user.avatar_url.indexOf(\"/avatars/\") > 0\n                  ? [\n                      process.env.REACT_APP_API_HOST,\n                      \"/avatars/\",\n                      user.avatar_url.split(\"/avatars/\")[1],\n                    ].join(\"\")\n                  : user.avatar_url\n              }\n              alt=\"vk avatar\"\n              className={styles[\"user-page__avatar\"]}\n            />\n          )) || (\n            <img\n              onClick={handleClick}\n              src=\"/default-avatar.png\"\n              alt=\"vk avatar\"\n              className={styles[\"user-page__avatar\"]}\n            />\n          )}\n          {selectedAlert && (\n            <div className={`${styles[\"alert\"]} ${styles[\"alert-success\"]}`}>\n              {selectedAlert.text}\n            </div>\n          )}\n          {isError && (\n            <div className={`${styles[\"alert\"]} ${styles[\"alert-error\"]}`}>\n              {errMessage}\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit}>\n            {user && (\n              <div className={styles[\"first-name\"]}>\n                <label>\n                  <span>First Name</span>\n                  <input\n                    type=\"text\"\n                    placeholder=\"First Name\"\n                    value={selectedFirstName}\n                    onChange={(event) => {\n                      setSelectedFirstName(event.currentTarget.value);\n                    }}\n                  />\n                </label>\n              </div>\n            )}\n\n            {user && (\n              <div className={styles[\"last-name\"]}>\n                <label>\n                  <span>Last Name</span>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Last Name\"\n                    value={selectedLastName}\n                    onChange={(event) => {\n                      setSelectedLastName(event.currentTarget.value);\n                    }}\n                  />\n                </label>\n              </div>\n            )}\n\n            <div className={styles[\"password\"]}>\n              <label>\n                <span>Password</span>\n                <input\n                  type=\"text\"\n                  placeholder=\"Password\"\n                  disabled={true}\n                  value=\"Password hidden\"\n                />\n                <a href=\"/change-password\">Change password</a>\n              </label>\n            </div>\n\n            {user && (\n              <div className={`phone ${styles[\"phone\"]}`}>\n                <label>\n                  <span>Phone</span>\n                  {/*<span style={{marginBottom: 5, display: 'block', fontSize: 14}}>Phone</span>*/}\n                  <span className={styles[\"phone-prefix\"]}>+7</span>\n                  <input\n                    type=\"text\"\n                    value={user.phone && user.phone.replace(\"+7\", \"\")}\n                    disabled={true}\n                    placeholder={\n                      (user.phone && user.phone.replace(\"+7\", \"\")) ||\n                      \"Phone not attached\"\n                    }\n                  />\n                  <a href=\"/change-phone\">Change phone</a>\n                </label>\n              </div>\n            )}\n            {user && (\n              <div className={styles[\"email\"]}>\n                <label>\n                  <span>Email</span>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Email\"\n                    disabled={true}\n                    value={user.email || \"Email not attached\"}\n                  />\n                  <a href=\"/change-email\">Change email</a>\n                </label>\n              </div>\n            )}\n          </form>\n\n          <div className={styles[\"update-profile-container\"]}>\n            <button\n              className={styles[\"update-profile-btn\"]}\n              style={{ padding: 10 }}\n              onClick={handleUpdateProfile}\n            >\n              Обновить профиль\n            </button>\n          </div>\n\n          <button\n            onClick={handleLogout}\n            className={styles[\"user-page__logout\"]}\n          >\n            {\" \"}\n            Выйти{\" \"}\n          </button>\n          <br />\n          <br />\n\n          <input\n            className=\"file\"\n            style={{ display: \"none\" }}\n            type=\"file\"\n            onChange={(ev) => onFileChange(ev)}\n          />\n          {/*<button color=\"primary\" onClick={submitForm}> Upload Single</button>*/}\n        </div>\n      )}\n    </LayoutUser>\n  );\n};\n\nexport default inject(\"UserStore\")(withRouter(observer(UserPage)));\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\n\nimport { useStores } from \"stores/useStores\";\nimport { IUser } from \"stores/UserStore\";\n\nimport LayoutDefault from \"components/LayoutDefault\";\n\nconst HomePage = observer(() => {\n  const user: IUser = useStores()[\"UserStore\"].user;\n\n  return (\n    <LayoutDefault>\n      <h1>Home Page</h1>\n      <br />\n      {user && (\n        <div style={{ fontSize: 24 }}>\n          <p>\n            О привет, {user.first_name} {user.last_name}\n          </p>\n          <br />\n          <a style={{ color: \"#dedede\" }} href=\"#\">\n            Основная админка: выбор школы для класса\n          </a>{\" \"}\n          <a style={{ color: \"#dedede\" }} href=\"/create-class-area\">(создание школы)</a>{\" \"}\n          <a style={{ color: \"#dedede\" }} href=\"/create-class-page\">(создание класса)</a>\n          <br />\n          <a style={{ color: \"initial\" }} href=\"/list-users\">\n            Основная админка: назначение класса ученику внутри списка учеников\n          </a>{\" \"}\n          <a style={{ color: \"#dedede\" }} href=\"#\">(создание ученика)</a>\n          <br />\n          <br />\n          <a\n            style={{ color: \"initial\" }}\n            href=\"/schedule-control-point-per-school-class\"\n          >\n            Объединенный журнал классов: выбор контрольной точки среди timeline контрольных точек\n          </a>\n          <br />\n          <span style={{color: '#dedede'}}>Управление контрольной точкой</span>{\" \"}\n          <span style={{color: '#dedede'}}>(создание контрольной точки)</span><br />\n\n          <a\n            style={{ color: \"initial\" }}\n            href=\"#\"\n          >\n            Журнал класса: контрольные точки и прикрепленные домашние задания\n          </a><br />\n\n          <a style={{color: '#dedede'}} href=\"#\">\n            Статус домашних работ по контрольным точкам среди Timeline\n          </a>\n          <br />\n          <span style={{color: '#dedede'}}>Выбор домашнего задания</span>\n          <br/>\n\n          <a\n            style={{ color: \"initial\" }}\n            href=\"#\"\n          >\n            Журнал класса: список учеников\n          </a>\n\n          <br />\n          <br />\n          <a style={{color: '#dedede'}} href=\"#\">\n            Открыть чат с учеником\n          </a>\n          <br />\n          <span style={{color: '#dedede'}}>\n            Написать сообщение по контрольной точке\n          </span>\n          <br />\n          <span style={{color: '#dedede'}}>\n            Прикрепить домашнее задание по контрольной точке\n          </span>\n          <br />\n          <span style={{color: '#dedede'}}>\n            Прикрепить оценку к домашней работе\n          </span>\n\n          <br/><br/>\n\n          <a style={{color: '#dedede'}} href=\"#\">\n            Открыть чат с учителем\n          </a>\n        </div>\n      )}\n    </LayoutDefault>\n  );\n});\n\nexport default HomePage;\n","// extracted by mini-css-extract-plugin\nexport default {\"user-page\":\"ListUsersPage_user-page__Urpbe\",\"user-page__name\":\"ListUsersPage_user-page__name__1llUF\",\"user-page__email\":\"ListUsersPage_user-page__email__1HrPT\",\"user-page__logout\":\"ListUsersPage_user-page__logout__2IEcG\",\"user-page__avatar\":\"ListUsersPage_user-page__avatar__3ewaz\",\"list-user\":\"ListUsersPage_list-user__3hGHj\"};","import React from \"react\";\nimport { useState } from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\n\nimport LayoutUser from \"components/LayoutUser\";\n// import Select from \"react-select\";\nimport { RequestState } from \"types/RequestState\";\nimport UserStore from \"stores/UserStore\";\n\nimport styles from \"./ListUsersPage.module.scss\";\nimport { isEmptyObj } from \"../../helpers/isEmptyObj\";\n\ninterface IProps extends RouteComponentProps {\n  UserStore: typeof UserStore;\n}\n\nconst ListUsersPage: React.FC<IProps> = (props) => {\n  // GET /users\n  // PUT /users\n\n  const {\n    state,\n    user,\n    users,\n    usersPagination,\n    schoolAreas,\n    schoolClasses,\n  } = props.UserStore;\n  const [isError, setIsError] = useState(false);\n\n  const [availableSchoolAreas, setAvailableSchoolAreas] = useState({});\n  const [\n    availableSchoolClassesPerUserAndSchoolArea,\n    setAvailableSchoolClassesPerUserAndSchoolArea,\n  ] = useState({});\n\n  const [selectedSchoolArea, setSelectedSchoolArea] = useState({});\n  const [selectedSchoolClass, setSelectedSchoolClass] = useState({});\n\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(2);\n\n  // handleGoToControlPointMessages\n\n  React.useEffect(() => {\n    const token = sessionStorage.getItem(\"token\");\n    // console.log(token);\n    if (!token) {\n      return props.history.push(\"/signin\");\n    }\n\n    if (!user) {\n      UserStore.getProfile();\n    }\n    if (!users) {\n      UserStore.getAllUsers(page, perPage).then((res) => {\n        const newSelectedSchoolArea = JSON.parse(\n          JSON.stringify(selectedSchoolArea)\n        );\n\n        res.map((user) => {\n          if (user.schoolArea) {\n            newSelectedSchoolArea[user.id] = {\n              value: user.schoolArea.id,\n              label: user.schoolArea.school_area,\n            };\n          }\n        });\n        setSelectedSchoolArea(newSelectedSchoolArea);\n\n        // schoolClass\n        const newSelectedSchoolClass = JSON.parse(\n          JSON.stringify(selectedSchoolClass)\n        );\n\n        res.map((user) => {\n          if (user.schoolClass) {\n            newSelectedSchoolClass[user.id] = {\n              value: user.schoolClass.id,\n              label: user.schoolClass.school_class,\n            };\n          }\n        });\n        setSelectedSchoolClass(newSelectedSchoolClass);\n      });\n    }\n    if (users && !schoolAreas) {\n      UserStore.getSchoolAreas().then((res) => {\n        const newAvailableSchoolAreas = {};\n        users.map((user) => {\n          newAvailableSchoolAreas[user.id] = JSON.parse(\n            JSON.stringify(res)\n          ).map((item) => {\n            return {\n              value: item.id,\n              label: item.school_area,\n            };\n          });\n        });\n        setAvailableSchoolAreas(newAvailableSchoolAreas);\n      });\n    }\n    if (users && !schoolClasses) {\n      UserStore.getSchoolClasses().then((res) => {\n        const newAvailableSchoolClassesPerUserAndSchoolArea = {};\n        users.map((user) => {\n          newAvailableSchoolClassesPerUserAndSchoolArea[user.id] = JSON.parse(\n            JSON.stringify(res)\n          )\n            .filter((schoolClass) => {\n              if (selectedSchoolArea[user.id]) {\n                return selectedSchoolArea[user.id].value === schoolClass.schoolArea.id;\n              }\n              return true;\n            })\n            .map((item) => {\n              return {\n                value: item.id,\n                label: item.school_class,\n              };\n            });\n        });\n        setAvailableSchoolClassesPerUserAndSchoolArea(\n          newAvailableSchoolClassesPerUserAndSchoolArea\n        );\n      });\n    }\n  }, [\n    schoolAreas,\n    schoolClasses,\n    availableSchoolAreas,\n    availableSchoolClassesPerUserAndSchoolArea,\n    selectedSchoolArea,\n    selectedSchoolClass,\n    user,\n    users,\n    schoolAreas,\n    schoolClasses,\n  ]);\n\n  const renderRow = (user) => {\n    const handleChange1 = (sO) => {\n      const newSelectedSchoolArea = JSON.parse(\n        JSON.stringify(selectedSchoolArea)\n      );\n      newSelectedSchoolArea[user.id] = availableSchoolAreas[user.id].filter((item)=>{ return item.value === Number(sO.currentTarget.value)})[0];\n      setSelectedSchoolArea(newSelectedSchoolArea);\n\n      const newAvailableSchoolClassesPerUserAndSchoolArea = {};\n      users.map((user) => {\n        newAvailableSchoolClassesPerUserAndSchoolArea[user.id] = JSON.parse(\n          JSON.stringify(schoolClasses)\n        )\n          .filter((schoolClass) => {\n            if (newSelectedSchoolArea[user.id]) {\n              return (\n                newSelectedSchoolArea[user.id].value ===\n                schoolClass.schoolArea.id\n              );\n            }\n            return true;\n          })\n          .map((item) => {\n            return {\n              value: item.id,\n              label: item.school_class,\n            };\n          });\n      });\n      setAvailableSchoolClassesPerUserAndSchoolArea(\n        newAvailableSchoolClassesPerUserAndSchoolArea\n      );\n\n      const newSelectedSchoolClass = JSON.parse(\n        JSON.stringify(selectedSchoolClass)\n      );\n      newSelectedSchoolClass[user.id] = { value: \"\", label: \"\" };\n      setSelectedSchoolClass(newSelectedSchoolClass);\n    };\n\n    const handleChange2 = (sO) => {\n      const newSelectedSchoolClass = JSON.parse(\n        JSON.stringify(selectedSchoolClass)\n      );\n      newSelectedSchoolClass[user.id] = availableSchoolClassesPerUserAndSchoolArea[user.id].filter((item)=>{ return item.value === Number(sO.currentTarget.value) })[0];\n      setSelectedSchoolClass(newSelectedSchoolClass);\n    };\n\n    const handleUpdate = () => {\n      // user\n      const userModel = {\n        id: user.id,\n        vk_id: user.vk_id,\n        name: user.name,\n        email: user.email,\n        grant: user.grant,\n        avatar_url: user.avatar_url,\n        school_area_id: selectedSchoolArea[user.id].value,\n        school_class_id: selectedSchoolClass[user.id].value,\n      };\n\n      UserStore.updateUser(userModel)\n        .then((res) => {})\n        .catch(() => setIsError(true));\n    };\n\n    if (availableSchoolAreas) {\n      // keep\n    } else {\n      return;\n    }\n    if (availableSchoolClassesPerUserAndSchoolArea) {\n      // keep\n    } else {\n      return;\n    }\n    if (selectedSchoolArea) {\n      // keep\n    } else {\n      return;\n    }\n    if (setSelectedSchoolClass) {\n      // keep\n    } else {\n      return;\n    }\n\n    return (\n      <tr key={user[\"vk_id\"]}>\n        <td style={{ width: 100 }}>{user[\"vk_id\"]}</td>\n        <td style={{ width: 200, textAlign: \"left\" }}>\n          {user.first_name} {user.last_name}\n          <br />{\" \"}\n          <a style={{ color: \"#2980b9\" }} href={`/dialog/${user.id}`}>\n            Перейти к чату\n          </a>\n        </td>\n        <td>\n          <div style={{ width: 100 }}>\n            <img style={{ width: 50, height: 50 }} src={user[\"avatar_url\"]} />\n          </div>\n        </td>\n        <td style={{ width: 200, paddingRight: 10 }}>\n          <select\n            style={{\n              width: 245,\n              paddingTop: 10,\n              paddingBottom: 10,\n              paddingLeft: 20,\n              paddingRight: 20,\n              padding: 10,\n              fontSize: 17,\n            }}\n            value={selectedSchoolArea[user.id] && selectedSchoolArea[user.id].value || \"\"}\n            onChange={(event) => {\n              handleChange1(event);\n            }}\n          >\n            <option value=\"\">Not selected</option>\n            {availableSchoolAreas[user.id] &&\n            Object.keys(availableSchoolAreas[user.id]).map((key) => {\n              const item = availableSchoolAreas[user.id][key];\n              return <option value={item.value}>{item.label}</option>;\n            })}\n          </select>\n        </td>\n        <td style={{ width: 200, paddingRight: 10 }}>\n\n          <select\n            style={{\n              width: 245,\n              paddingTop: 10,\n              paddingBottom: 10,\n              paddingLeft: 20,\n              paddingRight: 20,\n              padding: 10,\n              fontSize: 17,\n            }}\n            value={selectedSchoolClass[user.id] && selectedSchoolClass[user.id].value || \"\"}\n            onChange={(event) => {\n              handleChange2(event)\n            }}\n          >\n            <option value=\"\">Not selected</option>\n            { availableSchoolClassesPerUserAndSchoolArea[user.id] && Object.keys(availableSchoolClassesPerUserAndSchoolArea[user.id]).map((key) => {\n              const item = availableSchoolClassesPerUserAndSchoolArea[user.id][key];\n              return <option value={item.value}>{item.label}</option>;\n            })}\n          </select>\n        </td>\n        <td>\n          <button onClick={handleUpdate} style={{ padding: 10 }}>\n            Обновить\n          </button>\n        </td>\n      </tr>\n    );\n  };\n\n  if (state === RequestState.ERROR) {\n    return <p>Erorr</p>;\n  }\n\n  if (state !== RequestState.SUCCESS) {\n    return (\n      <LayoutUser>\n        <p>Loading...</p>\n      </LayoutUser>\n    );\n  }\n\n  const changePage = (event) => {\n    const page = Number(event.currentTarget.text);\n    setPage(page);\n    UserStore.setUsers(null);\n    UserStore.setUsersPagination(null);\n  };\n  const changePerPage = (event) => {\n    const per_page = Number(event.currentTarget.value);\n    setPerPage(per_page);\n    UserStore.setUsers(null);\n    UserStore.setUsersPagination(null);\n  };\n\n  return (\n    <LayoutUser>\n      <h2 style={{ textAlign: \"center\" }}>\n        Назначение класса ученику внутри списка учеников\n      </h2>\n      <br />\n\n      {users && schoolAreas && schoolClasses && (\n        <table className={styles[\"list-user\"]} style={{ marginBottom: 40 }}>\n          <thead style={{ textAlign: \"left\" }}>\n            <tr>\n              <th>Vk ID</th>\n              <th>Фамилия и имя</th>\n              <th>Аватар</th>\n              <th>Школа</th>\n              <th>Класс</th>\n              <th>Обновить</th>\n            </tr>\n          </thead>\n          <tbody>\n            {users.map((user) => {\n              return renderRow(user);\n            })}\n          </tbody>\n        </table>\n      )}\n      {users && (\n        <div>\n          <div style={{ marginBottom: 20 }}>\n            <span>На странице: </span>\n            <select\n              value={perPage}\n              onChange={changePerPage}\n              style={{ padding: 10, fontSize: 14 }}\n            >\n              {[2, 5, 10, 25, 50, 100].map((x, i) => {\n                return <option key={x}>{x}</option>;\n              })}\n            </select>\n          </div>\n          <div>\n            <span>Страница: </span>\n            {[...Array(usersPagination.total_pages)].map((x, i) => {\n              if (usersPagination.page === i + 1) {\n                return (\n                  <span style={{ marginRight: 10, textDecoration: \"initial\" }}>\n                    {i + 1}\n                  </span>\n                );\n              } else {\n                return (\n                  <a\n                    onClick={changePage}\n                    href=\"#\"\n                    style={{\n                      marginRight: 10,\n                      textDecoration: \"initial\",\n                      color: \"#2980b9\",\n                      cursor: \"pointer\",\n                    }}\n                  >\n                    {i + 1}\n                  </a>\n                );\n              }\n            })}\n          </div>\n        </div>\n      )}\n      {isError && <p style={{ color: \"red\" }}>Ошибка обновления</p>}\n    </LayoutUser>\n  );\n};\n\nexport default inject(\"UserStore\")(withRouter(observer(ListUsersPage)));\n","import React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\n\nimport LayoutUser from \"components/LayoutUser\";\n\nimport { RequestState } from \"types/RequestState\";\nimport UserStore from \"stores/UserStore\";\n\nimport styles from \"./CreateClassArea.module.scss\";\n\ninterface IProps extends RouteComponentProps {\n  UserStore: typeof UserStore;\n}\n\nconst CreateClassArea: React.FC<IProps> = (props) => {\n  const { state, user, users } = props.UserStore;\n\n  React.useEffect(() => {\n    const token = sessionStorage.getItem(\"token\");\n    // eslint-disable-next-line no-console\n    console.log(token);\n    if (!token) {\n      return this.props.history.push(\"/signin\");\n    }\n  });\n\n  if (state === RequestState.ERROR) {\n    return <p>Erorr</p>;\n  }\n\n  if (state !== RequestState.SUCCESS) {\n    return (\n      <LayoutUser>\n        <p>Loading...</p>\n      </LayoutUser>\n    );\n  }\n\n  return (\n    <LayoutUser>\n      <h2 style={{ textAlign: \"center\" }}>Создать школу</h2>\n      <br />\n      <input\n        type=\"text\"\n        placeholder=\"Школа\"\n        style={{ padding: 10, fontSize: 18, marginBottom: 20 }}\n      />\n      <br />\n\n      <button style={{ padding: 10 }}>Создать</button>\n    </LayoutUser>\n  );\n};\n\nexport default inject(\"UserStore\")(withRouter(observer(CreateClassArea)));\n","import React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\n\nimport LayoutUser from \"components/LayoutUser\";\n\nimport { RequestState } from \"types/RequestState\";\nimport UserStore from \"stores/UserStore\";\n\nimport styles from \"./CreateClassPage.module.scss\";\nimport { isEmptyObj } from \"../../helpers/isEmptyObj\";\n\ninterface IProps extends RouteComponentProps {\n  UserStore: typeof UserStore;\n}\n\nconst CreateClassPage: React.FC<IProps> = (props) => {\n  const { state, user, users } = props.UserStore;\n\n  React.useEffect(() => {\n    const token = sessionStorage.getItem(\"token\");\n    // eslint-disable-next-line no-console\n    console.log(token);\n    if (!token) {\n      return this.props.history.push(\"/signin\");\n    }\n  });\n\n  if (state === RequestState.ERROR) {\n    return <p>Erorr</p>;\n  }\n\n  if (state !== RequestState.SUCCESS) {\n    return (\n      <LayoutUser>\n        <p>Loading...</p>\n      </LayoutUser>\n    );\n  }\n\n  return (\n    <LayoutUser>\n      <h2 style={{ textAlign: \"center\" }}>Создать школу и класс</h2>\n      <br />\n      <input\n        type=\"text\"\n        placeholder=\"Школа\"\n        style={{ padding: 10, fontSize: 18, marginBottom: 10 }}\n      />\n      <br />\n      <input\n        type=\"text\"\n        placeholder=\"Класс\"\n        style={{ padding: 10, fontSize: 18, marginBottom: 20 }}\n      />\n      <br />\n\n      <button style={{ padding: 10 }}>Создать</button>\n    </LayoutUser>\n  );\n};\n\nexport default inject(\"UserStore\")(withRouter(observer(CreateClassPage)));\n","// extracted by mini-css-extract-plugin\nexport default {\"selected-calendar-date-container\":\"ScheduleControlPointPerSchoolClassPage_selected-calendar-date-container__1ywcV\",\"fadein\":\"ScheduleControlPointPerSchoolClassPage_fadein__2Tojd\",\"schedule-table-container\":\"ScheduleControlPointPerSchoolClassPage_schedule-table-container__3CYEG\",\"schedule-table\":\"ScheduleControlPointPerSchoolClassPage_schedule-table__2p_hu\",\"duration-rectangle\":\"ScheduleControlPointPerSchoolClassPage_duration-rectangle__1sIcD\",\"day-time-window-header\":\"ScheduleControlPointPerSchoolClassPage_day-time-window-header__38kYz\",\"day-time-window-header_hours-2\":\"ScheduleControlPointPerSchoolClassPage_day-time-window-header_hours-2__3fN3C\",\"day-time-window-header_hours-3\":\"ScheduleControlPointPerSchoolClassPage_day-time-window-header_hours-3__-yyDa\",\"day-time-window-header_hours-4\":\"ScheduleControlPointPerSchoolClassPage_day-time-window-header_hours-4__3Fl0U\",\"day-time-window-header_hours-6\":\"ScheduleControlPointPerSchoolClassPage_day-time-window-header_hours-6__pZep_\",\"day-time-window-body\":\"ScheduleControlPointPerSchoolClassPage_day-time-window-body__207uu\",\"day-time-window-body_hours-2\":\"ScheduleControlPointPerSchoolClassPage_day-time-window-body_hours-2__3AOrn\",\"day-time-window-body_hours-3\":\"ScheduleControlPointPerSchoolClassPage_day-time-window-body_hours-3__1l2k3\",\"day-time-window-body_hours-4\":\"ScheduleControlPointPerSchoolClassPage_day-time-window-body_hours-4__1D8vy\",\"day-time-window-body_hours-6\":\"ScheduleControlPointPerSchoolClassPage_day-time-window-body_hours-6__1sTgc\",\"update-control-point-container\":\"ScheduleControlPointPerSchoolClassPage_update-control-point-container__2QtTk\",\"update-control-point-btn\":\"ScheduleControlPointPerSchoolClassPage_update-control-point-btn__2OkjU\",\"alert\":\"ScheduleControlPointPerSchoolClassPage_alert__107R0\",\"alert-success\":\"ScheduleControlPointPerSchoolClassPage_alert-success__1el1Q\",\"alert-error\":\"ScheduleControlPointPerSchoolClassPage_alert-error__3gZrj\",\"has-error\":\"ScheduleControlPointPerSchoolClassPage_has-error__2JXVO\",\"shakeMe\":\"ScheduleControlPointPerSchoolClassPage_shakeMe__23_WM\",\"form-control-point\":\"ScheduleControlPointPerSchoolClassPage_form-control-point__JNx8M\",\"calendar-container\":\"ScheduleControlPointPerSchoolClassPage_calendar-container__2pPmD\"};","import React from \"react\";\nimport { useState } from \"react\";\nimport { RouteComponentProps, withRouter } from \"react-router\";\nimport UserStore from \"../../stores/UserStore\";\nimport LayoutUser from \"../../components/LayoutUser\";\nimport styles from \"./ScheduleControlPointPerSchoolClassPage.module.scss\";\nimport { inject, observer } from \"mobx-react\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\nimport \"./ScheduleControlPointPerSchoolClassPage.module.scss\";\nimport \"./Calendar.css\";\n\nimport DateTimePicker from \"react-datetime-picker\";\n\ninterface IProps extends RouteComponentProps {\n  UserStore: typeof UserStore;\n}\n\nconst ScheduleControlPointsPerSchoolClassPage: React.FC<IProps> = (props) => {\n  // POST /school-class\n  // GET /control-point\n  // PUT /control-point\n\n  // school-area, school-class\n  // control_point\n  // homework_attachments\n  // control_point_grade\n\n  // handleClickControlPoint\n  // handleUpdateControlPoint\n\n  // handleGoToControlPointMessages\n\n  // handleClickHomeworkAttachment\n  const { state, schoolClasses, controlPoints } = props.UserStore;\n  const [isError, setIsError] = useState(false);\n  const [errMessage, setErrMessage] = useState(\"\");\n\n  const [weekDays, setWeekDays] = useState(null);\n\n  const [selectedHours /*, setSelectedHours*/] = useState(4);\n\n  const [\n    controlPointsPerSchoolClass,\n    setControlPointsPerSchoolClass,\n  ] = useState({});\n\n  const [periodStartsAt, setPeriodStartsAt] = useState(\"\");\n  const [periodEndsAt, setPeriodEndsAt] = useState(\"\");\n\n  const [calendarWeekdaysCount, setCalendarWeekdaysCount] = useState(null);\n\n  const [selectedWeekIndex, setSelectedWeekIndex] = useState(null);\n\n  const [selectedControlPointId, setSelectedControlPointId] = useState(null);\n  const [\n    selectedControlPointThemeName,\n    setSelectedControlPointThemeName,\n  ] = useState(\"\");\n  const [\n    selectedControlPointHomeworkDescription,\n    setSelectedControlPointHomeworkDescription,\n  ] = useState(\"\");\n  const [\n    selectedControlPointOpensAt,\n    setSelectedControlPointOpensAt,\n  ] = useState(\"\");\n  const [\n    selectedControlPointClosesAt,\n    setSelectedControlPointClosesAt,\n  ] = useState(\"\");\n\n  const [selectedControlPointGrade, setSelectedControlPointGrade] = useState(\n    \"\"\n  );\n  const [selectedControlPointStatus, setSelectedControlPointStatus] = useState(\n    \"\"\n  );\n\n  const [\n    selectedControlPointHandledBy,\n    setSelectedControlPointHandledBy,\n  ] = useState(\"\");\n  const [\n    selectedControlSchoolArea,\n    setSelectedControlPointSchoolArea,\n  ] = useState(\"\");\n  const [\n    selectedControlPointSchoolClass,\n    setSelectedControlPointSchoolClass,\n  ] = useState(\"\");\n\n  const [\n    selectedControlPointSchoolAreaAvailableOptions,\n    setSelectedControlPointAreaAvailableOptions,\n  ] = useState({});\n  const [\n    selectedControlPointSchoolClassPerSchoolAreaAvailableOptions,\n    setSelectedControlPointSchoolClassPerSchoolAreaAvailableOptions,\n  ] = useState({});\n\n  const [startTimePerControlPoints, setStartTimePerControlPoints] = useState(\n    \"\"\n  );\n  const [endTimePerControlPoints, setEndTimePerControlPoints] = useState(\"\");\n\n  const [selectedCurrentDate, setSelectedCurrentDate] = useState(new Date());\n\n  const [useUpdateControlPoints, setUseUpdateControlPoints] = useState(false);\n  const [useUpdateWeekdays, setUseUpdateWeekdays] = useState(false);\n\n  const [\n    useUpdateCalendarWeekdaysCount,\n    setUseUpdateCalendarWeekdaysCount,\n  ] = useState(false);\n\n  const [listControlPointHandledBy, setListControlPointHandledBy] = useState(\n    {}\n  );\n\n  const [selectedAlert, setSelectedAlert] = useState(\"\" as any);\n\n  const updateSelectedControlPointAreaAvailableOptions = () => {\n    const newSelectedControlPointAreaAvailableOptions = {};\n    schoolClasses.map((item) => {\n      if (!newSelectedControlPointAreaAvailableOptions[item.schoolArea.id]) {\n        newSelectedControlPointAreaAvailableOptions[item.schoolArea.id] =\n          item.schoolArea.school_area;\n      }\n    });\n    setSelectedControlPointAreaAvailableOptions(\n      newSelectedControlPointAreaAvailableOptions\n    );\n  };\n\n  const updateSelectedControlPointSchoolClassPerSchoolAreaAvailableOptions = (\n    currentSchoolAreaId\n  ) => {\n    const newSelectedControlPointSchoolClassPerSchoolAreaAvailableOptions = {};\n    schoolClasses\n      .filter((item) => {\n        return item.schoolArea.id === currentSchoolAreaId;\n      })\n      .map((item) => {\n        if (\n          !newSelectedControlPointSchoolClassPerSchoolAreaAvailableOptions[\n            item.id\n          ]\n        ) {\n          newSelectedControlPointSchoolClassPerSchoolAreaAvailableOptions[\n            item.id\n          ] = item.school_class;\n        }\n      });\n    setSelectedControlPointSchoolClassPerSchoolAreaAvailableOptions(\n      newSelectedControlPointSchoolClassPerSchoolAreaAvailableOptions\n    );\n  };\n\n  const updateSelectedControlPoint = (item) => {\n    setSelectedControlPointId(item.id);\n    setSelectedControlPointThemeName(item.theme_name);\n    setSelectedControlPointHomeworkDescription(item.homework_description);\n    setSelectedControlPointOpensAt(item.control_point_opens);\n    setSelectedControlPointClosesAt(item.control_point_closes);\n\n    setSelectedControlPointGrade(item.control_point_grade);\n    setSelectedControlPointStatus(item.control_point_status);\n\n    const newListControlPointHandledBy: any = JSON.parse(\n      JSON.stringify(listControlPointHandledBy)\n    );\n    newListControlPointHandledBy[item.controlPointHandledBy.id] =\n      item.controlPointHandledBy;\n    setListControlPointHandledBy(newListControlPointHandledBy);\n\n    setSelectedControlPointHandledBy(item.controlPointHandledBy.id);\n    setSelectedControlPointSchoolArea(item.schoolArea.id);\n    setSelectedControlPointSchoolClass(item.schoolClass.id);\n\n    const currentSchoolAreaId = item.schoolArea.id;\n\n    updateSelectedControlPointAreaAvailableOptions();\n    updateSelectedControlPointSchoolClassPerSchoolAreaAvailableOptions(\n      currentSchoolAreaId\n    );\n  };\n\n  const updateWeekdaysCount = () => {\n    const weekdaysEl = document.querySelector(\n      \".react-calendar__month-view__days\"\n    );\n    if (weekdaysEl) {\n      setCalendarWeekdaysCount(weekdaysEl.children.length);\n    }\n  };\n  const initWeekdaysCount = () => {\n    updateWeekdaysCount();\n\n    const prevButton: any = document.querySelector(\n      \".react-calendar__navigation__prev-button\"\n    );\n    if (prevButton) {\n      // keep\n    } else {\n      return;\n    }\n    prevButton.onclick = () => {\n      setTimeout(updateWeekdaysCount);\n    };\n\n    const prev2Button: any = document.querySelector(\n      \".react-calendar__navigation__prev2-button\"\n    );\n    if (prev2Button) {\n      // keep\n    } else {\n      return;\n    }\n    prev2Button.onclick = () => {\n      setTimeout(updateWeekdaysCount);\n    };\n\n    const nextButton: any = document.querySelector(\n      \".react-calendar__navigation__next-button\"\n    );\n    if (nextButton) {\n      // keep\n    } else {\n      return;\n    }\n\n    nextButton.onclick = () => {\n      setTimeout(updateWeekdaysCount);\n    };\n    const next2Button: any = document.querySelector(\n      \".react-calendar__navigation__next2-button\"\n    );\n    if (next2Button) {\n      // keep\n    } else {\n      return;\n    }\n    next2Button.onclick = () => {\n      setTimeout(updateWeekdaysCount);\n    };\n  };\n\n  const updateControlPoints = () => {\n    const pagePerControlPoints = 1;\n    const perPagePerControlPoints = 5;\n\n    UserStore.getControlPoints(\n      pagePerControlPoints,\n      perPagePerControlPoints,\n      startTimePerControlPoints,\n      endTimePerControlPoints\n    ).then((res) => {\n      const newControlPointsPerSchoolClass = {};\n      res.map((item, index) => {\n        if (\n          !newControlPointsPerSchoolClass[\n            [item.schoolArea.id, item.schoolClass.id].join(\"__\")\n          ]\n        ) {\n          newControlPointsPerSchoolClass[\n            [item.schoolArea.id, item.schoolClass.id].join(\"__\")\n          ] = [];\n        }\n        newControlPointsPerSchoolClass[\n          [item.schoolArea.id, item.schoolClass.id].join(\"__\")\n        ].push(item);\n        if (index === 0) {\n          updateSelectedControlPoint(item);\n        }\n      });\n      setControlPointsPerSchoolClass(newControlPointsPerSchoolClass);\n    });\n  };\n\n  const updateWeekdays = () => {\n    const newWeekDays = [];\n    for (\n      let date = new Date(periodStartsAt);\n      date <= new Date(periodEndsAt);\n      date = new Date(Number(date) + 24 * 3600 * 1000)\n    ) {\n      newWeekDays.push({\n        weekDayText: date.toLocaleDateString(\"en-US\", { weekday: \"short\" }),\n        dateText: [\n          date.getDate(),\n          date.toLocaleDateString(\"en-US\", { month: \"short\" }),\n        ].join(\" \"),\n      });\n    }\n    setWeekDays(newWeekDays);\n  };\n\n  const updateSelectedWeekIndex = () => {\n    const calendarDayNowEl = document.querySelector(\n      \".react-calendar__tile--active\"\n    );\n    const monthViewDaysEl: any = document.querySelector(\n      \".react-calendar__month-view__days\"\n    );\n\n    if (calendarDayNowEl && monthViewDaysEl) {\n      const calendarDayIndex = ([...monthViewDaysEl.children] as any).indexOf(\n        calendarDayNowEl\n      );\n      const weekIndex = Math.trunc(calendarDayIndex / 7);\n      const chooseCalenderWeekBtn: any = document.querySelectorAll(\n        \".choose-calendar-week-btn\"\n      )[weekIndex];\n      chooseCalenderWeekBtn.click();\n    }\n  };\n\n  React.useEffect(() => {\n    if (!selectedAlert) {\n      const alert = sessionStorage.getItem(\"alert\");\n      setSelectedAlert(JSON.parse(alert));\n    }\n\n    const token = sessionStorage.getItem(\"token\");\n    // console.log(token);\n    if (!token) {\n      return props.history.push(\"/signin\");\n    }\n\n    if (!schoolClasses) {\n      UserStore.getSchoolClasses().then((/* res */) => {});\n    }\n    if (!calendarWeekdaysCount) {\n      const monthViewDaysEl: any = document.querySelector(\n        \".react-calendar__month-view__days\"\n      );\n      if (monthViewDaysEl) {\n        initWeekdaysCount();\n      }\n    }\n    if (!selectedWeekIndex && calendarWeekdaysCount) {\n      updateSelectedWeekIndex();\n    }\n    if (\n      !startTimePerControlPoints &&\n      !endTimePerControlPoints &&\n      periodStartsAt &&\n      periodEndsAt\n    ) {\n      setStartTimePerControlPoints(periodStartsAt.replace(\" \", \"_\"));\n      setEndTimePerControlPoints(periodEndsAt.replace(\" \", \"_\"));\n    }\n\n    if (\n      !controlPoints &&\n      startTimePerControlPoints &&\n      endTimePerControlPoints\n    ) {\n      updateControlPoints();\n    }\n    if (!weekDays && periodStartsAt && periodEndsAt) {\n      updateWeekdays();\n    }\n\n    if (\n      useUpdateControlPoints &&\n      startTimePerControlPoints &&\n      endTimePerControlPoints\n    ) {\n      setUseUpdateControlPoints(false);\n      updateControlPoints();\n    }\n    if (useUpdateWeekdays && periodStartsAt && periodEndsAt) {\n      setUseUpdateWeekdays(false);\n      updateWeekdays();\n    }\n    if (useUpdateCalendarWeekdaysCount) {\n      setUseUpdateCalendarWeekdaysCount(false);\n      updateWeekdaysCount();\n    }\n  }, [\n    schoolClasses,\n    weekDays,\n    controlPoints,\n    controlPointsPerSchoolClass,\n    periodStartsAt,\n    periodEndsAt,\n    calendarWeekdaysCount,\n    useUpdateControlPoints,\n  ]);\n\n  // if (state === RequestState.ERROR) return <p>Erorr</p>;\n\n  // if (state !== RequestState.SUCCESS) {\n  //     return (\n  //         <LayoutUser>\n  //             <p>Loading...</p>\n  //         </LayoutUser>\n  //     );\n  // }\n\n  const renderEmptyHeader = () => {\n    return (\n      <th\n        style={{\n          height: 56,\n          borderRight: \"1px solid #a0a096\",\n          borderLeft: \"1px solid #a0a096\",\n        }}\n      />\n    );\n  };\n  const renderTitleHeader = () => {\n    return (\n      <th\n        style={{\n          height: 70,\n          borderRight: \"1px solid #a0a096\",\n          borderLeft: \"1px solid #a0a096\",\n        }}\n      >\n        <div style={{ textAlign: \"center\" }}>\n          <span>Школа,</span>\n          <br />\n          <span>Класс</span>\n        </div>\n      </th>\n    );\n  };\n  const renderDayTimeWindowHeader = (/* item */) => {\n    switch (selectedHours) {\n      case 2:\n        return (\n          <td>\n            <div\n              className={`${styles[\"day-time-window-header\"]} ${styles[\"day-time-window-header_hours-2\"]}`}\n            >\n              <span>\n                <span>\n                  <span>00:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>02:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>04:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>06:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>08:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>10:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>12:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>14:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>16:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>18:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>20:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>22:00</span>\n                </span>\n              </span>\n            </div>\n          </td>\n        );\n      case 3:\n        return (\n          <td>\n            <div\n              className={`${styles[\"day-time-window-header\"]} ${styles[\"day-time-window-header_hours-3\"]}`}\n            >\n              <span>\n                <span>\n                  <span>00:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>03:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>06:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>09:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>12:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>15:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>18:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>21:00</span>\n                </span>\n              </span>\n            </div>\n          </td>\n        );\n      case 4:\n        return (\n          <td>\n            <div\n              className={`${styles[\"day-time-window-header\"]} ${styles[\"day-time-window-header_hours-4\"]}`}\n            >\n              <span>\n                <span>\n                  <span>00:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>04:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>08:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>12:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>16:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>20:00</span>\n                </span>\n              </span>\n            </div>\n          </td>\n        );\n      case 6:\n      default:\n        return (\n          <td>\n            <div\n              className={`${styles[\"day-time-window-header\"]} ${styles[\"day-time-window-header_hours-6\"]}`}\n            >\n              <span>\n                <span>\n                  <span>00:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>06:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>12:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>18:00</span>\n                </span>\n              </span>\n            </div>\n          </td>\n        );\n    }\n  };\n  const renderDayHeader = (weekDay) => {\n    return (\n      <th>\n        <div style={{ padding: 10 }}>\n          {weekDay.weekDayText} <br />\n          {weekDay.dateText}\n        </div>\n      </th>\n    );\n  };\n\n  /*\n    const renderVerticalLine = () => {\n\n    };\n    const renderControlPointTimeWindowBody = () => {\n\n    };\n    */\n  const handleChangeControlPoint = (event) => {\n    const controlPointId = Number(event.currentTarget.dataset[\"id\"]);\n\n    controlPoints.map((item) => {\n      if (item.id === controlPointId) {\n        updateSelectedControlPoint(item);\n      }\n    });\n  };\n\n  const renderRectangle = (controlPoint) => {\n    if (!controlPoint) {\n      return \"\";\n    }\n    // const widthTimeWindow = 40;\n    const totalTimeWindowsPerDayWindow = 6;\n    // const timeWindowAccuracyInMinutes = 240;\n\n    const totalStretchWindowsPerDayWindow = 24;\n    const widthStretchWindow = /*120 / 10*/ 40 / 4;\n\n    // const totalTimeWindowsPerDayWindow = 6; // totalStretchWindowsPerDayWindow/ selectedAccuracyTimeWindow;\n    const widthBorderPerTimeWindow = 1;\n\n    const totalDivisionsPerStretchWindow = 12;\n    // const divisionAccuracyInMinutes = 5; // minutes\n    const widthDivision = widthStretchWindow / totalDivisionsPerStretchWindow;\n\n    const paddingStretchWindow = /*widthDivision*/ 5; /* / 2*/ // 5px\n    const widthBorderPerStretchWindow = 1;\n\n    // periodStartsAt;\n    // periodEndsAt\n\n    // control_point_opens\n    // control_point_closes\n\n    // countEmptyDayWindows\n    // countEmptyStretchWindows\n    // countEmptyDivisions\n\n    const heightTimeWindow = 70;\n    const heightRectangle = 40;\n\n    const totalEmptyMinutesDiff: any =\n      (Number(new Date(controlPoint.control_point_opens)) -\n        Number(new Date(periodStartsAt))) /\n      1000 /\n      60;\n\n    const countEmptyDayWindows = Math.trunc(totalEmptyMinutesDiff / 24 / 60);\n    const countEmptyStretchWindows = Math.trunc(\n      (totalEmptyMinutesDiff - countEmptyDayWindows * 24 * 60) / 60\n    );\n    const countEmptyDivisions = Math.trunc(\n      (totalEmptyMinutesDiff -\n        countEmptyDayWindows * 24 * 60 -\n        countEmptyStretchWindows * 60) /\n        5\n    );\n\n    let totalRectangleDurationInMinutes =\n      (Number(new Date(controlPoint.control_point_closes)) -\n        Number(new Date(controlPoint.control_point_opens))) /\n      1000 /\n      60;\n    const highestDurationInMinutes =\n      (Number(new Date(periodEndsAt)) -\n        Number(new Date(controlPoint.control_point_opens))) /\n      1000 /\n      60;\n    if (totalRectangleDurationInMinutes > highestDurationInMinutes) {\n      totalRectangleDurationInMinutes = highestDurationInMinutes;\n    }\n    const countFullDayWindows = Math.trunc(\n      totalRectangleDurationInMinutes / 24 / 60\n    );\n    const countFullStretchWindows = Math.trunc(\n      (totalRectangleDurationInMinutes - countFullDayWindows * 24 * 60) / 60\n    );\n    const countFullDivisions = Math.trunc(\n      (totalRectangleDurationInMinutes -\n        countFullDayWindows * 24 * 60 -\n        countFullStretchWindows * 60) /\n        5\n    );\n\n    const marginLeft =\n      countEmptyDayWindows *\n        totalStretchWindowsPerDayWindow *\n        widthStretchWindow +\n      countEmptyStretchWindows * widthStretchWindow +\n      countEmptyDivisions * widthDivision +\n      paddingStretchWindow +\n      countEmptyDayWindows *\n        totalTimeWindowsPerDayWindow *\n        widthBorderPerTimeWindow +\n      countEmptyStretchWindows * widthBorderPerStretchWindow;\n\n    const width =\n      countFullDayWindows *\n        totalStretchWindowsPerDayWindow *\n        widthStretchWindow +\n      countFullStretchWindows * widthStretchWindow +\n      countFullDivisions * widthDivision +\n      countFullDayWindows *\n        totalTimeWindowsPerDayWindow *\n        widthBorderPerTimeWindow -\n      paddingStretchWindow -\n      countFullStretchWindows * widthBorderPerStretchWindow;\n\n    const marginTop = (heightTimeWindow - heightRectangle) / 2;\n\n    return (\n      <div\n        className={styles[\"duration-rectangle\"]}\n        style={{\n          position: \"absolute\",\n          marginLeft: marginLeft,\n          marginTop: marginTop,\n          width: width,\n          height: heightRectangle,\n          /*border: '1px solid',*/ background: \"cyan\",\n          display: \"table\",\n        }}\n      >\n        <div\n          data-id={controlPoint.id}\n          style={{\n            display: \"table-cell\",\n            verticalAlign: \"middle\",\n            paddingLeft: 10,\n          }}\n          onClick={handleChangeControlPoint}\n        >\n          {controlPoint.theme_name}\n        </div>\n      </div>\n    );\n  };\n  const renderSchoolClassBody = (schoolClass) => {\n    return (\n      <td\n        style={{\n          height: 70,\n          borderRight: \"1px solid #a0a096\",\n          borderLeft: \"1px solid #a0a096\",\n        }}\n      >\n        <div style={{ textAlign: \"center\", width: 120 }}>\n          {schoolClass.schoolArea.school_area}\n          <br />\n          {schoolClass.school_class}\n        </div>\n      </td>\n    );\n  };\n  const renderDayTimeWindowBody = (schoolClass, index) => {\n    {\n      /*<th><div className={ styles['day-time-window-body'] }><span>00:00</span><span>04:00</span> <span>08:00</span> <span>12:00</span> <span>16:00</span> <span>20:00</span></div></th>*/\n    }\n    {\n      /*<td><div className={ styles['day-time-window-body'] }><span>00:00</span><span>03:00</span> <span>06:00</span> <span>09:00</span> <span>12:00</span> <span>15:00</span> <span>18:00</span> <span>21:00</span></div></td>*/\n    }\n    // return (\n    //     <td><div className={ styles['day-time-window-body'] }>\n    //\n    //     </div></td>\n    // )\n    const chosenControlPointsPerSchoolClass =\n      controlPointsPerSchoolClass[\n        [schoolClass.schoolArea.id, schoolClass.id].join(\"__\")\n      ] || null;\n    // console.log(controlPointPerSchoolClass);\n    let listRectangle = [];\n    if (index === 0 && chosenControlPointsPerSchoolClass) {\n      // rectangle\n      listRectangle = chosenControlPointsPerSchoolClass.map((controlPoint) => {\n        return renderRectangle(controlPoint);\n      });\n    }\n    if (Object.keys(controlPointsPerSchoolClass).length > 0) {\n      // debugger;\n    }\n\n    switch (selectedHours) {\n      case 2:\n        return (\n          <td>\n            <div\n              className={`${styles[\"day-time-window-body\"]} ${styles[\"day-time-window-body_hours-2\"]}`}\n            >\n              <span>\n                <span>\n                  <span>00:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>02:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>04:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>06:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>08:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>10:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>12:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>14:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>16:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>18:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>20:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>22:00</span>\n                </span>\n              </span>\n            </div>\n          </td>\n        );\n      case 3:\n        return (\n          <td>\n            <div\n              className={`${styles[\"day-time-window-body\"]} ${styles[\"day-time-window-body_hours-3\"]}`}\n            >\n              <span>\n                <span>\n                  <span>00:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>03:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>06:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>09:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>12:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>15:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>18:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>21:00</span>\n                </span>\n              </span>\n            </div>\n          </td>\n        );\n      case 4:\n        return (\n          <td>\n            <div\n              className={`${styles[\"day-time-window-body\"]} ${styles[\"day-time-window-body_hours-4\"]}`}\n            >\n              <div style={{ position: \"relative\" }}>\n                {listRectangle &&\n                  listRectangle.map((item) => {\n                    return item;\n                  })}\n              </div>\n              <span>\n                <span>\n                  <span>00:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>04:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>08:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>12:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>16:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>20:00</span>\n                </span>\n              </span>\n            </div>\n          </td>\n        );\n      case 6:\n      default:\n        return (\n          <td>\n            <div\n              className={`${styles[\"day-time-window-body\"]} ${styles[\"day-time-window-body_hours-6\"]}`}\n            >\n              <span>\n                <span>\n                  <span>00:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>06:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>12:00</span>\n                </span>\n              </span>\n              <span>\n                <span>\n                  <span>18:00</span>\n                </span>\n              </span>\n            </div>\n          </td>\n        );\n    }\n  };\n  /*\n    const renderDayBody = () => {\n\n    };\n\n    const handleChangeSelectedHours = (event) => {\n        setSelectedHours(Number(event.currentTarget.value));\n    };\n    */\n  const options = {\n    /*weekday: 'long',*/ year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  };\n\n  const handleChangeWeek = (event) => {\n    const index = Number(event.currentTarget.getAttribute(\"data-key\"));\n    const monthViewDaysEl = document.querySelector(\n      \".react-calendar__month-view__days\"\n    );\n    const startDateEl: any = monthViewDaysEl.children[index * 7];\n    const endDateEl: any = monthViewDaysEl.children[(index + 1) * 7 - 1];\n\n    const yearEl: any = document.querySelector(\n      \".react-calendar__navigation__label__labelText\"\n    );\n    const [monthLong, year] = yearEl.textContent.split(\" \");\n    let month;\n\n    switch (monthLong) {\n      case \"January\":\n        month = 0;\n        break;\n      case \"February\":\n        month = 1;\n        break;\n      case \"March\":\n        month = 2;\n        break;\n      case \"April\":\n        month = 3;\n        break;\n      case \"May\":\n        month = 4;\n        break;\n      case \"June\":\n        month = 5;\n        break;\n      case \"July\":\n        month = 6;\n        break;\n      case \"August\":\n        month = 7;\n        break;\n      case \"September\":\n        month = 8;\n        break;\n      case \"October\":\n        month = 9;\n        break;\n      case \"November\":\n        month = 10;\n        break;\n      case \"December\":\n        month = 11;\n        break;\n    }\n\n    let periodStarts;\n    let periodEnds;\n\n    if (index === 0 && startDateEl.textContent > 20) {\n      // previous month\n      let monthPeriodStarts = month - 1;\n      let yearPeriodStarts = year;\n\n      if (monthPeriodStarts < 0) {\n        monthPeriodStarts = 11;\n        yearPeriodStarts = year - 1;\n      }\n      periodStarts = new Date(\n        yearPeriodStarts,\n        monthPeriodStarts,\n        startDateEl.textContent,\n        0,\n        0\n      );\n      periodEnds = new Date(year, month, endDateEl.textContent, 23, 55);\n    } else if (index + 1 === Math.trunc(monthViewDaysEl.children.length / 7)) {\n      // next month\n      let monthPeriodEnds = month + 1;\n      let yearPeriodEnds = Number(year);\n\n      if (monthPeriodEnds > 11) {\n        monthPeriodEnds = 0;\n        yearPeriodEnds += 1;\n      }\n      periodStarts = new Date(year, month, startDateEl.textContent, 0, 0);\n      periodEnds = new Date(\n        yearPeriodEnds,\n        monthPeriodEnds,\n        endDateEl.textContent,\n        23,\n        55\n      );\n    } else {\n      // year, month, day\n      periodStarts = new Date(year, month, startDateEl.textContent, 0, 0);\n      periodEnds = new Date(year, month, endDateEl.textContent, 23, 55);\n    }\n\n    const addLeadZero = (text) => {\n      if (String(text).length === 1) {\n        return \"0\" + text;\n      }\n      return text;\n    };\n\n    const calendarPeriodStarts = [\n      [\n        periodStarts.getFullYear(),\n        addLeadZero(periodStarts.getMonth() + 1),\n        addLeadZero(periodStarts.getDate()),\n      ].join(\"-\"),\n      [\n        addLeadZero(periodStarts.getHours()),\n        addLeadZero(periodStarts.getMinutes()),\n      ].join(\":\"),\n    ].join(\" \");\n    const calendarPeriodEnds = [\n      [\n        addLeadZero(periodEnds.getFullYear()),\n        addLeadZero(periodEnds.getMonth() + 1),\n        addLeadZero(periodEnds.getDate()),\n      ].join(\"-\"),\n      [\n        addLeadZero(periodEnds.getHours()),\n        addLeadZero(periodEnds.getMinutes()),\n      ].join(\":\"),\n    ].join(\" \");\n\n    setPeriodStartsAt(calendarPeriodStarts);\n\n    setPeriodEndsAt(calendarPeriodEnds);\n    setSelectedWeekIndex(index);\n\n    setStartTimePerControlPoints(calendarPeriodStarts.replace(\" \", \"_\"));\n    setEndTimePerControlPoints(calendarPeriodEnds.replace(\" \", \"_\"));\n\n    setSelectedCurrentDate(new Date(calendarPeriodStarts));\n\n    setUseUpdateControlPoints(true);\n    setUseUpdateWeekdays(true);\n    setUseUpdateCalendarWeekdaysCount(true);\n  };\n\n  const addLeadZero = (text) => {\n    if (String(text).length === 1) {\n      return \"0\" + text;\n    }\n    return text;\n  };\n\n  const handleChangeControlPointOpens = (value: Date) => {\n    setSelectedControlPointOpensAt(\n      [\n        [\n          addLeadZero(value.getFullYear()),\n          addLeadZero(value.getMonth() + 1),\n          addLeadZero(value.getDate()),\n        ].join(\"-\"),\n        [addLeadZero(value.getHours()), addLeadZero(value.getMinutes())].join(\n          \":\"\n        ),\n      ].join(\" \")\n    );\n  };\n  const handleChangeControlPointCloses = (value) => {\n    setSelectedControlPointClosesAt(\n      [\n        [\n          addLeadZero(value.getFullYear()),\n          addLeadZero(value.getMonth() + 1),\n          addLeadZero(value.getDate()),\n        ].join(\"-\"),\n        [addLeadZero(value.getHours()), addLeadZero(value.getMinutes())].join(\n          \":\"\n        ),\n      ].join(\" \")\n    );\n  };\n\n  const canUpdateControlPoint = () => {\n    return (\n      selectedControlPointThemeName.trim() &&\n      selectedControlPointHomeworkDescription.trim() &&\n      selectedControlPointOpensAt.trim() &&\n      selectedControlPointClosesAt.trim() &&\n      /*selectedControlPointGrade.trim() &&*/ selectedControlPointStatus.trim() &&\n      selectedControlPointHandledBy &&\n      selectedControlSchoolArea &&\n      selectedControlPointSchoolClass\n    );\n  };\n  const handleUpdateControlPoint = () => {\n    if (canUpdateControlPoint) {\n      setIsError(false);\n      setErrMessage(\"\");\n      setSelectedAlert(\"\");\n\n      UserStore.updateControlPoint(\n        selectedControlPointId,\n        selectedControlPointThemeName,\n        selectedControlPointHomeworkDescription,\n        selectedControlPointOpensAt,\n        selectedControlPointClosesAt,\n        selectedControlPointGrade,\n        selectedControlPointStatus,\n        selectedControlPointHandledBy,\n        selectedControlSchoolArea,\n        selectedControlPointSchoolClass\n      )\n        .then((res) => {\n          sessionStorage.setItem(\n            \"alert\",\n            JSON.stringify({\n              text: \"Control point successfully updated!\",\n            })\n          );\n          const alert = sessionStorage.getItem(\"alert\");\n          sessionStorage.removeItem(\"alert\");\n          setSelectedAlert(JSON.parse(alert));\n\n          setUseUpdateControlPoints(true);\n        })\n        .catch((err) => {\n          setErrMessage(\n            err.message || \"Ошибка при обновлении контрольной точки\"\n          );\n          setIsError(true);\n        });\n    }\n  };\n\n  return (\n    <LayoutUser>\n      {!weekDays && <div style={{ textAlign: \"center\" }}>Loading...</div>}\n      {\n        /*weekDays &&*/ schoolClasses && (\n          /*controlPointsPerSchoolClass && */ /*periodStartsAt && periodEndsAt &&*/ <div\n            style={\n              {\n                /*\"marginLeft\": 350,*/\n              }\n            }\n          >\n            <div\n              style={{\n                width: 1400,\n                visibility: weekDays ? \"initial\" : \"hidden\",\n              }}\n            >\n              {/*<select value={selectedHours} onChange={handleChangeSelectedHours}><option value=\"6\">6 hours</option><option value=\"4\">4 hours</option><option value=\"3\">3 hours</option><option value=\"2\">2 hours</option></select><br/><br/>*/}\n\n              <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                <h2 style={{ textAlign: \"left\" }}>\n                  Выбор контрольной точки среди timeline контрольных точек\n                </h2>\n              </div>\n              <br />\n\n              {periodStartsAt && periodEndsAt && (\n                <div\n                  className={styles[\"selected-calendar-date-container\"]}\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    marginBottom: 40,\n                  }}\n                >\n                  <div\n                    style={{\n                      padding: 10,\n                      border: \"1px solid rgb(160, 160, 150)\",\n                      display: \"inline-block\",\n                    }}\n                  >\n                    {new Date(periodStartsAt).toLocaleDateString(\n                      \"en-US\",\n                      options\n                    )}{\" \"}\n                    -{\" \"}\n                    {new Date(periodEndsAt).toLocaleDateString(\n                      \"en-US\",\n                      options\n                    )}\n                  </div>\n                </div>\n              )}\n\n              <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n                <div style={{ position: \"relative\" }}>\n                  <div\n                    className={styles[\"calendar-container\"]}\n                    style={{\n                      border: \"1px solid rgb(160, 160, 150)\",\n                      paddingLeft: 130,\n                      paddingRight: 20,\n                      paddingTop: 20,\n                      paddingBottom: 20,\n                      borderRadius: 10,\n                    }}\n                  >\n                    <div\n                      style={{\n                        width: 100,\n                        paddingTop: 44,\n                        marginTop: 47,\n                        position: \"absolute\",\n                        left: 0,\n                        marginLeft: 20,\n                      }}\n                    >\n                      {calendarWeekdaysCount &&\n                        Array.from(\n                          Array(Math.trunc(calendarWeekdaysCount / 7))\n                        ).map((item, index) => {\n                          return (\n                            <div\n                              className=\"choose-calendar-week-btn\"\n                              key={index}\n                              data-key={index}\n                              style={{\n                                marginBottom: 1,\n                                padding: 5,\n                                height: 34,\n                                fontSize: 14,\n                                boxSizing: \"border-box\",\n                                border: \"1px solid #e6e6e6\",\n                                background:\n                                  index === selectedWeekIndex ? \"#000\" : \"#fff\",\n                                color:\n                                  index === selectedWeekIndex\n                                    ? \"#e6e6e6\"\n                                    : \"#000\",\n                                lineHeight: \"22px\",\n                                cursor:\n                                  index === selectedWeekIndex\n                                    ? \"initial\"\n                                    : \"pointer\",\n                              }}\n                              onClick={handleChangeWeek}\n                            >\n                              Choose week\n                            </div>\n                          );\n                        })}\n                    </div>\n\n                    <Calendar\n                      calendarType=\"Hebrew\"\n                      // onChange={onChange}\n                      value={selectedCurrentDate}\n                    />\n                  </div>\n                </div>\n\n                {selectedControlPointThemeName && (\n                  <div className={`${styles[\"form-control-point\"]}`}>\n                    <div\n                      className={`${isError ? styles[\"has-error\"] : \"\"}`}\n                      style={{\n                        border: \"1px solid rgb(160, 160, 150)\",\n                        width: 590,\n                        height: 600,\n                        borderRadius: 10,\n                        boxSizing: \"border-box\",\n                        paddingLeft: 20,\n                        paddingRight: 20,\n                        paddingTop: 10,\n                        paddingBottom: 10,\n                      }}\n                    >\n                      <h2\n                        style={{\n                          fontWeight: \"initial\",\n                          textAlign: \"center\",\n                          paddingTop: 10,\n                          marginBottom: 20 /*, marginTop: 20 */,\n                        }}\n                      >\n                        Управление контрольной точкой\n                      </h2>\n                      <div\n                        style={{\n                          visibility:\n                            selectedAlert || isError ? \"initial\" : \"hidden\",\n                          height: 60,\n                        }}\n                      >\n                        {selectedAlert && (\n                          <div\n                            className={`${styles[\"alert\"]} ${styles[\"alert-success\"]}`}\n                          >\n                            {selectedAlert.text}\n                          </div>\n                        )}\n                        {isError && (\n                          <div\n                            className={`${styles[\"alert\"]} ${styles[\"alert-error\"]}`}\n                            style={{\n                              width: 400,\n                              margin: \"auto\",\n                              textAlign: \"center\",\n                              color: \"red\",\n                              marginBottom: 10,\n                            }}\n                          >\n                            {errMessage}\n                          </div>\n                        )}\n                      </div>\n                      <div\n                        style={{\n                          marginBottom: 10,\n                          overflow: \"hidden\",\n                          display: \"flex\",\n                          justifyContent: \"center\",\n                        }}\n                      >\n                        <label style={{ float: \"left\" }}>\n                          <span\n                            style={{\n                              marginBottom: 5,\n                              display: \"block\",\n                              fontSize: 17,\n                            }}\n                          >\n                            Theme Name\n                          </span>\n                          <input\n                            type=\"text\"\n                            style={{ padding: 10, fontSize: 17 }}\n                            value={selectedControlPointThemeName}\n                            onChange={(event) => {\n                              setSelectedControlPointThemeName(\n                                event.currentTarget.value\n                              );\n                            }}\n                            placeholder=\"Theme Name\"\n                          />\n                        </label>\n                        <label style={{ float: \"left\", marginLeft: 20 }}>\n                          <span\n                            style={{\n                              marginBottom: 5,\n                              display: \"block\",\n                              fontSize: 17,\n                            }}\n                          >\n                            Homework Description\n                          </span>\n                          <input\n                            type=\"text\"\n                            style={{ padding: 10, fontSize: 17 }}\n                            value={selectedControlPointHomeworkDescription}\n                            onChange={(event) => {\n                              setSelectedControlPointHomeworkDescription(\n                                event.currentTarget.value\n                              );\n                            }}\n                            placeholder=\"Homework Description\"\n                          />\n                        </label>\n                      </div>\n\n                      <div\n                        style={{\n                          marginBottom: 10,\n                          display: \"flex\",\n                          justifyContent: \"center\",\n                        }}\n                      >\n                        <label style={{ float: \"left\" }}>\n                          <span\n                            style={{\n                              width: 200,\n                              marginBottom: 5,\n                              display: \"block\",\n                              fontSize: 17,\n                            }}\n                          >\n                            Control Point Opens\n                          </span>\n                          <div style={{ marginLeft: 0 }}>\n                            {selectedControlPointOpensAt && (\n                              <DateTimePicker\n                                onChange={handleChangeControlPointOpens}\n                                format=\"yyyy-MM-dd HH:mm\"\n                                clearIcon={null}\n                                value={new Date(selectedControlPointOpensAt)}\n                              />\n                            )}\n                          </div>\n                        </label>\n                        <label style={{ float: \"left\", marginLeft: 20 }}>\n                          <span\n                            style={{\n                              width: 200,\n                              marginBottom: 5,\n                              display: \"block\",\n                              fontSize: 17,\n                            }}\n                          >\n                            Control Point Closes\n                          </span>\n                          {/*<input type=\"text\" style={{padding: 10, fontSize: 17}} placeholder=\"Control Point Closes\" />*/}\n                          {selectedControlPointClosesAt && (\n                            <DateTimePicker\n                              onChange={handleChangeControlPointCloses}\n                              format=\"yyyy-MM-dd HH:mm\"\n                              clearIcon={null}\n                              value={new Date(selectedControlPointClosesAt)}\n                            />\n                          )}\n                        </label>\n                        <div style={{ clear: \"left\" }} />\n                      </div>\n\n                      <div\n                        style={{\n                          marginBottom: 10,\n                          overflow: \"hidden\",\n                          display: \"flex\",\n                          justifyContent: \"center\",\n                        }}\n                      >\n                        <label style={{ float: \"left\" }}>\n                          <span\n                            style={{\n                              marginBottom: 5,\n                              display: \"block\",\n                              fontSize: 17,\n                            }}\n                          >\n                            Control Point Grade\n                          </span>\n                          {/*<input type=\"text\" style={{padding: 10, fontSize: 17}} placeholder=\"Control Point Grade\" />*/}\n                          <select\n                            style={{\n                              paddingTop: 10,\n                              paddingBottom: 10,\n                              paddingLeft: 20,\n                              paddingRight: 20,\n                              width: 245,\n                              fontSize: 17,\n                            }}\n                            value={selectedControlPointGrade}\n                            onChange={(event) => {\n                              setSelectedControlPointGrade(\n                                event.currentTarget.value\n                              );\n                            }}\n                          >\n                            <option value=\"\">Ждет оценки</option>\n                            <option value=\"5\">Отлично</option>\n                            <option value=\"4\">Хорошо</option>\n                            <option value=\"3\">Удовлетворительно</option>\n                            <option value=\"2\">Неудовлетворительно</option>\n                          </select>\n                        </label>\n                        <label style={{ float: \"left\", marginLeft: 20 }}>\n                          <span\n                            style={{\n                              marginBottom: 5,\n                              display: \"block\",\n                              fontSize: 17,\n                            }}\n                          >\n                            Control Point Status\n                          </span>\n                          {/*<input type=\"text\" style={{padding: 10, fontSize: 17}} placeholder=\"Control Point Status\" />*/}\n\n                          <select\n                            style={{\n                              paddingTop: 10,\n                              paddingBottom: 10,\n                              paddingLeft: 20,\n                              paddingRight: 20,\n                              width: 245,\n                              fontSize: 17,\n                            }}\n                            value={selectedControlPointStatus}\n                            onChange={(event) => {\n                              setSelectedControlPointStatus(\n                                event.currentTarget.value\n                              );\n                            }}\n                          >\n                            <option value=\"preview\">Preview</option>\n                            <option value=\"opened\">Opened</option>\n                            <option value=\"closed\">Closed</option>\n                          </select>\n                        </label>\n                      </div>\n\n                      <div\n                        style={{\n                          marginBottom: 10,\n                          overflow: \"hidden\",\n                          display: \"flex\",\n                          justifyContent: \"center\",\n                        }}\n                      >\n                        <label style={{ float: \"left\" }}>\n                          <span\n                            style={{\n                              marginBottom: 5,\n                              display: \"block\",\n                              fontSize: 17,\n                            }}\n                          >\n                            Control Point Handled By\n                          </span>\n                          {listControlPointHandledBy &&\n                            listControlPointHandledBy[\n                              selectedControlPointHandledBy\n                            ] && (\n                              <input\n                                type=\"text\"\n                                style={{ padding: 10, fontSize: 17 }}\n                                value={[\n                                  listControlPointHandledBy[\n                                    selectedControlPointHandledBy\n                                  ].first_name,\n                                  listControlPointHandledBy[\n                                    selectedControlPointHandledBy\n                                  ].last_name,\n                                ].join(\" \")}\n                                disabled={true}\n                                placeholder=\"Control Point Handled By\"\n                              />\n                            )}\n                        </label>\n                        <label\n                          style={{\n                            float: \"left\",\n                            marginLeft: 20,\n                            visibility: \"hidden\",\n                          }}\n                        >\n                          <span\n                            style={{\n                              marginBottom: 5,\n                              display: \"block\",\n                              fontSize: 17,\n                            }}\n                          >\n                            Control Point Handled By\n                          </span>\n                          {listControlPointHandledBy &&\n                            listControlPointHandledBy[\n                              selectedControlPointHandledBy\n                            ] && (\n                              <input\n                                type=\"text\"\n                                style={{ padding: 10, fontSize: 17 }}\n                                value={[\n                                  listControlPointHandledBy[\n                                    selectedControlPointHandledBy\n                                  ].first_name,\n                                  listControlPointHandledBy[\n                                    selectedControlPointHandledBy\n                                  ].last_name,\n                                ].join(\" \")}\n                                disabled={true}\n                                placeholder=\"Control Point Handled By\"\n                              />\n                            )}\n                        </label>\n                      </div>\n\n                      <div\n                        style={{\n                          marginBottom: 10,\n                          overflow: \"hidden\",\n                          display: \"flex\",\n                          justifyContent: \"center\",\n                        }}\n                      >\n                        <label style={{ float: \"left\" }}>\n                          <span\n                            style={{\n                              marginBottom: 5,\n                              display: \"block\",\n                              fontSize: 17,\n                            }}\n                          >\n                            School Area\n                          </span>\n                          {/*<input type=\"text\" style={{padding: 10, fontSize: 17}}  value={selectedControlSchoolArea} onChange={(event)=>{ setSelectedControlPointSchoolArea(event.currentTarget.value) }} placeholder=\"School Area\" />*/}\n\n                          <select\n                            style={{\n                              width: 245,\n                              paddingTop: 10,\n                              paddingBottom: 10,\n                              paddingLeft: 20,\n                              paddingRight: 20,\n                              padding: 10,\n                              fontSize: 17,\n                            }}\n                            value={selectedControlSchoolArea}\n                            onChange={(event) => {\n                              setSelectedControlPointSchoolArea(\n                                event.currentTarget.value\n                              );\n                              setSelectedControlPointSchoolClass(\"\");\n                              updateSelectedControlPointSchoolClassPerSchoolAreaAvailableOptions(\n                                event.currentTarget.value\n                              );\n                            }}\n                          >\n                            <option value=\"\">Not selected</option>\n                            {selectedControlPointSchoolAreaAvailableOptions &&\n                              Object.keys(\n                                selectedControlPointSchoolAreaAvailableOptions\n                              ).map((key) => {\n                                const item =\n                                  selectedControlPointSchoolAreaAvailableOptions[\n                                    key\n                                  ];\n                                return <option value={key}>{item}</option>;\n                              })}\n                          </select>\n                        </label>\n\n                        <label style={{ float: \"left\", marginLeft: 20 }}>\n                          <span\n                            style={{\n                              marginBottom: 5,\n                              display: \"block\",\n                              fontSize: 17,\n                            }}\n                          >\n                            School Class\n                          </span>\n                          {/*<input type=\"text\" style={{padding: 10, fontSize: 17}}  value={selectedControlPointSchoolClass} onChange={(event)=>{ setSelectedControlPointSchoolClass(event.currentTarget.value) }} placeholder=\"School Class\" />*/}\n\n                          <select\n                            style={{\n                              width: 245,\n                              paddingTop: 10,\n                              paddingBottom: 10,\n                              paddingLeft: 20,\n                              paddingRight: 20,\n                              padding: 10,\n                              fontSize: 17,\n                            }}\n                            value={selectedControlPointSchoolClass}\n                            onChange={(event) => {\n                              setSelectedControlPointSchoolClass(\n                                event.currentTarget.value\n                              );\n                            }}\n                          >\n                            <option value=\"\">Not selected</option>\n                            {selectedControlPointSchoolClassPerSchoolAreaAvailableOptions &&\n                              Object.keys(\n                                selectedControlPointSchoolClassPerSchoolAreaAvailableOptions\n                              ).map((key) => {\n                                const item =\n                                  selectedControlPointSchoolClassPerSchoolAreaAvailableOptions[\n                                    key\n                                  ];\n                                return <option value={key}>{item}</option>;\n                              })}\n                          </select>\n                        </label>\n                      </div>\n\n                      <div className={styles[\"update-control-point-container\"]}>\n                        <button\n                          className={styles[\"update-control-point-btn\"]}\n                          style={{ padding: 10 }}\n                          onClick={(event) => {\n                            handleUpdateControlPoint();\n                          }}\n                        >\n                          Обновить\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n              <br />\n              <br />\n            </div>\n\n            {weekDays && schoolClasses && (\n              <div\n                className={styles[\"schedule-table-container\"]}\n                style={{ width: 1400, marginTop: 20 }}\n              >\n                <div\n                  style={{\n                    float: \"left\",\n                    width: 100,\n                    marginRight: 22,\n                    marginBottom: 70,\n                    background: \"#fff\",\n                  }}\n                >\n                  <table className={styles[\"schedule-table\"]}>\n                    <thead>\n                      <tr>{renderEmptyHeader()}</tr>\n                      <tr>{renderTitleHeader()}</tr>\n                    </thead>\n                    <tbody>\n                      {schoolClasses.map((schoolClass) => {\n                        return <tr>{renderSchoolClassBody(schoolClass)}</tr>;\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n\n                <div\n                  style={{\n                    float: \"left\",\n                    width: 1275,\n                    overflowX: \"scroll\",\n                    borderRight: \"1px solid #a0a096\",\n                    background: \"#fff\",\n                  }}\n                >\n                  <table className={styles[\"schedule-table\"]}>\n                    <thead>\n                      <tr>\n                        {/*renderEmptyHeader() */}{\" \"}\n                        {weekDays.map((item) => {\n                          return renderDayHeader(item);\n                        })}\n                      </tr>\n                      <tr>\n                        {/*renderTitleHeader() */}{\" \"}\n                        {weekDays.map((/*item*/) => {\n                          return renderDayTimeWindowHeader(/*item*/);\n                        })}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {schoolClasses.map((schoolClass) => {\n                        return (\n                          <tr>\n                            {/*renderSchoolClassBody(schoolClass)*/}{\" \"}\n                            {weekDays.map((item, index) => {\n                              return renderDayTimeWindowBody(\n                                schoolClass,\n                                index\n                              );\n                            })}\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            )}\n\n            {/*// week: days, dayHours */}\n            {/*// schoolClass, controlPoint (timeWindow, windowDuration) */}\n          </div>\n        )\n      }\n    </LayoutUser>\n  );\n};\n\nexport default inject(\"UserStore\")(\n  withRouter(observer(ScheduleControlPointsPerSchoolClassPage))\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"registration-form\":\"Registration_registration-form__3vJXj\",\"first-name\":\"Registration_first-name__flSLM\",\"last-name\":\"Registration_last-name__xSEjj\",\"phone-prefix\":\"Registration_phone-prefix__3tO0u\",\"phone\":\"Registration_phone__3djnX\",\"password\":\"Registration_password__288ug\",\"registration-btn\":\"Registration_registration-btn__1Qsnp\",\"VKButton_vk-button__2yUZ7\":\"Registration_VKButton_vk-button__2yUZ7__2Edho\"};","import React from \"react\";\nimport { useState } from \"react\";\nimport VKButton from \"components/VKButton\";\nimport LayoutDefault from \"components/LayoutDefault\";\nimport debounce from \"lodash.debounce\";\nimport Inputmask from \"inputmask\";\n\nimport styles from \"./Registration.module.scss\";\nimport UserStore from \"../../stores/UserStore\";\nimport { RouteComponentProps } from \"react-router\";\nimport { inject } from \"mobx-react\";\ninterface IProps extends RouteComponentProps {\n  UserStore: typeof UserStore;\n}\n\nconst Registration: React.FC<IProps> = (props) => {\n  // POST /auth/register\n\n  const { state, user } = props.UserStore;\n\n  const [selectedPhone, setSelectedPhone] = useState(\"\");\n  const [selectedPassword, setSelectedPassword] = useState(\"\");\n  const [selectedFirstName, setSelectedFirstName] = useState(\"\");\n  const [selectedLastName, setSelectedLastName] = useState(\"\");\n\n  React.useEffect(() => {\n    const existingSelectedPhone = sessionStorage.getItem(\"selectedPhone\");\n    if (existingSelectedPhone) {\n      sessionStorage.removeItem(\"selectedPhone\");\n      setSelectedPhone(existingSelectedPhone);\n    }\n    const phoneEl = document.querySelector(\".phone input\");\n    if (phoneEl) {\n      Inputmask({ mask: \"(999) 999-99-99\" }).mask(phoneEl);\n    }\n  }, [selectedPhone]);\n\n  const canRegister = () => {\n    return (\n      selectedFirstName.trim() &&\n      selectedLastName.trim() &&\n      selectedPhone.trim() &&\n      selectedPassword.trim()\n    );\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    handleRegister();\n  };\n\n  const handleRegister = debounce(() => {\n    if (canRegister()) {\n      UserStore.register(\n        selectedFirstName.trim(),\n        selectedLastName.trim(),\n        selectedPhone,\n        selectedPassword\n      ).then((res) => {\n        sessionStorage.setItem(\"token\", res[\"token\"]);\n        // redirect\n        props.history.push(\"/confirm\");\n      });\n    }\n  }, 300);\n\n  return (\n    <LayoutDefault>\n      <div className={styles[\"registration-page\"]}>\n        <div className={styles[\"registration-form\"]}>\n          <div>\n            <h2>Registration</h2>\n            <form onSubmit={handleSubmit}>\n              <div className={styles[\"first-name\"]}>\n                <label>\n                  <input\n                    type=\"text\"\n                    value={selectedFirstName}\n                    onChange={(event) => {\n                      setSelectedFirstName(event.currentTarget.value);\n                    }}\n                    placeholder=\"First Name\"\n                  />\n                </label>\n              </div>\n              <div className={styles[\"last-name\"]}>\n                <label>\n                  <input\n                    type=\"text\"\n                    value={selectedLastName}\n                    onChange={(event) => {\n                      setSelectedLastName(event.currentTarget.value);\n                    }}\n                    placeholder=\"Last Name\"\n                  />\n                </label>\n              </div>\n              <div className={`phone ${styles[\"phone\"]}`}>\n                <label>\n                  <div style={{ overflow: \"hidden\" }}>\n                    <span className={styles[\"phone-prefix\"]}>+7</span>\n                    <input\n                      type=\"text\"\n                      value={selectedPhone}\n                      onChange={(event) => {\n                        setSelectedPhone(event.currentTarget.value);\n                      }}\n                      placeholder=\"(___) ___-__-__\"\n                    />\n                  </div>\n                </label>\n              </div>\n              <div className={styles[\"password\"]}>\n                <label>\n                  <input\n                    type=\"password\"\n                    value={selectedPassword}\n                    onChange={(event) => {\n                      setSelectedPassword(event.currentTarget.value);\n                    }}\n                    placeholder=\"Password\"\n                  />\n                </label>\n              </div>\n              <button\n                className={styles[\"registration-btn\"]}\n                disabled={!canRegister}\n                onClick={handleRegister}\n              >\n                Register\n              </button>\n            </form>\n\n            <VKButton />\n\n            <div style={{ textAlign: \"center\", marginBottom: 10 }}>\n              <span>\n                Already have an account? Use{\" \"}\n                <a\n                  href=\"/signin\"\n                  style={{ color: \"initial\", cursor: \"pointer\", fontSize: 17 }}\n                >\n                  sign in\n                </a>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </LayoutDefault>\n  );\n};\n\nexport default inject(\"UserStore\")(Registration);\n","// extracted by mini-css-extract-plugin\nexport default {\"signin-form\":\"Confirm_signin-form__3Oq4C\",\"phone-prefix\":\"Confirm_phone-prefix__3CDI2\",\"phone\":\"Confirm_phone__3iwGd\",\"code\":\"Confirm_code__2n2WK\",\"confirm-btn\":\"Confirm_confirm-btn__1Ljw4\",\"request-confirmation-code-btn\":\"Confirm_request-confirmation-code-btn__2WjYr\",\"alert\":\"Confirm_alert__1jwrY\",\"alert-success\":\"Confirm_alert-success__3G3Yt\"};","import React from \"react\";\nimport { useState } from \"react\";\nimport LayoutDefault from \"components/LayoutDefault\";\nimport Inputmask from \"inputmask\";\n\nimport styles from \"./Confirm.module.scss\";\nimport UserStore from \"../../stores/UserStore\";\nimport { RouteComponentProps } from \"react-router\";\nimport { inject } from \"mobx-react\";\ninterface IProps extends RouteComponentProps {\n  UserStore: typeof UserStore;\n}\n\nconst ConfirmPage: React.FC<IProps> = (props) => {\n  // POST /auth/confirm-account\n  // POST /auth/request-confirmation-code\n  // POST /auth/request-change-phone\n\n  // POST /auth/request-confirmation-code-via-sms\n\n  const { state, user } = props.UserStore;\n  const [isError, setIsError] = useState(false);\n  const [errMessage, setErrMessage] = useState(\"\");\n\n  const [selectedPhone, setSelectedPhone] = useState(\"\");\n  const [selectedCode, setSelectedCode] = useState(\"\");\n  const [selectedAlert, setSelectedAlert] = useState(\"\" as any);\n\n  const [\n    allowRequestNewConfirmationCode,\n    setAllowRequestNewConfirmationCode,\n  ] = useState(false);\n  const [waitIntervalBetweenTries, setWaitIntervalBetweenTries] = useState(\n    30 * 1000\n  );\n\n  const [selectedSection, setSelectedSection] = useState(\"enter-code\");\n  const [allowEnterCode, setAllowEnterCode] = useState(true);\n\n  const [useUpdatePhone, setUseUpdatePhone] = useState(false);\n  // allowedTriesToEnterCode\n\n  React.useEffect(() => {\n    useUpdatePhone && canChangePhone() && handleUpdatePhone();\n  }, [selectedPhone, useUpdatePhone]);\n\n  React.useEffect(() => {\n    // const existingSelectedPhone = sessionStorage.getItem('selectedPhone');\n    // if(existingSelectedPhone) {\n    //   sessionStorage.removeItem('selectedPhone');\n    //   setSelectedPhone(existingSelectedPhone);\n    // }\n    const phoneEl = document.querySelector(\".phone input\");\n    if (phoneEl) {\n      Inputmask({ mask: \"(999) 999-99-99\" }).mask(phoneEl);\n    }\n  }, [selectedPhone]);\n\n  React.useEffect(() => {\n    // sessionStorage\n    if (!selectedAlert) {\n      const alert = sessionStorage.getItem(\"alert\");\n      sessionStorage.removeItem(\"alert\");\n      setSelectedAlert(JSON.parse(alert));\n    }\n\n    if (!user) {\n      UserStore.getProfile().then((res: any) => {\n        setSelectedPhone(res.phone.replace(\"+7\", \"\"));\n      });\n    }\n\n    let timeoutTimer;\n    if (waitIntervalBetweenTries > 0) {\n      timeoutTimer = setTimeout(() => {\n        setWaitIntervalBetweenTries(waitIntervalBetweenTries - 1000);\n      }, 1000);\n    } else if (allowRequestNewConfirmationCode === false) {\n      clearTimeout(timeoutTimer);\n      setAllowRequestNewConfirmationCode(true);\n    }\n  }, [selectedAlert, waitIntervalBetweenTries]);\n\n  const canConfirm = () => {\n    return selectedPhone.trim() && selectedCode.trim();\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    handleConfirm();\n  };\n\n  const handleConfirm = () => {\n    if (canConfirm()) {\n      setIsError(false);\n      setErrMessage(\"\");\n      UserStore.confirmAccount(selectedPhone.trim(), selectedCode.trim())\n        .then((res) => {\n          // redirect\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              sessionStorage.removeItem(\"alert\");\n\n              sessionStorage.setItem(\n                \"alert\",\n                JSON.stringify({\n                  text: \"Account successfully registered!\",\n                })\n              );\n              sessionStorage.setItem(\"useUpdateUser\", JSON.stringify(true));\n              resolve();\n            }, 100);\n          }).then(() => {\n            props.history.push(\"/user\");\n          });\n        })\n        .catch((err) => {\n          setErrMessage(err.message || \"Ошибка при подтверждении аккаунта\");\n          setIsError(true);\n        });\n    }\n  };\n\n  const canRequestNewConfirmationCode = () => {\n    return (\n      waitIntervalBetweenTries === 0 &&\n      allowRequestNewConfirmationCode &&\n      canChangePhone()\n    );\n  };\n\n  const handleRequestNewConfirmationCode = () => {\n    // requestConfirmationCode\n\n    if (canRequestNewConfirmationCode()) {\n      // keep\n    } else {\n      return;\n    }\n\n    setIsError(false);\n    setErrMessage(\"\");\n    // setSelectedAlert(\"\");\n    UserStore.requestConfirmationCode(selectedPhone.trim())\n      .then((res) => {\n        // redirect\n        sessionStorage.removeItem(\"alert\");\n\n        sessionStorage.setItem(\n          \"alert\",\n          JSON.stringify({\n            text: \"New confirmation code successfully sent!\",\n          })\n        );\n        const alert = sessionStorage.getItem(\"alert\");\n        sessionStorage.removeItem(\"alert\");\n        setSelectedAlert(JSON.parse(alert));\n\n        setAllowEnterCode(true);\n        // props.history.push(\"/signin\");\n      })\n      .catch((err) => {\n        setIsError(true);\n        setErrMessage(\n          err.message || \"Ошибка при запросе нового кода подтверждения\"\n        );\n      });\n  };\n\n  const canChangePhone = () => {\n    return (\n      [\"+7\", selectedPhone]\n        .join(\"\")\n        .replaceAll(\"(\", \"\")\n        .replaceAll(\")\", \"\")\n        .replaceAll(\" \", \"\")\n        .replaceAll(\"-\", \"\")\n        .replaceAll(\"_\", \"\").length === 12\n    );\n  };\n  const handleUpdatePhone = () => {\n    if (canChangePhone()) {\n      // keep\n    } else {\n      return;\n    }\n\n    return new Promise((resolve, reject) => {\n      setIsError(false);\n      setErrMessage(\"\");\n      // setSelectedAlert(\"\");\n      UserStore.requestChangePhone(user.id, selectedPhone.trim())\n        .then((res) => {\n          // redirect\n          sessionStorage.removeItem(\"alert\");\n\n          sessionStorage.setItem(\n            \"alert\",\n            JSON.stringify({\n              text: \"Phone changed!\",\n            })\n          );\n          const alert = sessionStorage.getItem(\"alert\");\n          sessionStorage.removeItem(\"alert\");\n          setSelectedAlert(JSON.parse(alert));\n\n          resolve();\n        })\n        .catch((err) => {\n          setIsError(true);\n          setErrMessage(err.message || \"Ошибка при изменении телефона\");\n          reject();\n        });\n    });\n  };\n\n  return (\n    <LayoutDefault>\n      <div className={styles[\"signin-page\"]}>\n        <div className={styles[\"signin-form\"]}>\n          <div>\n            <h2>Confirm</h2>\n            <div\n              style={{\n                margin: \"auto\",\n                textAlign: \"center\",\n                width: 400,\n                marginBottom: 20,\n                fontSize: 17,\n              }}\n            >\n              We sent SMS with code into your phone\n              <br /> to verify your registration\n            </div>\n            {selectedAlert && (\n              <div className={`${styles[\"alert\"]} ${styles[\"alert-success\"]}`}>\n                {selectedAlert.text}\n              </div>\n            )}\n            {isError && (\n              <div\n                style={{\n                  width: 400,\n                  margin: \"auto\",\n                  textAlign: \"center\",\n                  color: \"red\",\n                  marginBottom: 10,\n                }}\n              >\n                {errMessage}\n              </div>\n            )}\n\n            <div>\n              {selectedSection === \"enter-code\" && allowEnterCode && (\n                <form onSubmit={handleSubmit} style={{ marginBottom: 20 }}>\n                  <div className={`phone ${styles[\"phone\"]}`}>\n                    <label>\n                      {/*<span style={{marginBottom: 5, display: 'block', fontSize: 14}}>Phone</span>*/}\n                      <div style={{ overflow: \"hidden\" }}>\n                        <span className={styles[\"phone-prefix\"]}>+7</span>\n                        <input\n                          type=\"text\"\n                          value={selectedPhone}\n                          onChange={(event) => {\n                            setSelectedPhone(event.currentTarget.value);\n                            setUseUpdatePhone(true);\n                          }}\n                          placeholder=\"(___) ___-__-__\"\n                        />\n                      </div>\n                    </label>\n                  </div>\n\n                  <div className={styles[\"code\"]}>\n                    <label>\n                      {/*<span style={{marginBottom: 5, display: 'block', fontSize: 14}}>Phone</span>*/}\n                      <input\n                        type=\"text\"\n                        value={selectedCode}\n                        onChange={(event) => {\n                          setSelectedCode(event.currentTarget.value);\n                        }}\n                        placeholder=\"Code\"\n                      />\n                    </label>\n                  </div>\n                  <button\n                    className={styles[\"confirm-btn\"]}\n                    onClick={handleConfirm}\n                  >\n                    Confirm\n                  </button>\n                </form>\n              )}\n\n              <div>\n                {!allowRequestNewConfirmationCode &&\n                  waitIntervalBetweenTries > 0 &&\n                  selectedSection === \"enter-code\" && (\n                    <div\n                      style={{\n                        width: 400,\n                        fontSize: 17,\n                        textAlign: \"center\",\n                        margin: \"auto\",\n                      }}\n                    >\n                      Please wait {waitIntervalBetweenTries / 1000} sec before\n                      requesting <br />\n                      new confirmation code\n                    </div>\n                  )}\n\n                {allowRequestNewConfirmationCode &&\n                  selectedSection === \"enter-code\" && (\n                    <div>\n                      {!allowEnterCode && (\n                        <div className={styles[\"code\"]}>\n                          <label>\n                            {/*<span style={{marginBottom: 5, display: 'block', fontSize: 14}}>Phone</span>*/}\n                            <input\n                              type=\"text\"\n                              value={selectedPhone}\n                              disabled={true}\n                              placeholder=\"Phone\"\n                            />\n                          </label>\n                        </div>\n                      )}\n\n                      <button\n                        className={styles[\"request-confirmation-code-btn\"]}\n                        onClick={handleRequestNewConfirmationCode}\n                      >\n                        Request new confirmation code\n                      </button>\n                    </div>\n                  )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </LayoutDefault>\n  );\n};\n\nexport default inject(\"UserStore\")(ConfirmPage);\n","// extracted by mini-css-extract-plugin\nexport default {\"signin-form\":\"Onboarding_signin-form__1zrza\",\"phone-prefix\":\"Onboarding_phone-prefix__2PHDT\",\"phone\":\"Onboarding_phone__Rsb5A\",\"signin-btn\":\"Onboarding_signin-btn__1fpgy\",\"alert\":\"Onboarding_alert__S81QU\",\"alert-success\":\"Onboarding_alert-success__2EgIZ\"};","import React from \"react\";\nimport { useState } from \"react\";\nimport Inputmask from \"inputmask\";\n\nimport LayoutDefault from \"components/LayoutDefault\";\n\nimport styles from \"./Onboarding.module.scss\";\nimport UserStore from \"../../stores/UserStore\";\nimport { RouteComponentProps } from \"react-router\";\ninterface IProps extends RouteComponentProps {}\n\nconst OnboardingPage: React.FC<IProps> = (props) => {\n  // POST /auth/welcome\n\n  const [selectedPhone, setSelectedPhone] = useState(\"\");\n\n  const [selectedAlert, setSelectedAlert] = useState(\"\" as any);\n\n  React.useEffect(() => {\n    if (!selectedAlert) {\n      const alert = sessionStorage.getItem(\"alert\");\n      setSelectedAlert(JSON.parse(alert));\n    }\n    sessionStorage.removeItem(\"phone\");\n  }, [selectedAlert]);\n\n  React.useEffect(() => {\n    const phoneEl = document.querySelector(\".phone input\");\n    if (phoneEl) {\n      Inputmask({ mask: \"(999) 999-99-99\" }).mask(phoneEl);\n    }\n  }, []);\n\n  const canContinue = () => {\n    return selectedPhone.trim();\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    handleContinue();\n  };\n\n  const handleContinue = () => {\n    if (canContinue()) {\n      UserStore.welcome(selectedPhone.trim()).then((res) => {\n        // redirect\n        sessionStorage.setItem(\"selectedPhone\", selectedPhone);\n\n        sessionStorage.removeItem(\"alert\");\n\n        const phone = sessionStorage.getItem(\"phone\");\n        if (phone) {\n          props.history.push(\"/signin\");\n        } else {\n          props.history.push(\"/registration\");\n        }\n      });\n    }\n  };\n\n  return (\n    <LayoutDefault>\n      <div className={styles[\"signin-page\"]}>\n        <div className={styles[\"signin-form\"]}>\n          <div>\n            <h2>Enter your phone</h2>\n            {selectedAlert && (\n              <div className={`${styles[\"alert\"]} ${styles[\"alert-success\"]}`}>\n                {selectedAlert.text}\n              </div>\n            )}\n            <form onSubmit={handleSubmit}>\n              <div className={`phone ${styles[\"phone\"]}`}>\n                <label>\n                  <div style={{ overflow: \"hidden\" }}>\n                    <span className={styles[\"phone-prefix\"]}>+7</span>\n                    <input\n                      type=\"text\"\n                      value={selectedPhone}\n                      onChange={(event) => {\n                        setSelectedPhone(event.currentTarget.value);\n                      }}\n                      placeholder=\"(___) ___-__-__\"\n                    />\n                  </div>\n                </label>\n              </div>\n              <button\n                className={styles[\"signin-btn\"]}\n                disabled={!canContinue}\n                onClick={handleContinue}\n              >\n                Continue\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </LayoutDefault>\n  );\n};\n\nexport default OnboardingPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"user-page\":\"ChangePassword_user-page__1qQNo\",\"first-name\":\"ChangePassword_first-name__13yrp\",\"last-name\":\"ChangePassword_last-name__2dFuk\",\"password\":\"ChangePassword_password__1bHsL\",\"phone\":\"ChangePassword_phone__1e1q1\",\"email\":\"ChangePassword_email__1gYg3\",\"update-profile-container\":\"ChangePassword_update-profile-container__29mif\",\"update-profile-btn\":\"ChangePassword_update-profile-btn__1rNvz\"};","import React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport LayoutUser from \"components/LayoutUser\";\n\nimport UserStore from \"stores/UserStore\";\n\nimport styles from \"./ChangePassword.module.scss\";\n\ninterface IProps extends RouteComponentProps {\n  UserStore: typeof UserStore;\n}\n\nconst ChangePasswordPage: React.FC<IProps> = (props) => {\n  // POST /auth/change-password\n\n  const { state, user } = props.UserStore;\n  const [isError, setIsError] = useState(false);\n  const [errMessage, setErrMessage] = useState(\"\");\n\n  const [selectedOldPassword, setSelectedOldPassword] = useState(\"\");\n  const [selectedNewPassword, setSelectedNewPassword] = useState(\"\");\n  const [selectedRepeatPassword, setSelectedRepeatPassword] = useState(\"\");\n\n  React.useEffect(() => {\n    const token = sessionStorage.getItem(\"token\");\n    // eslint-disable-next-line no-console\n    console.log(token);\n    if (!token) {\n      return props.history.push(\"/signin\");\n    }\n\n    if (!user) {\n      UserStore.getProfile().then((res: any) => {});\n    }\n  });\n\n  // if (state === RequestState.ERROR) return <p>Erorr</p>;\n\n  // if (state !== RequestState.SUCCESS) {\n  //   return (\n  //     <LayoutUser>\n  //       <p>Loading...</p>\n  //     </LayoutUser>\n  //   );\n  // }\n\n  const canConfirm = () => {\n    return (\n      selectedOldPassword.trim() &&\n      selectedNewPassword.trim() === selectedRepeatPassword.trim()\n    );\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    handleChangePassword();\n  };\n\n  const handleChangePassword = () => {\n    if (canConfirm()) {\n      setIsError(false);\n      setErrMessage(\"\");\n      UserStore.changePassword(\n        user.id,\n        selectedOldPassword.trim(),\n        selectedNewPassword.trim()\n      )\n        .then((res) => {\n          // redirect\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              sessionStorage.removeItem(\"alert\");\n\n              sessionStorage.setItem(\n                \"alert\",\n                JSON.stringify({\n                  text: \"Password successfully changed!\",\n                })\n              );\n              resolve();\n            }, 100);\n          }).then(() => {\n            props.history.push(\"/user\");\n          });\n        })\n        .catch((err) => {\n          setErrMessage(err.message || \"Ошибка при изменении пароля\");\n          setIsError(true);\n        });\n    }\n  };\n\n  return (\n    <LayoutUser>\n      <div className={styles[\"user-page\"]}>\n        <h2>Change password</h2>\n        <div style={{ width: 300, fontSize: 17, margin: \"auto\" }}>\n          Please fill out the form below <br />\n          to change password <br />\n          <br />\n        </div>\n        <form onSubmit={handleSubmit} style={{ marginBottom: 20 }}>\n          {isError && (\n            <div\n              style={{\n                width: 400,\n                margin: \"auto\",\n                textAlign: \"center\",\n                color: \"red\",\n                marginBottom: 10,\n              }}\n            >\n              {errMessage}\n            </div>\n          )}\n          <div className={styles[\"password\"]}>\n            <label>\n              <span>Password</span>\n              <input\n                type=\"password\"\n                placeholder=\"Old Password\"\n                value={selectedOldPassword}\n                onChange={(event) => {\n                  setSelectedOldPassword(event.currentTarget.value);\n                }}\n              />\n            </label>\n          </div>\n\n          <div className={styles[\"password\"]}>\n            <label>\n              <span>New Password</span>\n              <input\n                type=\"password\"\n                placeholder=\"New Password\"\n                value={selectedNewPassword}\n                onChange={(event) => {\n                  setSelectedNewPassword(event.currentTarget.value);\n                }}\n              />\n            </label>\n          </div>\n\n          <div className={styles[\"password\"]}>\n            <label>\n              <span>Repeat Password</span>\n              <input\n                type=\"password\"\n                placeholder=\"Repeat Password\"\n                value={selectedRepeatPassword}\n                onChange={(event) => {\n                  setSelectedRepeatPassword(event.currentTarget.value);\n                }}\n              />\n            </label>\n          </div>\n\n          <div className={styles[\"update-profile-container\"]}>\n            <button\n              className={styles[\"update-profile-btn\"]}\n              style={{ padding: 10 }}\n              onClick={(event) => {\n                /*handleUpdateControlPoint()*/\n              }}\n            >\n              Обновить пароль\n            </button>\n          </div>\n        </form>\n      </div>\n      <br />\n      <br />\n    </LayoutUser>\n  );\n};\n\nexport default inject(\"UserStore\")(withRouter(observer(ChangePasswordPage)));\n","// extracted by mini-css-extract-plugin\nexport default {\"user-page\":\"ChangePhone_user-page__2R7aV\",\"phone-prefix\":\"ChangePhone_phone-prefix__16Slm\",\"phone\":\"ChangePhone_phone__sGpwT\",\"code\":\"ChangePhone_code__3YTrI\",\"update-phone-container\":\"ChangePhone_update-phone-container__25juU\",\"update-phone-btn\":\"ChangePhone_update-phone-btn__3TJVr\",\"request-confirmation-code-btn\":\"ChangePhone_request-confirmation-code-btn__8xuc_\",\"alert\":\"ChangePhone_alert__2NJq7\",\"fadein\":\"ChangePhone_fadein__3mt-X\",\"alert-success\":\"ChangePhone_alert-success__2b6PM\",\"alert-error\":\"ChangePhone_alert-error__3oJ1y\"};","import React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport Inputmask from \"inputmask\";\nimport LayoutUser from \"components/LayoutUser\";\n\nimport UserStore from \"stores/UserStore\";\n\nimport styles from \"./ChangePhone.module.scss\";\n\ninterface IProps extends RouteComponentProps {\n  UserStore: typeof UserStore;\n}\n\nconst ChangePhonePage: React.FC<IProps> = (props) => {\n  // POST /auth/request-change-phone-with-confirmation\n  // POST /auth/request-confirmation-code-for-change-phone\n  // POST /auth/confirm-change-phone-with-verification\n\n  const { state, user } = props.UserStore;\n  const [isError, setIsError] = useState(false);\n  const [errMessage, setErrMessage] = useState(\"\");\n  const [selectedAlert, setSelectedAlert] = useState(\"\" as any);\n\n  const [selectedPhone, setSelectedPhone] = useState(\"\");\n  const [selectedCode, setSelectedCode] = useState(\"\");\n\n  const [\n    allowRequestNewConfirmationCode,\n    setAllowRequestNewConfirmationCode,\n  ] = useState(false);\n  const [waitIntervalBetweenTries, setWaitIntervalBetweenTries] = useState(\n    2 * 1000\n  );\n\n  const [selectedSection, setSelectedSection] = useState(\"enter-code\");\n  const [allowEnterCode, setAllowEnterCode] = useState(true);\n\n  const [useUpdatePhone, setUseUpdatePhone] = useState(false);\n\n  const [phoneUpdated, setPhoneUpdated] = useState(false);\n\n  React.useEffect(() => {\n    useUpdatePhone && canChangePhone() && handleUpdatePhone();\n  }, [selectedPhone, useUpdatePhone]);\n\n  React.useEffect(() => {\n    const token = sessionStorage.getItem(\"token\");\n    // eslint-disable-next-line no-console\n    console.log(token);\n    if (!token) {\n      return props.history.push(\"/signin\");\n    }\n\n    const phoneEl = document.querySelector(\".phone input\");\n    if (phoneEl) {\n      Inputmask({ mask: \"(999) 999-99-99\" }).mask(phoneEl);\n    }\n    if (!user) {\n      UserStore.getProfile().then((res: any) => {\n        setSelectedPhone(res.phone && res.phone.replace(\"+7\", \"\") || '');\n      });\n    }\n\n    let timeoutTimer;\n    if (waitIntervalBetweenTries > 0) {\n      timeoutTimer = setTimeout(() => {\n        setWaitIntervalBetweenTries(waitIntervalBetweenTries - 1000);\n      }, 1000);\n    } else if (allowRequestNewConfirmationCode === false) {\n      clearTimeout(timeoutTimer);\n      setAllowRequestNewConfirmationCode(true);\n    }\n\n    if (sessionStorage.getItem(\"alert\")) {\n      const alert = sessionStorage.getItem(\"alert\");\n      sessionStorage.removeItem(\"alert\");\n      setSelectedAlert(JSON.parse(alert));\n    }\n  });\n\n  // if (state === RequestState.ERROR) return <p>Erorr</p>;\n\n  // if (state !== RequestState.SUCCESS) {\n  //   return (\n  //     <LayoutUser>\n  //       <p>Loading...</p>\n  //     </LayoutUser>\n  //   );\n  // }\n\n  const canConfirm = () => {\n    return selectedPhone.trim() && canChangePhone();\n  };\n\n  const canChangePhone = () => {\n    return (\n      [\"+7\", selectedPhone]\n        .join(\"\")\n        .replaceAll(\"(\", \"\")\n        .replaceAll(\")\", \"\")\n        .replaceAll(\" \", \"\")\n        .replaceAll(\"-\", \"\")\n        .replaceAll(\"_\", \"\").length === 12\n    );\n  };\n  const handleUpdatePhone = () => {\n    if (canChangePhone()) {\n      // keep\n    } else {\n      return;\n    }\n\n    return new Promise((resolve, reject) => {\n      setIsError(false);\n      setErrMessage(\"\");\n      // setSelectedAlert(\"\");\n      // request-change-phone-with-verification\n      UserStore.requestChangePhoneWithConfirmation(\n        user.id,\n        selectedPhone.trim()\n      )\n        .then((res) => {\n          // redirect\n          sessionStorage.removeItem(\"alert\");\n\n          sessionStorage.setItem(\n            \"alert\",\n            JSON.stringify({\n              text: \"Phone changed!\",\n            })\n          );\n          const alert = sessionStorage.getItem(\"alert\");\n          sessionStorage.removeItem(\"alert\");\n          setSelectedAlert(JSON.parse(alert));\n\n          setPhoneUpdated(true);\n\n          // props.history.push(\"/signin\");\n          resolve();\n        })\n        .catch((err) => {\n          setIsError(true);\n          setErrMessage(err.message || \"Ошибка при изменении телефона\");\n          reject();\n        });\n    });\n  };\n\n  const canRequestNewConfirmationCode = () => {\n    return (\n      waitIntervalBetweenTries === 0 &&\n      allowRequestNewConfirmationCode &&\n      canChangePhone()\n    );\n  };\n\n  const handleRequestNewConfirmationCode = () => {\n    // requestConfirmationCode\n\n    if (canRequestNewConfirmationCode() && phoneUpdated) {\n      // keep\n    } else {\n      return;\n    }\n\n    setIsError(false);\n    setErrMessage(\"\");\n    // setSelectedAlert(\"\");\n    UserStore.requestChangePhoneWithConfirmation(user.id, selectedPhone.trim())\n      .then((res) => {\n        // redirect\n        sessionStorage.removeItem(\"alert\");\n\n        sessionStorage.setItem(\n          \"alert\",\n          JSON.stringify({\n            text: \"New confirmation code successfully sent!\",\n          })\n        );\n        const alert = sessionStorage.getItem(\"alert\");\n        sessionStorage.removeItem(\"alert\");\n        setSelectedAlert(JSON.parse(alert));\n\n        setAllowEnterCode(true);\n        // props.history.push(\"/signin\");\n      })\n      .catch((err) => {\n        setIsError(true);\n        setErrMessage(\n          err.message || \"Ошибка при запросе нового кода подтверждения\"\n        );\n      });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    // handleConfirm();\n  };\n\n  const handleConfirm = () => {\n    if (canConfirm()) {\n      setIsError(false);\n      setErrMessage(\"\");\n\n      UserStore.confirmChangePhoneWithVerification(\n        user.id,\n        selectedPhone.trim(),\n        selectedCode.trim()\n      )\n        .then((res) => {\n          // redirect\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              sessionStorage.removeItem(\"alert\");\n\n              sessionStorage.setItem(\n                \"alert\",\n                JSON.stringify({\n                  text: \"Phone successfully changed!\",\n                })\n              );\n              sessionStorage.setItem(\"useUpdateUser\", JSON.stringify(true));\n              resolve();\n            }, 100);\n          }).then(() => {\n            props.history.push(\"/user\");\n          });\n        })\n        .catch((err) => {\n          setErrMessage(err.message || \"Ошибка при подтверждении аккаунта\");\n          setIsError(true);\n        });\n    }\n  };\n\n  return (\n    <LayoutUser>\n      <div className={styles[\"user-page\"]}>\n        <h2>Change phone</h2>\n        <div\n          style={{\n            margin: \"auto\",\n            textAlign: \"center\",\n            width: 400,\n            marginBottom: 20,\n            fontSize: 17,\n          }}\n        >\n          We will send SMS with code into your phone\n          <br /> to verify your registration\n        </div>\n\n        {selectedAlert && (\n          <div className={`${styles[\"alert\"]} ${styles[\"alert-success\"]}`}>\n            {selectedAlert.text}\n          </div>\n        )}\n        {isError && (\n          <div\n            style={{\n              width: 400,\n              margin: \"auto\",\n              textAlign: \"center\",\n              color: \"red\",\n              marginBottom: 10,\n            }}\n          >\n            {errMessage}\n          </div>\n        )}\n\n        <div>\n          {selectedSection === \"enter-code\" && allowEnterCode && (\n            <form onSubmit={handleSubmit} style={{ marginBottom: 20 }}>\n              <div className={`phone ${styles[\"phone\"]}`}>\n                <label>\n                  {/*<span style={{marginBottom: 5, display: 'block', fontSize: 14}}>Phone</span>*/}\n                  <div style={{ overflow: \"hidden\" }}>\n                    <span className={styles[\"phone-prefix\"]}>+7</span>\n                    <input\n                      type=\"text\"\n                      value={selectedPhone}\n                      onChange={(event) => {\n                        setSelectedPhone(event.currentTarget.value);\n                        setUseUpdatePhone(true);\n                      }}\n                      placeholder=\"(___) ___-__-__\"\n                    />\n                  </div>\n                </label>\n              </div>\n\n              {phoneUpdated && (\n                <div>\n                  <div className={styles[\"code\"]}>\n                    <label>\n                      {/*<span style={{marginBottom: 5, display: 'block', fontSize: 14}}>Phone</span>*/}\n                      <input\n                        type=\"text\"\n                        value={selectedCode}\n                        onChange={(event) => {\n                          setSelectedCode(event.currentTarget.value);\n                        }}\n                        placeholder=\"Code\"\n                      />\n                    </label>\n                  </div>\n                  <div className={styles[\"update-phone-container\"]}>\n                    <button\n                      className={styles[\"update-phone-btn\"]}\n                      onClick={handleConfirm}\n                    >\n                      Confirm update phone\n                    </button>\n                  </div>\n                </div>\n              )}\n            </form>\n          )}\n\n          <div>\n            {!allowRequestNewConfirmationCode &&\n              waitIntervalBetweenTries > 0 &&\n              selectedSection === \"enter-code\" &&\n              phoneUpdated && (\n                <div\n                  style={{\n                    width: 400,\n                    fontSize: 17,\n                    textAlign: \"center\",\n                    margin: \"auto\",\n                  }}\n                >\n                  Please wait {waitIntervalBetweenTries / 1000} sec before\n                  requesting <br />\n                  new confirmation code\n                </div>\n              )}\n\n            {allowRequestNewConfirmationCode &&\n              selectedSection === \"enter-code\" && (\n                <form onSubmit={handleSubmit} style={{ marginBottom: 20 }}>\n                  <div>\n                    {!allowEnterCode && (\n                      <div className={styles[\"code\"]}>\n                        <label>\n                          {/*<span style={{marginBottom: 5, display: 'block', fontSize: 14}}>Phone</span>*/}\n                          <input\n                            type=\"text\"\n                            value={selectedPhone}\n                            disabled={true}\n                            placeholder=\"Phone\"\n                          />\n                        </label>\n                      </div>\n                    )}\n\n                    {phoneUpdated && (\n                      <div>\n                        <button\n                          className={styles[\"request-confirmation-code-btn\"]}\n                          onClick={handleRequestNewConfirmationCode}\n                        >\n                          Request new confirmation code\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </form>\n              )}\n          </div>\n        </div>\n      </div>\n      <br />\n      <br />\n    </LayoutUser>\n  );\n};\n\nexport default inject(\"UserStore\")(withRouter(observer(ChangePhonePage)));\n","// extracted by mini-css-extract-plugin\nexport default {\"user-page\":\"ChangeEmail_user-page__2ATTE\",\"email\":\"ChangeEmail_email__3VF0J\",\"code\":\"ChangeEmail_code__wN8fL\",\"update-email-container\":\"ChangeEmail_update-email-container__2JHrA\",\"update-email-btn\":\"ChangeEmail_update-email-btn__1obU7\",\"request-confirmation-code-btn\":\"ChangeEmail_request-confirmation-code-btn__34tv3\",\"alert\":\"ChangeEmail_alert__30Qb6\",\"fadein\":\"ChangeEmail_fadein__JJuXu\",\"alert-success\":\"ChangeEmail_alert-success__1zlpM\",\"alert-error\":\"ChangeEmail_alert-error__3U8q5\"};","import React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport LayoutUser from \"components/LayoutUser\";\n\nimport UserStore from \"stores/UserStore\";\n\nimport styles from \"./ChangeEmail.module.scss\";\n\ninterface IProps extends RouteComponentProps {\n  UserStore: typeof UserStore;\n}\n\nconst ChangeEmailPage: React.FC<IProps> = (props) => {\n  // POST /auth/request-change-email-with-confirmation\n  // POST /auth/request-confirmation-code-for-change-email\n  // POST /auth/confirm-change-email-with-verification\n\n  const { state, user } = props.UserStore;\n  const [isError, setIsError] = useState(false);\n  const [errMessage, setErrMessage] = useState(\"\");\n  const [selectedAlert, setSelectedAlert] = useState(\"\" as any);\n\n  const [selectedEmail, setSelectedEmail] = useState(\"\");\n  const [selectedCode, setSelectedCode] = useState(\"\");\n\n  const [\n    allowRequestNewConfirmationCode,\n    setAllowRequestNewConfirmationCode,\n  ] = useState(false);\n  const [waitIntervalBetweenTries, setWaitIntervalBetweenTries] = useState(\n    2 * 1000\n  );\n\n  const [selectedSection, setSelectedSection] = useState(\"enter-email\");\n  const [allowEnterCode, setAllowEnterCode] = useState(true);\n\n  const [useUpdateEmail, setUseUpdateEmail] = useState(false);\n\n  const [emailUpdated, setEmailUpdated] = useState(false);\n\n  // set email\n  // enter code\n  // React.useEffect(() => { useUpdatePhone && canChangePhone() && handleUpdatePhone(); }, [selectedPhone, useUpdatePhone] );\n\n  React.useEffect(() => {\n    const token = sessionStorage.getItem(\"token\");\n    // eslint-disable-next-line no-console\n    console.log(token);\n    if (!token) {\n      return props.history.push(\"/signin\");\n    }\n\n    if (!user) {\n      UserStore.getProfile().then((res: any) => {\n        setSelectedEmail(res.email);\n      });\n    }\n\n    let timeoutTimer;\n    if (waitIntervalBetweenTries > 0) {\n      timeoutTimer = setTimeout(() => {\n        setWaitIntervalBetweenTries(waitIntervalBetweenTries - 1000);\n      }, 1000);\n    } else if (allowRequestNewConfirmationCode === false) {\n      clearTimeout(timeoutTimer);\n      setAllowRequestNewConfirmationCode(true);\n    }\n\n    if (sessionStorage.getItem(\"alert\")) {\n      const alert = sessionStorage.getItem(\"alert\");\n      sessionStorage.removeItem(\"alert\");\n      setSelectedAlert(JSON.parse(alert));\n    }\n  });\n\n  // if (state === RequestState.ERROR) return <p>Erorr</p>;\n\n  // if (state !== RequestState.SUCCESS) {\n  //   return (\n  //     <LayoutUser>\n  //       <p>Loading...</p>\n  //     </LayoutUser>\n  //   );\n  // }\n\n  const canConfirm = () => {\n    return selectedEmail.trim() && canChangeEmail();\n  };\n\n  const validateEmail = (email) => {\n    const pattern = new RegExp(\n      /^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i\n    );\n\n    if (!pattern.test(email)) {\n      return {\n        errors: { email: \"Please enter valid email address.\" },\n        isValid: false,\n      };\n    }\n    return {\n      isValid: true,\n    };\n  };\n\n  const canChangeEmail = () => {\n    // valid email\n    const validatedEmail = validateEmail(selectedEmail);\n    return validatedEmail[\"isValid\"];\n  };\n  const handleSubmitUpdateEmail = (event) => {\n    event.preventDefault();\n    // handleUpdateEmail();\n  };\n\n  const handleUpdateEmail = () => {\n    if (canChangeEmail()) {\n      // keep\n    } else {\n      return;\n    }\n\n    return new Promise((resolve, reject) => {\n      setIsError(false);\n      setErrMessage(\"\");\n      // setSelectedAlert(\"\");\n      UserStore.requestChangeEmailWithConfirmation(\n        user.id,\n        selectedEmail.trim()\n      )\n        .then((res) => {\n          // redirect\n          sessionStorage.removeItem(\"alert\");\n\n          sessionStorage.setItem(\n            \"alert\",\n            JSON.stringify({\n              text: \"Email changed!\",\n            })\n          );\n          const alert = sessionStorage.getItem(\"alert\");\n          sessionStorage.removeItem(\"alert\");\n          setSelectedAlert(JSON.parse(alert));\n\n          setSelectedSection(\"enter-code\");\n          setEmailUpdated(true);\n\n          // props.history.push(\"/signin\");\n          resolve();\n        })\n        .catch((err) => {\n          setIsError(true);\n          setErrMessage(err.message || \"Ошибка при изменении телефона\");\n          reject();\n        });\n    });\n  };\n\n  const canRequestNewConfirmationCode = () => {\n    return (\n      waitIntervalBetweenTries === 0 &&\n      allowRequestNewConfirmationCode &&\n      canChangeEmail()\n    );\n  };\n\n  const handleRequestNewConfirmationCode = () => {\n    // requestConfirmationCode\n\n    if (canRequestNewConfirmationCode() && emailUpdated) {\n      // keep\n    } else {\n      return;\n    }\n\n    setIsError(false);\n    setErrMessage(\"\");\n    // setSelectedAlert(\"\");\n    UserStore.requestChangeEmailWithConfirmation(user.id, selectedEmail.trim())\n      .then((res) => {\n        // redirect\n        sessionStorage.removeItem(\"alert\");\n\n        sessionStorage.setItem(\n          \"alert\",\n          JSON.stringify({\n            text: \"New confirmation code successfully sent!\",\n          })\n        );\n        const alert = sessionStorage.getItem(\"alert\");\n        sessionStorage.removeItem(\"alert\");\n        setSelectedAlert(JSON.parse(alert));\n\n        setAllowEnterCode(true);\n        // props.history.push(\"/signin\");\n      })\n      .catch((err) => {\n        setIsError(true);\n        setErrMessage(\n          err.message || \"Ошибка при запросе нового кода подтверждения\"\n        );\n      });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    handleConfirm();\n  };\n\n  const handleConfirm = () => {\n    if (canConfirm()) {\n      setIsError(false);\n      setErrMessage(\"\");\n\n      UserStore.confirmChangeEmailWithVerification(\n        user.id,\n        selectedEmail.trim(),\n        selectedCode.trim()\n      )\n        .then((res) => {\n          // redirect\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              sessionStorage.removeItem(\"alert\");\n\n              sessionStorage.setItem(\n                \"alert\",\n                JSON.stringify({\n                  text: \"Email successfully changed!\",\n                })\n              );\n              sessionStorage.setItem(\"useUpdateUser\", JSON.stringify(true));\n              resolve();\n            }, 100);\n          }).then(() => {\n            props.history.push(\"/user\");\n          });\n        })\n        .catch((err) => {\n          setErrMessage(err.message || \"Ошибка при подтверждении аккаунта\");\n          setIsError(true);\n        });\n    }\n  };\n\n  const handleOpenChangeEmailSection = () => {\n    setSelectedSection(\"enter-email\");\n  };\n\n  return (\n    <LayoutUser>\n      <div className={styles[\"user-page\"]}>\n        <h2>Change email</h2>\n        <div\n          style={{\n            margin: \"auto\",\n            textAlign: \"center\",\n            width: 400,\n            marginBottom: 20,\n            fontSize: 17,\n          }}\n        >\n          We will send mail with code into your email\n          <br /> to verify your email\n        </div>\n\n        {selectedAlert && (\n          <div className={`${styles[\"alert\"]} ${styles[\"alert-success\"]}`}>\n            {selectedAlert.text}\n          </div>\n        )}\n        {isError && (\n          <div\n            style={{\n              width: 400,\n              margin: \"auto\",\n              textAlign: \"center\",\n              color: \"red\",\n              marginBottom: 10,\n            }}\n          >\n            {errMessage}\n          </div>\n        )}\n\n        <div>\n          {selectedSection === \"enter-email\" && (\n            <form\n              onSubmit={handleSubmitUpdateEmail}\n              style={{ marginBottom: 20 }}\n            >\n              <div className={`email ${styles[\"email\"]}`}>\n                <label>\n                  {/*<span style={{marginBottom: 5, display: 'block', fontSize: 14}}>Phone</span>*/}\n                  <div style={{ overflow: \"hidden\" }}>\n                    <input\n                      type=\"text\"\n                      value={selectedEmail}\n                      onChange={(event) => {\n                        setSelectedEmail(event.currentTarget.value);\n                        setUseUpdateEmail(true);\n                      }}\n                    />\n                  </div>\n                </label>\n              </div>\n\n              <div className={styles[\"update-email-container\"]}>\n                <button\n                  className={styles[\"update-email-btn\"]}\n                  onClick={handleUpdateEmail}\n                >\n                  Update email\n                </button>\n              </div>\n            </form>\n          )}\n\n          {selectedSection === \"enter-code\" && allowEnterCode && (\n            <form onSubmit={handleSubmit} style={{ marginBottom: 20 }}>\n              <div className={`email ${styles[\"email\"]}`}>\n                <input type=\"text\" value={selectedEmail} disabled={true} />\n              </div>\n\n              {emailUpdated && (\n                <div>\n                  <div className={styles[\"code\"]}>\n                    <label>\n                      <input\n                        type=\"text\"\n                        value={selectedCode}\n                        onChange={(event) => {\n                          setSelectedCode(event.currentTarget.value);\n                        }}\n                        placeholder=\"Code\"\n                      />\n                    </label>\n                  </div>\n                  <div className={styles[\"update-email-container\"]}>\n                    <button\n                      className={styles[\"update-email-btn\"]}\n                      onClick={handleConfirm}\n                    >\n                      Confirm update email\n                    </button>\n                  </div>\n                </div>\n              )}\n            </form>\n          )}\n\n          <div>\n            {!allowRequestNewConfirmationCode &&\n              waitIntervalBetweenTries > 0 &&\n              selectedSection === \"enter-code\" && (\n                <div\n                  style={{\n                    width: 400,\n                    fontSize: 17,\n                    textAlign: \"center\",\n                    margin: \"auto\",\n                  }}\n                >\n                  Please wait {waitIntervalBetweenTries / 1000} sec before\n                  requesting <br />\n                  new confirmation code\n                </div>\n              )}\n\n            {allowRequestNewConfirmationCode &&\n              selectedSection === \"enter-code\" && (\n                <div>\n                  <div>\n                    <button\n                      className={styles[\"request-confirmation-code-btn\"]}\n                      onClick={handleRequestNewConfirmationCode}\n                    >\n                      Request new confirmation code\n                    </button>\n                  </div>\n                  <div\n                    style={{\n                      textAlign: \"center\",\n                      marginBottom: 10,\n                      marginTop: 20,\n                    }}\n                  >\n                    <span>\n                      Incorrect email? You may{\" \"}\n                      <a\n                        href=\"#\"\n                        style={{ color: \"initial\", fontSize: 17 }}\n                        onClick={handleOpenChangeEmailSection}\n                      >\n                        change email\n                      </a>\n                      <br />\n                    </span>\n                  </div>\n                </div>\n              )}\n          </div>\n        </div>\n      </div>\n      <br />\n      <br />\n    </LayoutUser>\n  );\n};\n\nexport default inject(\"UserStore\")(withRouter(observer(ChangeEmailPage)));\n","// extracted by mini-css-extract-plugin\nexport default {\"user-page\":\"ResetPassword_user-page__2v5n6\",\"phone-prefix\":\"ResetPassword_phone-prefix__83Zvg\",\"phone\":\"ResetPassword_phone__3Kmws\",\"password\":\"ResetPassword_password__1kei2\",\"code\":\"ResetPassword_code__1FnbG\",\"update-email-container\":\"ResetPassword_update-email-container__1gQfD\",\"update-email-btn\":\"ResetPassword_update-email-btn__1hkyc\",\"request-confirmation-code-btn\":\"ResetPassword_request-confirmation-code-btn__1--Oi\",\"alert\":\"ResetPassword_alert__32Cmt\",\"fadein\":\"ResetPassword_fadein__1N9Fd\",\"alert-success\":\"ResetPassword_alert-success__AnEDe\",\"alert-error\":\"ResetPassword_alert-error__1QPw_\",\"update-password-container\":\"ResetPassword_update-password-container__LEYpT\",\"update-password-btn\":\"ResetPassword_update-password-btn__1aSfJ\"};","import React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport Inputmask from \"inputmask\";\nimport LayoutUser from \"components/LayoutUser\";\n\nimport UserStore from \"stores/UserStore\";\nimport styles from \"./ResetPassword.module.scss\";\n\ninterface IProps extends RouteComponentProps {\n  UserStore: typeof UserStore;\n}\n\nconst ResetPasswordPage: React.FC<IProps> = (props) => {\n  // POST /auth/request-confirmation-code-for-reset-password-using-phone\n  // POST /auth/verify-confirmation-code-using-phone\n  // POST /auth/confirm-reset-password-with-confirmation-using-phone\n\n  const { state } = props.UserStore;\n  const [isError, setIsError] = useState(false);\n  const [errMessage, setErrMessage] = useState(\"\");\n  const [selectedAlert, setSelectedAlert] = useState(\"\" as any);\n\n  const [selectedPhone, setSelectedPhone] = useState(\"\");\n  const [selectedCode, setSelectedCode] = useState(\"\");\n\n  const [\n    allowRequestNewConfirmationCode,\n    setAllowRequestNewConfirmationCode,\n  ] = useState(false);\n  const [waitIntervalBetweenTries, setWaitIntervalBetweenTries] = useState(\n    2 * 1000\n  );\n\n  const [selectedSection, setSelectedSection] = useState(\"enter-phone\");\n  const [allowEnterCode, setAllowEnterCode] = useState(true);\n\n  // const [ useUpdateEmail, setUseUpdateEmail ] = useState(false);\n\n  const [phoneUpdated, setPhoneUpdated] = useState(false);\n\n  const [selectedNewPassword, setSelectedNewPassword] = useState(\"\");\n  const [selectedRepeatPassword, setSelectedRepeatPassword] = useState(\"\");\n\n  // set email\n  // enter code\n  // React.useEffect(() => { useUpdatePhone && canChangePhone() && handleUpdatePhone(); }, [selectedPhone, useUpdatePhone] );\n\n  React.useEffect(() => {\n    const phoneEl = document.querySelector(\".phone input\");\n    if (phoneEl) {\n      Inputmask({ mask: \"(999) 999-99-99\" }).mask(phoneEl);\n    }\n\n    let timeoutTimer;\n    if (waitIntervalBetweenTries > 0) {\n      timeoutTimer = setTimeout(() => {\n        setWaitIntervalBetweenTries(waitIntervalBetweenTries - 1000);\n      }, 1000);\n    } else if (allowRequestNewConfirmationCode === false) {\n      clearTimeout(timeoutTimer);\n      setAllowRequestNewConfirmationCode(true);\n    }\n\n    if (sessionStorage.getItem(\"alert\")) {\n      const alert = sessionStorage.getItem(\"alert\");\n      sessionStorage.removeItem(\"alert\");\n      setSelectedAlert(JSON.parse(alert));\n    }\n  });\n\n  // if (state === RequestState.ERROR) return <p>Erorr</p>;\n\n  // if (state !== RequestState.SUCCESS) {\n  //   return (\n  //     <LayoutUser>\n  //       <p>Loading...</p>\n  //     </LayoutUser>\n  //   );\n  // }\n\n  const canChangePhone = () => {\n    return (\n      [\"+7\", selectedPhone].join(\"\").replace(/[()-]|_| /gi, \"\").length === 12\n    );\n  };\n  const handleSubmitUseEmailForResetPassword = (event) => {\n    event.preventDefault();\n    // handleUpdateEmail();\n  };\n  const handleUseEmailForResetPassword = () => {\n    if (canChangePhone()) {\n      // keep\n    } else {\n      return;\n    }\n\n    return new Promise((resolve, reject) => {\n      setIsError(false);\n      setErrMessage(\"\");\n      // setSelectedAlert(\"\");\n      UserStore.requestConfirmationCodeForResetPasswordUsingPhone(\n        selectedPhone.trim()\n      )\n        .then((res) => {\n          // redirect\n          sessionStorage.removeItem(\"alert\");\n\n          sessionStorage.setItem(\n            \"alert\",\n            JSON.stringify({\n              text: \"Phone found\",\n            })\n          );\n          const alert = sessionStorage.getItem(\"alert\");\n          sessionStorage.removeItem(\"alert\");\n          setSelectedAlert(JSON.parse(alert));\n\n          setSelectedSection(\"enter-code\");\n          setPhoneUpdated(true);\n\n          // props.history.push(\"/signin\");\n          resolve();\n        })\n        .catch((err) => {\n          setIsError(true);\n          setErrMessage(err.message || \"Ошибка при изменении телефона\");\n          reject();\n        });\n    });\n  };\n\n  const canRequestNewConfirmationCode = () => {\n    return (\n      waitIntervalBetweenTries === 0 &&\n      allowRequestNewConfirmationCode &&\n      canChangePhone()\n    );\n  };\n  const handleRequestNewConfirmationCode = () => {\n    if (canRequestNewConfirmationCode() && setPhoneUpdated) {\n      // keep\n    } else {\n      return;\n    }\n\n    setIsError(false);\n    setErrMessage(\"\");\n    // setSelectedAlert(\"\");\n    UserStore.requestConfirmationCodeForResetPasswordUsingPhone(\n      selectedPhone.trim()\n    )\n      .then((res) => {\n        // redirect\n        sessionStorage.removeItem(\"alert\");\n\n        sessionStorage.setItem(\n          \"alert\",\n          JSON.stringify({\n            text: \"New confirmation code successfully sent!\",\n          })\n        );\n        const alert = sessionStorage.getItem(\"alert\");\n        sessionStorage.removeItem(\"alert\");\n        setSelectedAlert(JSON.parse(alert));\n\n        setAllowEnterCode(true);\n        // props.history.push(\"/signin\");\n      })\n      .catch((err) => {\n        setIsError(true);\n        setErrMessage(\n          err.message || \"Ошибка при запросе нового кода подтверждения\"\n        );\n      });\n  };\n\n  const canVerify = () => {\n    return selectedPhone.trim() && canChangePhone();\n  };\n  const submitVerifyCode = (event) => {\n    event.preventDefault();\n  };\n  const handleVerifyCode = () => {\n    if (canVerify()) {\n      setIsError(false);\n      setErrMessage(\"\");\n\n      UserStore.verifyConfirmationCodeUsingPhone(\n        selectedPhone.trim(),\n        selectedCode.trim()\n      )\n        .then((res) => {\n          // redirect\n\n          sessionStorage.removeItem(\"alert\");\n\n          sessionStorage.setItem(\n            \"alert\",\n            JSON.stringify({\n              text: \"Code successfully verified!\",\n            })\n          );\n          const alert = sessionStorage.getItem(\"alert\");\n          sessionStorage.removeItem(\"alert\");\n          setSelectedAlert(JSON.parse(alert));\n\n          setSelectedSection(\"enter-password\");\n        })\n        .catch((err) => {\n          setErrMessage(err.message || \"Ошибка при подтверждении аккаунта\");\n          setIsError(true);\n        });\n    }\n  };\n\n  const canResetPassword = () => {\n    return (\n      canChangePhone() &&\n      selectedCode.trim() &&\n      selectedNewPassword === selectedRepeatPassword\n    );\n  };\n  const handleSubmitResetPassword = (event) => {\n    event.preventDefault();\n  };\n  const handledResetPassword = () => {\n    if (canResetPassword()) {\n      // keep\n\n      setIsError(false);\n      setErrMessage(\"\");\n\n      UserStore.confirmResetPasswordWithConfirmationUsingPhone(\n        selectedPhone.trim(),\n        selectedCode.trim(),\n        selectedNewPassword.trim()\n      )\n        .then((res) => {\n          // redirect\n\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              sessionStorage.removeItem(\"alert\");\n\n              sessionStorage.setItem(\n                \"alert\",\n                JSON.stringify({\n                  text: \"Password successfully changed!\",\n                })\n              );\n              sessionStorage.setItem(\"useUpdateUser\", JSON.stringify(true));\n              resolve();\n            }, 50);\n          }).then(() => {\n            props.history.push(\"/user\");\n          });\n        })\n        .catch((err) => {\n          setErrMessage(err.message || \"Ошибка при подтверждении аккаунта\");\n          setIsError(true);\n        });\n    }\n  };\n\n  return (\n    <LayoutUser>\n      <div className={styles[\"user-page\"]}>\n        <h2>Reset password</h2>\n        <div\n          style={{\n            margin: \"auto\",\n            textAlign: \"center\",\n            width: 400,\n            marginBottom: 20,\n            fontSize: 17,\n          }}\n        >\n          We will send sms with code into your phone\n          <br /> to reset password\n        </div>\n\n        {selectedAlert && (\n          <div className={`${styles[\"alert\"]} ${styles[\"alert-success\"]}`}>\n            {selectedAlert.text}\n          </div>\n        )}\n        {isError && (\n          <div\n            style={{\n              width: 400,\n              margin: \"auto\",\n              textAlign: \"center\",\n              color: \"red\",\n              marginBottom: 10,\n            }}\n          >\n            {errMessage}\n          </div>\n        )}\n\n        <div>\n          {selectedSection === \"enter-phone\" && (\n            <form\n              onSubmit={handleSubmitUseEmailForResetPassword}\n              style={{ marginBottom: 20 }}\n            >\n              <div style={{ overflow: \"hidden\" }}>\n                <div className={`phone ${styles[\"phone\"]}`}>\n                  <label>\n                    {/*<span style={{marginBottom: 5, display: 'block', fontSize: 14}}>Phone</span>*/}\n                    <div style={{ overflow: \"hidden\" }}>\n                      <span className={styles[\"phone-prefix\"]}>+7</span>\n                      <input\n                        type=\"text\"\n                        value={selectedPhone}\n                        onChange={(event) => {\n                          setSelectedPhone(\n                            event.currentTarget.value\n                          ); /*setUseUpdatePhone(true)*/\n                        }}\n                        placeholder=\"(___) ___-__-__\"\n                      />\n                    </div>\n                  </label>\n                </div>\n              </div>\n\n              <div className={styles[\"update-email-container\"]}>\n                <button\n                  className={styles[\"update-email-btn\"]}\n                  onClick={handleUseEmailForResetPassword}\n                >\n                  Use phone\n                </button>\n              </div>\n            </form>\n          )}\n\n          {selectedSection === \"enter-code\" && allowEnterCode && (\n            <form onSubmit={submitVerifyCode} style={{ marginBottom: 20 }}>\n              <div className={`phone ${styles[\"phone\"]}`}>\n                <label>\n                  {/*<span style={{marginBottom: 5, display: 'block', fontSize: 14}}>Phone</span>*/}\n                  <div style={{ overflow: \"hidden\" }}>\n                    <span className={styles[\"phone-prefix\"]}>+7</span>\n                    <input\n                      type=\"text\"\n                      value={selectedPhone}\n                      onChange={(event) => {\n                        setSelectedPhone(\n                          event.currentTarget.value\n                        ); /* setUseUpdatePhone(true) */\n                      }}\n                      placeholder=\"(___) ___-__-__\"\n                    />\n                  </div>\n                </label>\n              </div>\n\n              {phoneUpdated && (\n                <div>\n                  <div className={styles[\"code\"]}>\n                    <label>\n                      <input\n                        type=\"text\"\n                        value={selectedCode}\n                        onChange={(event) => {\n                          setSelectedCode(event.currentTarget.value);\n                        }}\n                        placeholder=\"Code\"\n                      />\n                    </label>\n                  </div>\n\n                  <div className={styles[\"update-email-container\"]}>\n                    <button\n                      className={styles[\"update-email-btn\"]}\n                      onClick={handleVerifyCode}\n                    >\n                      Verify code\n                    </button>\n                  </div>\n                </div>\n              )}\n            </form>\n          )}\n\n          {selectedSection === \"enter-password\" && (\n            <form\n              onSubmit={handleSubmitResetPassword}\n              style={{ marginBottom: 20 }}\n            >\n              <div className={styles[\"password\"]}>\n                <label>\n                  <span>New Password</span>\n                  <input\n                    type=\"password\"\n                    placeholder=\"New Password\"\n                    value={selectedNewPassword}\n                    onChange={(event) => {\n                      setSelectedNewPassword(event.currentTarget.value);\n                    }}\n                  />\n                </label>\n              </div>\n\n              <div className={styles[\"password\"]}>\n                <label>\n                  <span>Repeat Password</span>\n                  <input\n                    type=\"password\"\n                    placeholder=\"Repeat Password\"\n                    value={selectedRepeatPassword}\n                    onChange={(event) => {\n                      setSelectedRepeatPassword(event.currentTarget.value);\n                    }}\n                  />\n                </label>\n              </div>\n\n              <div className={styles[\"update-password-container\"]}>\n                <button\n                  className={styles[\"update-password-btn\"]}\n                  style={{ padding: 10 }}\n                  onClick={handledResetPassword}\n                >\n                  Обновить пароль\n                </button>\n              </div>\n            </form>\n          )}\n\n          {selectedSection === \"enter-code\" && phoneUpdated && (\n            <div>\n              {!allowRequestNewConfirmationCode &&\n                waitIntervalBetweenTries > 0 &&\n                selectedSection === \"enter-code\" && (\n                  <div\n                    style={{\n                      width: 400,\n                      fontSize: 17,\n                      textAlign: \"center\",\n                      margin: \"auto\",\n                    }}\n                  >\n                    Please wait {waitIntervalBetweenTries / 1000} sec before\n                    requesting <br />\n                    new confirmation code\n                  </div>\n                )}\n\n              {allowRequestNewConfirmationCode &&\n                selectedSection === \"enter-code\" && (\n                  <div>\n                    <div>\n                      <button\n                        className={styles[\"request-confirmation-code-btn\"]}\n                        onClick={handleRequestNewConfirmationCode}\n                      >\n                        Request new confirmation code\n                      </button>\n                    </div>\n                  </div>\n                )}\n            </div>\n          )}\n        </div>\n      </div>\n      <br />\n      <br />\n    </LayoutUser>\n  );\n};\n\nexport default inject(\"UserStore\")(withRouter(observer(ResetPasswordPage)));\n","// extracted by mini-css-extract-plugin\nexport default {\"user-page\":\"UserPage_user-page__qPc7t\",\"user-page__name\":\"UserPage_user-page__name__2QZQ9\",\"user-page__email\":\"UserPage_user-page__email__3CZeu\",\"user-page__logout\":\"UserPage_user-page__logout__1Q64Y\",\"user-page__avatar\":\"UserPage_user-page__avatar__6L_y0\",\"first-name\":\"UserPage_first-name__3-ghr\",\"last-name\":\"UserPage_last-name__2c11_\",\"password\":\"UserPage_password__1v6Ap\",\"phone-prefix\":\"UserPage_phone-prefix__1z_9A\",\"phone\":\"UserPage_phone__8_ZtJ\",\"email\":\"UserPage_email__RUKiH\",\"update-profile-container\":\"UserPage_update-profile-container__aMJrb\",\"update-profile-btn\":\"UserPage_update-profile-btn__1MNlZ\",\"alert\":\"UserPage_alert__69nfK\",\"fadein\":\"UserPage_fadein__3Hklj\",\"alert-success\":\"UserPage_alert-success__1WZ7w\",\"alert-error\":\"UserPage_alert-error__3FJbn\",\"chat-page\":\"UserPage_chat-page__3uzdS\",\"chat-page-content\":\"UserPage_chat-page-content__1GdU4\",\"chats-page-top-headbar\":\"UserPage_chats-page-top-headbar__3yCGd\",\"chats\":\"UserPage_chats__3W4mM\",\"dialog\":\"UserPage_dialog__1ya1v\",\"receiver\":\"UserPage_receiver__h-nd0\",\"chats-actions\":\"UserPage_chats-actions__uVAd2\",\"chats-more-container\":\"UserPage_chats-more-container__1aYM-\",\"chats-more-btn\":\"UserPage_chats-more-btn__3mpdY\",\"chats-search-container\":\"UserPage_chats-search-container__Hil4z\",\"chats-search\":\"UserPage_chats-search__1Yvb_\",\"chats-latest\":\"UserPage_chats-latest__1ed3K\",\"chats-latest-item\":\"UserPage_chats-latest-item__1hj-_\",\"active\":\"UserPage_active__3JRdq\",\"dialog-receiver\":\"UserPage_dialog-receiver__2N1Gb\",\"dialog-receiver-name\":\"UserPage_dialog-receiver-name__1R6zq\",\"dialog-receiver-last-seen\":\"UserPage_dialog-receiver-last-seen__2joju\",\"dialog-messages\":\"UserPage_dialog-messages__QvApI\",\"dialog-messages-message\":\"UserPage_dialog-messages-message__-6syb\",\"from-user\":\"UserPage_from-user__3jV47\",\"from-receiver\":\"UserPage_from-receiver__3UeT4\",\"dialog-messages-message-datetime\":\"UserPage_dialog-messages-message-datetime__1EXYr\",\"dialog-messages-new-message-container\":\"UserPage_dialog-messages-new-message-container__3rrpT\",\"dialog-messages-add-attachment-btn\":\"UserPage_dialog-messages-add-attachment-btn__1LREs\",\"dialog-messages-new-message\":\"UserPage_dialog-messages-new-message__rOzIc\",\"dialog-messages-submit-btn\":\"UserPage_dialog-messages-submit-btn__2BDTT\",\"receiver-content\":\"UserPage_receiver-content__2eh5z\",\"receiver-person\":\"UserPage_receiver-person__3vwnH\",\"receiver-person-avatar\":\"UserPage_receiver-person-avatar__1A1GL\",\"receiver-person-name\":\"UserPage_receiver-person-name__sJuSC\",\"receiver-person-last-seen\":\"UserPage_receiver-person-last-seen__1W6VG\",\"receiver-divider\":\"UserPage_receiver-divider__3y22d\",\"receiver-phone\":\"UserPage_receiver-phone__18Mjo\",\"receiver-phone-value\":\"UserPage_receiver-phone-value__23T4k\",\"receiver-phone-label\":\"UserPage_receiver-phone-label__o2p9V\",\"receiver-photos\":\"UserPage_receiver-photos__2duqz\",\"receiver-photos-value\":\"UserPage_receiver-photos-value__3buYF\",\"receiver-photos-label\":\"UserPage_receiver-photos-label__3BWmE\",\"receiver-files\":\"UserPage_receiver-files__1fqmL\",\"receiver-files-value\":\"UserPage_receiver-files-value__2lS-Q\",\"receiver-files-label\":\"UserPage_receiver-files-label__HlZs-\",\"receiver-shared-links\":\"UserPage_receiver-shared-links__b35-1\",\"receiver-shared-links-value\":\"UserPage_receiver-shared-links-value__3o591\",\"receiver-shared-links-label\":\"UserPage_receiver-shared-links-label__10ChF\"};","import React from \"react\";\nimport { useState } from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport Inputmask from \"inputmask\";\nimport LayoutUser from \"components/LayoutUser\";\n\nimport UserStore from \"stores/UserStore\";\nimport debounce from 'lodash.debounce';\nimport styles from \"./UserPage.module.scss\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faPaperclip,\n  faPaperPlane,\n  faBars,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport {\n  // BrowserRouter as Router,\n  // Switch,\n  // Route,\n  useParams,\n} from \"react-router-dom\";\nimport {stringify} from \"querystring\";\n// import Icon from '@material-ui/core/Icon';\nimport { useImmer } from 'use-immer';\nimport WebsocketService from \"../../stores/WebsocketService\";\n\ninterface IProps extends RouteComponentProps {\n  UserStore: typeof UserStore;\n}\n\nconst Dialog: React.FC<IProps> = (props) => {\n  // GET /users/profile\n  // POST /users/\n\n  // eslint-disable-next-line no-console\n  const { state, user } = props.UserStore;\n\n  const [isError, setIsError] = useState(false);\n  const [errMessage, setErrMessage] = useState(\"\");\n\n  const [selectedAlert, setSelectedAlert] = useState(\"\" as any);\n\n  const [archivedDialogs, setArchivedDialogs] = useState(\"\" as any);\n  const [latestDialogs, setLatestDialogs] = useState(\"\" as any);\n\n  const [dialogMessages, setDialogMessages] = useState([]);\n  const [dialogReceiver, setDialogReceiver] = useState(\"\" as any);\n\n  const [useUpdateDialogReceiver, setUseUpdateDialogReceiver] = useState(false);\n\n\n  WebsocketService.startWebsocketConnection();\n\n  const { receiverId } = useParams();\n  // const [ receiverId, setReceiverId ] = useState(_receiverId || \"\");\n\n  function loadArchivedDialogs() {\n    return new Promise((resolve, reject) => {\n      return resolve({\n        entities: [\n          {\n            receiver: {\n              user_id: 49,\n              avatar_url:\n                \"http://localhost:8888/avatars/f93910b68a6a08d8848bae44ff554aa87.jpg\",\n              first_name: \"Влада\",\n              last_name: \"Ямщикова\",\n            },\n          },\n        ],\n        pagination: {\n          page: 1,\n          per_page: 1,\n          total_items: 1,\n        },\n      });\n    });\n  }\n  function loadLatestDialogs() {\n    return new Promise((resolve, reject) => {\n      return resolve({\n        entities: [\n          {\n            receiver: {\n              user_id: 48,\n              avatar_url:\n                \"http://localhost:8888/avatars/544626bada542891434f3c317a713a79.jpg\",\n              first_name: \"Alexandra\",\n              last_name: \"Parasuhina\",\n            },\n          },\n          {\n            receiver: {\n              user_id: 47,\n              avatar_url:\n                \"http://localhost:8888/avatars/237521ad219dcdda3bcf64c0b9d0210aa.jpg\",\n              first_name: \"Apollinaria\",\n              last_name: \"Sergeeva\",\n            },\n          },\n        ],\n        pagination: {\n          page: 1,\n          per_page: 2,\n          total_items: 2,\n        },\n      });\n    });\n  }\n  function loadDialogMessages() {\n    return new Promise((resolve, reject) => {\n      return resolve([]);\n    });\n  }\n  function loadDialogReceiver() {\n    // return new Promise((resolve, reject) => {\n    //   return resolve({\n    //     user_id: 47,\n    //     first_name: \"Apollinaria\",\n    //     last_name: \"Sergeeva\",\n    //     phone: \"+7 906 249 88 78\",\n    //     avatar_url:\n    //       \"http://localhost:8888/avatars/237521ad219dcdda3bcf64c0b9d0210aa.jpg\",\n    //\n    //     photos: 0,\n    //     videos: 0,\n    //     files: 1,\n    //     shared_links: 1,\n    //     voice_messages: 0,\n    //   });\n    // });\n  }\n\n  React.useEffect(() => {\n    const token = sessionStorage.getItem(\"token\");\n    // eslint-disable-next-line no-console\n    console.log(token);\n    if (!token) {\n      return props.history.push(\"/signin\");\n    }\n\n    if (!archivedDialogs) {\n      loadArchivedDialogs().then((res) => {\n        setArchivedDialogs(res);\n      });\n    }\n    if (!latestDialogs) {\n      UserStore.getProfile().then((res) => {\n        UserStore.getLatestDialogs(res.id).then((res)=>{\n          setLatestDialogs(res);\n        })\n      });\n    }\n    if (!dialogMessages) {\n      // loadDialogMessages().then((res) => {\n      //   setDialogMessages([]);\n      // });\n    }\n    if (!dialogReceiver) {\n      UserStore.getProfileById(receiverId).then((res) => {\n        setDialogReceiver(res);\n      });\n    }\n    if (!user) {\n      UserStore.getProfile().then((res) => {\n      });\n    }\n    if(useUpdateDialogReceiver) {\n      UserStore.getProfileById(receiverId).then((res) => {\n        setDialogReceiver(res);\n      });\n    }\n    if(useUpdateDialogReceiver) {\n      handleOnConnected();\n    }\n  }, [receiverId]);\n\n  const handleOpenDialog = (event) => {\n    const userId = event.currentTarget.dataset['userId'];\n    if(userId === receiverId) {\n      // keep\n      return;\n    }\n\n    // setReceiverId(userId);\n    setDialogMessages([]);\n    setUseUpdateDialogReceiver(true);\n    return props.history.push(`/dialog/${userId}`);\n  };\n\n\n  WebsocketService.registerMessageCallback(handleOnMessage);\n  WebsocketService.registerOnConnectedCallback(handleOnConnected);\n\n  function handleOnMessage(message) {\n    // on connection to server -> receive history\n    let json;\n    try {\n      json = JSON.parse(message.data);\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.log(\"This doesn't look like a valid JSON: \", message.data);\n      return;\n    }\n    if (json.type === \"history\") {\n      setDialogMessages(json.data);\n    } else if (json.type === \"message\") {\n      setDialogMessages(dialogMessages.concat([json.data]));\n    } else {\n      // eslint-disable-next-line no-console\n      console.log(\"Hmm..., I've never seen JSON like this: \", json);\n    }\n\n    // eslint-disable-next-line no-console\n    console.log(message);\n  }\n\n  function handleOnConnected(){\n    return UserStore.getProfile().then((res)=>{\n      // keep\n      WebsocketService.send(JSON.stringify({ event: \"connected\", data: {sender: res, receiver_id: receiverId} }));\n    });\n  }\n\n  // handleOnChangeMessage -> send draftMessage\n\n  const sendMessage = (msg) => {\n    WebsocketService.send(\n        JSON.stringify({\n          event: \"message\",\n          data: { msg: msg, from: user, to: receiverId },\n        })\n    );\n  };\n  const sendDraftMessage = (msg) => {\n    return new Promise((resolve,reject)=>{\n      WebsocketService.send(\n        JSON.stringify({\n          event: \"draft-message\",\n          data: { msg: msg, from: user, to: receiverId },\n        })\n      );\n      resolve();\n    });\n  };\n\n  let timerId;\n  function handleOnChangeMessage(event) {\n    const msg = event.currentTarget.value;\n    if (!msg) {\n      return;\n    }\n    if(timerId) {\n      clearTimeout(timerId);\n    }\n    timerId = setTimeout(()=>{\n      sendDraftMessage(msg).then(()=>{\n        UserStore.getLatestDialogs(user.id).then((res)=>{\n          setLatestDialogs(res);\n        })\n      });\n    }, 300);\n  }\n\n  const handleKeydown = (event) => {\n    if (event.keyCode === 13) {\n      const msg = event.currentTarget.value;\n      if (!msg) {\n        return;\n      }\n      event.currentTarget.value = \"\";\n      sendMessage(msg);\n    }\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const msg = (document.getElementById('dialog-messages-new-message') as any).value;\n    if (!msg) {\n      return;\n    }\n    sendDraftMessage(msg);\n  };\n\n  return (\n    <LayoutUser>\n\n      {user && latestDialogs && dialogMessages && dialogReceiver && (\n          <div className={styles[\"chat-page\"]}>\n\n            <div className={styles[\"chats-page-top-headbar\"]} />\n            <div className={styles[\"chat-page-content\"]}>\n              <div className={styles[\"chats\"]}>\n                <div className={styles[\"chats-actions\"]}>\n                  <div className={styles[\"chats-more-container\"]}>\n                    <a href=\"#\" className={styles[\"chats-more-btn\"]}>\n                      <FontAwesomeIcon icon={faBars} />\n                    </a>\n                  </div>\n                  <div className={styles[\"chats-search-container\"]}>\n                    <input\n                      className={styles[\"chats-search\"]}\n                      type=\"text\"\n                      placeholder=\"Search\"\n                    />\n                  </div>\n                </div>\n                <div className={styles[\"chats-latest\"]}>\n                  {latestDialogs.map((item) => {\n                    return (\n                      <a\n                        href=\"#\"\n                        onClick={handleOpenDialog}\n                        data-user-id={item[\"receiver\"][\"id\"]}\n                        className={`${\n                          styles[\"chats-latest-item\"]\n                        } chats-latest-item ${\n                          Number(dialogReceiver.profile[\"id\"]) ===\n                          Number(item[\"receiver\"][\"id\"])\n                            ? styles[\"active\"]\n                            : \"\"\n                        }`}\n                      >\n                        <img src={item[\"receiver\"].avatar_url} />{\" \"}\n                        <span>\n                          {item[\"receiver\"].first_name}{\" \"}\n                          {item[\"receiver\"].last_name}\n                        </span>\n                      </a>\n                    );\n                  })}\n                </div>\n              </div>\n              <div className={styles[\"dialog\"]}>\n                <div className={styles[\"dialog-receiver\"]}>\n                  <div className={styles[\"dialog-receiver-name\"]}>\n                    {dialogReceiver.profile.first_name} {dialogReceiver.profile.last_name}\n                  </div>\n                  <div className={styles[\"dialog-receiver-last-seen\"]}>\n                    last seen 7 minutes ago\n                  </div>\n                </div>\n                <div className={styles[\"dialog-messages\"]}>\n                  {dialogMessages.map((item) => {\n                    if (item.entity_type === \"message\") {\n                      return (\n                        <div\n                          className={`${styles[\"dialog-messages-message\"]} ${\n                            item[\"authorId\"] === user.id\n                              ? styles[\"from-user\"]\n                              : styles[\"from-receiver\"]\n                          }`}\n                        >\n                          {item.message_content}\n                          {/*<span className={styles['dialog-messages-message-datetime']}>{ [*/}\n                          {/*    [new Date(item.created).getFullYear(), new Date(item.created).getMonth() + 1 > 12 ? 1 : new Date(item.created).getMonth() + 1, new Date(item.created).getDate()].join('-'),*/}\n                          {/*    [new Date(item.created).getHours(), new Date(item.created).getMinutes(), new Date(item.created).getSeconds()].join(':')*/}\n                          {/*].join(' ') }</span>*/}\n                        </div>\n                      );\n                    }\n                  })}\n                </div>\n                <div\n                  className={styles[\"dialog-messages-new-message-container\"]}\n                >\n                  <a\n                    href=\"#\"\n                    className={styles[\"dialog-messages-add-attachment-btn\"]}\n                  >\n                    <FontAwesomeIcon icon={faPaperclip} />\n                  </a>\n                  <input\n                    id=\"dialog-messages-new-message\"\n                    className={styles[\"dialog-messages-new-message\"]}\n                    type=\"text\"\n                    onKeyDown={handleKeydown}\n                    onChange={handleOnChangeMessage}\n                    placeholder=\"Write a message\"\n                  />\n                  <a href=\"#\" onClick={handleSubmit} className={styles[\"dialog-messages-submit-btn\"]}>\n                    <FontAwesomeIcon icon={faPaperPlane} />\n                  </a>\n                </div>\n              </div>\n              <div className={styles[\"receiver\"]}>\n                <div className={styles[\"receiver-content\"]}>\n                  <span>User Info</span>\n                  <div className={styles[\"receiver-person\"]}>\n                    <img\n                      className={styles[\"receiver-person-avatar\"]}\n                      src={dialogReceiver.profile.avatar_url}\n                    />\n                    <div>\n                      <div className={styles[\"receiver-person-name\"]}>\n                        {dialogReceiver.first_name} {dialogReceiver.profile.last_name}\n                      </div>\n                      <div className={styles[\"receiver-person-last-seen\"]}>\n                        last seen 7 minutes ago\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className={styles[\"receiver-divider\"]}/>\n                <div className={styles[\"receiver-phone\"]} style={{paddingBottom: 20}}>\n                  <div className={styles[\"receiver-phone-value\"]}>\n                    {dialogReceiver.profile.phone}\n                  </div>\n                  <div className={styles[\"receiver-phone-label\"]}>Mobile</div>\n                </div>\n                <div className={styles[\"receiver-divider\"]}/>\n                <div className={styles[\"receiver-photos\"]}>\n                  <div className={styles[\"receiver-photos-value\"]}>\n                    {dialogReceiver.total_photos}\n                  </div>\n                  <div className={styles[\"receiver-photos-label\"]}>photos</div>\n                </div>\n\n                <div className={styles[\"receiver-files\"]}>\n                  <div className={styles[\"receiver-files-value\"]}>\n                    {dialogReceiver.total_files}\n                  </div>\n                  <div className={styles[\"receiver-files-label\"]}>files</div>\n                </div>\n\n                <div className={styles[\"receiver-shared-links\"]}>\n                  <div className={styles[\"receiver-shared-links-value\"]}>\n                    {dialogReceiver.total_shared_links}\n                  </div>\n                  <div className={styles[\"receiver-shared-links-label\"]}>shared links</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n    </LayoutUser>\n  );\n};\n\nexport default inject(\"WebsocketService\")(inject(\"UserStore\")(withRouter(observer(Dialog))));\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\n\nimport NotFound from \"pages/404\";\nimport SignInPage from \"pages/SignInPage\";\nimport UserPage from \"pages/UserPage\";\nimport HomePage from \"pages/HomePage\";\nimport ListUsersPage from \"pages/ListUsersPage\";\nimport CreateClassArea from \"pages/CreateClassArea\";\nimport CreateClassPage from \"pages/CreateClassPage\";\nimport ScheduleControlPointsPerSchoolClassPage from \"pages/ScheduleControlPointsPerSchoolClassPage\";\nimport Registration from \"pages/Registration\";\nimport ConfirmPage from \"../pages/ConfirmPage\";\nimport OnboardingPage from \"../pages/Onboarding\";\nimport ChangePasswordPage from \"../pages/ChangePassword\";\nimport ChangePhonePage from \"../pages/ChangePhone\";\nimport ChangeEmailPage from \"../pages/ChangeEmail\";\nimport ResetPasswordPage from \"../pages/ResetPassword\";\nimport Dialog from \"../pages/Dialog\";\n\ninterface IProps {}\n\nconst App: React.FC<IProps> = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" exact component={HomePage} />\n        <Route path=\"/signin\" component={SignInPage} />\n        <Route path=\"/user\" component={UserPage} />\n        <Route path=\"/list-users\" component={ListUsersPage} />\n        <Route path=\"/create-class-area\" component={CreateClassArea} />\n        <Route path=\"/create-class-page\" component={CreateClassPage} />\n        <Route\n          path=\"/schedule-control-point-per-school-class\"\n          component={ScheduleControlPointsPerSchoolClassPage}\n        />\n        <Route path=\"/registration\" component={Registration} />\n        <Route path=\"/confirm\" component={ConfirmPage} />\n        <Route path=\"/onboarding\" component={OnboardingPage} />\n        <Route path=\"/change-password\" component={ChangePasswordPage} />\n        <Route path=\"/change-phone\" component={ChangePhonePage} />\n        <Route path=\"/change-email\" component={ChangeEmailPage} />\n        <Route path=\"/reset-password\" component={ResetPasswordPage} />\n        <Route path=\"/dialog/:receiverId\" component={Dialog} />\n\n        <Route component={NotFound} />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"mobx-react\";\n\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport App from \"App\";\n\nimport UserStore from \"stores/UserStore\";\nimport WebsocketService from \"./stores/WebsocketService\";\n\nimport \"styles/main.scss\";\n\nReactDOM.render(\n  <Provider UserStore={UserStore} WebsocketService={WebsocketService}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = function() {}\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\nvar deferredModules = [\n\t[6123,985]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = function() {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tvar executeModules = data[3];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvk_auth_react\"] = self[\"webpackChunkvk_auth_react\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = function() {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = function() {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (function() {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\n__webpack_require__.x();\n"],"sourceRoot":""}