!function(){"use strict";var e={6123:function(e,t,n){var a=n(7294),r=n(3935),l=n(9408);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,s=n(8149),c=n(114),i="NotFound_page__1PB6l",u=function(){return a.createElement("div",{className:i},a.createElement("p",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),a.createElement(s.rU,{to:"/"},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"))},m=n(8418),d=n(7563),h=n(237),f=n(2188);!function(e){e.PENDING="pending",e.LOADING="loading",e.SUCCESS="success",e.ERROR="error"}(o||(o={}));var p=function e(){var t=this;(0,h.Z)(this,e),this.user=null,this.state=o.PENDING,this.users=null,this.usersPagination=null,this.schoolAreas=null,this.schoolClasses=null,this.controlPoints=null,this.controlPointPagination=null,this.profile=null,this.loginVk=function(e){return t.state=o.LOADING,fetch("".concat("http://localhost:8888","/auth/login/vk"),{method:"POST",body:JSON.stringify({code:e}),headers:{"Content-Type":"application/json"}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){return t.setUser(e)}))},this.getProfileById=function(e){t.state=o.LOADING;var n=sessionStorage.getItem("token");return n?fetch("".concat("http://localhost:8888","/users/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return t.setError(),Promise.reject()}})):Promise.reject()},this.getProfile=function(){t.state=o.LOADING;var e=sessionStorage.getItem("token");return e?fetch("".concat("http://localhost:8888","/users/profile"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return t.setError(),Promise.reject()}})).then((function(e){return t.setUser(e)})):Promise.reject()},this.getAllUsers=function(e,n){t.state=o.LOADING;var a=sessionStorage.getItem("token");if(!a)return Promise.reject();var r="?"+["page="+e,"per_page="+n].join("&");return fetch("".concat("http://localhost:8888","/users/").concat(r),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return t.setError(),Promise.reject()}})).then((function(e){return t.handleSetUsers(e)}))},this.setUsers=function(e){t.users=e},this.setUsersPagination=function(e){t.usersPagination=e},this.getSchoolAreas=function(){t.state=o.LOADING;var e=sessionStorage.getItem("token");return e?fetch("".concat("http://localhost:8888","/school-area/"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return t.setError(),Promise.reject()}})).then((function(e){return t.setSchoolAreas(e)})):Promise.reject()},this.getSchoolClasses=function(){t.state=o.LOADING;var e=sessionStorage.getItem("token");return e?fetch("".concat("http://localhost:8888","/school-class/"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return t.setError(),Promise.reject()}})).then((function(e){return t.setSchoolClasses(e)})):Promise.reject()},this.getControlPoints=function(e,n,a,r){t.state=o.LOADING;var l=sessionStorage.getItem("token");if(!l)return Promise.reject();var s="?"+["page="+e,"per_page="+n,"start_time="+a,"end_time="+r].join("&");return fetch("".concat("http://localhost:8888","/control-point/").concat(s),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return t.setError(),Promise.reject()}})).then((function(e){return t.setControlPoints(e)}))},this.updateUser=function(e){t.state=o.LOADING;var n=sessionStorage.getItem("token");return n?fetch("".concat("http://localhost:8888","/users/"),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(){t.state=o.SUCCESS})):Promise.reject()},this.uploadImage=function(e,n){t.state=o.LOADING;var a=sessionStorage.getItem("token");return a?fetch("".concat("http://localhost:8888","/avatars/").concat(e,"/avatar"),{method:"POST",body:n,headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return t.setError(),Promise.reject()}})).then((function(){t.state=o.SUCCESS})):Promise.reject()},this.formatPhone=function(e){return["+7",e].join("").replace(/[()-]|_| /gi,"")},this.signIn=function(e,n){t.state=o.LOADING;var a={phone:t.formatPhone(e),password:n};return fetch("".concat("http://localhost:8888","/auth/login"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){sessionStorage.setItem("token",e.token),t.state=o.SUCCESS}))},this.updateControlPoint=function(e,n,a,r,l,s,c,i,u,m){t.state=o.LOADING;var d=sessionStorage.getItem("token");if(!d)return Promise.reject();var h={id:e,theme_name:n,homework_description:a,control_point_opens:r,control_point_closes:l,control_point_status:c,control_point_handled_by:i,control_point_grade:s,school_area_id:u,school_class_id:m};return fetch("".concat("http://localhost:8888","/control-point/"),{method:"PUT",body:JSON.stringify(h),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(){t.state=o.SUCCESS}))},this.welcome=function(e){t.state=o.LOADING;var n={phone:t.formatPhone(e)};return fetch("".concat("http://localhost:8888","/auth/welcome"),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return t.setError(),Promise.reject()}})).then((function(e){return e.phone&&sessionStorage.setItem("phone",e.phone),t.state=o.SUCCESS,e}))},this.register=function(e,n,a,r){t.state=o.LOADING;var l={first_name:e,last_name:n,phone:t.formatPhone(a),password:r};return fetch("".concat("http://localhost:8888","/auth/register"),{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return t.setError(),Promise.reject()}})).then((function(e){return sessionStorage.setItem("token",e.token),t.state=o.SUCCESS,e}))},this.confirmAccount=function(e,n){t.state=o.LOADING;var a=sessionStorage.getItem("token");if(!a)return Promise.reject();var r={phone:t.formatPhone(e),confirmation_code:n};return fetch("".concat("http://localhost:8888","/auth/confirm-account"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(){t.state=o.SUCCESS}))},this.requestConfirmationCode=function(e){t.state=o.LOADING;var n=sessionStorage.getItem("token");if(!n)return Promise.reject();var a={phone:t.formatPhone(e)};return fetch("".concat("http://localhost:8888","/auth/request-confirmation-code"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){t.state=o.SUCCESS}))},this.requestConfirmationCodeViaSms=function(e){t.state=o.LOADING;var n=sessionStorage.getItem("token");if(!n)return Promise.reject();var a={phone:e};return fetch("".concat("http://localhost:8888","/auth/request-confirmation-code-via-sms"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){t.state=o.SUCCESS}))},this.requestChangePhone=function(e,n){t.state=o.LOADING;var a=sessionStorage.getItem("token");if(!a)return Promise.reject();var r={id:e,phone:t.formatPhone(n)};return fetch("".concat("http://localhost:8888","/auth/request-change-phone"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){t.state=o.SUCCESS}))},this.changePassword=function(e,n,a){t.state=o.LOADING;var r=sessionStorage.getItem("token");if(!r)return Promise.reject();var l={user_id:e,old_password:n,new_password:a};return fetch("".concat("http://localhost:8888","/auth/change-password"),{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){t.state=o.SUCCESS}))},this.requestChangePhoneWithConfirmation=function(e,n){t.state=o.LOADING;var a=sessionStorage.getItem("token");if(!a)return Promise.reject();var r={id:e,phone:t.formatPhone(n)};return fetch("".concat("http://localhost:8888","/auth/request-change-phone-with-confirmation"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){t.state=o.SUCCESS}))},this.confirmChangePhoneWithVerification=function(e,n,a){t.state=o.LOADING;var r=sessionStorage.getItem("token");if(!r)return Promise.reject();var l={user_id:e,new_phone:t.formatPhone(n),confirm_code:a};return fetch("".concat("http://localhost:8888","/auth/confirm-change-phone-with-verification"),{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){t.state=o.SUCCESS}))},this.requestChangeEmailWithConfirmation=function(e,n){t.state=o.LOADING;var a=sessionStorage.getItem("token");if(!a)return Promise.reject();var r={id:e,email:n};return fetch("".concat("http://localhost:8888","/auth/request-change-email-with-confirmation"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){t.state=o.SUCCESS}))},this.confirmChangeEmailWithVerification=function(e,n,a){t.state=o.LOADING;var r=sessionStorage.getItem("token");if(!r)return Promise.reject();var l={user_id:e,new_email:n,confirm_code:a};return fetch("".concat("http://localhost:8888","/auth/confirm-change-email-with-verification"),{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){t.state=o.SUCCESS}))},this.requestConfirmationCodeForResetPasswordUsingPhone=function(e){t.state=o.LOADING;var n={phone:t.formatPhone(e)};return fetch("".concat("http://localhost:8888","/auth/request-confirmation-code-for-reset-password-using-phone"),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){t.state=o.SUCCESS}))},this.verifyConfirmationCodeUsingPhone=function(e,n){t.state=o.LOADING;var a={phone:t.formatPhone(e),confirm_code:n};return fetch("".concat("http://localhost:8888","/auth/verify-confirmation-code-using-phone"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){t.state=o.SUCCESS}))},this.confirmResetPasswordWithConfirmationUsingPhone=function(e,n,a){t.state=o.LOADING;var r={phone:t.formatPhone(e),confirm_code:n,new_password:a};return fetch("".concat("http://localhost:8888","/auth/confirm-reset-password-with-confirmation-using-phone"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){return sessionStorage.setItem("token",e.token),t.state=o.SUCCESS,e}))},this.updateProfile=function(e,n,a){t.state=o.LOADING;var r=sessionStorage.getItem("token");if(!r)return Promise.reject();var l={id:e,first_name:n,last_name:a};return fetch("".concat("http://localhost:8888","/users/"),{method:"PUT",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return e.json().then((function(e){return t.setError(),Promise.reject({message:e.message})}))}})).then((function(e){return t.state=o.SUCCESS,e}))},this.getLatestDialogs=function(e){t.state=o.LOADING;var n=sessionStorage.getItem("token");return n?fetch("".concat("http://localhost:8888","/message/latestDialogs?author_id=").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){switch(e.status){case 200:case 201:return e.json();default:return t.setError(),Promise.reject()}})):Promise.reject()},this.logout=function(){t.user=null,sessionStorage.clear(),t.state=o.PENDING},this.setUser=function(e){return t.user=e,t.state=o.SUCCESS,e.token&&sessionStorage.setItem("token",e.token),e},this.handleSetUsers=function(e){return t.users=e.items,t.usersPagination=e.pagination,t.state=o.SUCCESS,e.items},this.setSchoolAreas=function(e){return t.schoolAreas=e,t.state=o.SUCCESS,e},this.setSchoolClasses=function(e){return t.schoolClasses=e,t.state=o.SUCCESS,e},this.setControlPoints=function(e){return t.controlPoints=e.items,t.controlPointPagination=e.pagination,t.state=o.SUCCESS,t.controlPoints},this.setError=function(){t.state=o.ERROR},this.setSuccess=function(){t.state=o.SUCCESS}};(0,f.GW)(p,{user:f.LO,state:f.LO,schoolAreas:f.LO,schoolClasses:f.LO});var g=new p,E=n.p+"static/media/VK_Blue_Logo.cce74bbd.svg",_="VKButton_vk-button__input__2yYiU",v="VKButton_vk-button__2yUZ7",S="VKButton_vk-button__input-icon__2j7Ao",y=(0,c.EN)((function(e){var t=a.useState(!1),n=(0,m.Z)(t,2),r=n[0],l=n[1],o="".concat("http://localhost:3000","/signin");return a.useEffect((function(){var t,n=d.Qc(e.location.search);r&&(window.location.href=o),!function(e){for(var t in e)return!1;return!0}(n)&&n.code&&(t=n.code,g.loginVk(t).then((function(){return new Promise((function(e,t){setTimeout((function(){sessionStorage.removeItem("alert"),sessionStorage.setItem("useUpdateUser",JSON.stringify(!0)),e()}),100)})).then((function(){e.history.push("/user")}))})).catch((function(){return l(!0)})))}),[e.location.search,r,o,e.history]),a.createElement("div",{className:v},a.createElement("button",{className:_,onClick:function(){window.location.href="https://oauth.vk.com/authorize?client_id=".concat("7716909","&display=popup&redirect_uri=").concat(o,"&scope=email&response_type=code&v=5.120&state=4194308")}},a.createElement("img",{src:E,alt:"vk logo",className:S}),"Sign in with VK"),r&&a.createElement("p",{style:{color:"red"}},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 \u0412\u041a"))}));function P(){return a.useContext(l.yX)}var b,C,N,w,k,I="LayoutDefault_layout-default__1Lp5X",U="LayoutDefault_layout-default__content__25qpL",j="LayoutDefault_layout-default__links-content__NsElU",O="LayoutDefault_layout-default__links__1atp7",x=["/user"],A=(0,l.Pi)((function(e){var t=P().UserStore,n=t.user,r=t.state,l=t.getProfile,i=t.logout,u=(0,c.k6)();return a.useEffect((function(){var e=sessionStorage.getItem("token");if(x.includes(u.location.pathname)&&!e)return u.push("/signin");!n&&r!==o.LOADING&&e&&l().catch((function(){u.push("/signin"),i()}))}),[n,r,l,i,u]),a.createElement("div",{className:I},a.createElement("div",{className:j},a.createElement("div",{className:O},a.createElement(s.rU,{to:"/",style:{color:"#2980b9",textDecoration:"initial",fontSize:23}},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),n?a.createElement(s.rU,{to:"/user",style:{color:"#2980b9",textDecoration:"initial",fontSize:23}},"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"):a.createElement(s.rU,{to:"/signin",style:{color:"#2980b9",textDecoration:"initial",fontSize:23}},"\u0412\u043e\u0439\u0442\u0438"))),a.createElement("div",{className:U},e.children))})),T=A,Z=n(4090),D=n.n(Z),J={"signin-form":"SignInPage_signin-form__3wl2_","phone-prefix":"SignInPage_phone-prefix__3JnqO",phone:"SignInPage_phone__2A_oV",password:"SignInPage_password__nOek4","signin-container":"SignInPage_signin-container__1U01L","signin-btn":"SignInPage_signin-btn__20twg",alert:"SignInPage_alert__1DynZ",fadein:"SignInPage_fadein__pdahR","alert-success":"SignInPage_alert-success__3-gpr","alert-error":"SignInPage_alert-error__2_XJ1","has-error":"SignInPage_has-error__1R-V_",shakeMe:"SignInPage_shakeMe__1mtk7"},B=function(e){var t=(0,a.useState)(!1),n=(0,m.Z)(t,2),r=n[0],l=n[1],o=(0,a.useState)(""),s=(0,m.Z)(o,2),c=s[0],i=s[1],u=(0,a.useState)(""),d=(0,m.Z)(u,2),h=d[0],f=d[1],p=(0,a.useState)(""),E=(0,m.Z)(p,2),_=E[0],v=E[1],S=(0,a.useState)(""),P=(0,m.Z)(S,2),b=P[0],C=P[1];a.useEffect((function(){if(!b){var e=sessionStorage.getItem("alert");C(JSON.parse(e))}}),[b]),a.useEffect((function(){var e=sessionStorage.getItem("selectedPhone");e&&(sessionStorage.removeItem("selectedPhone"),f(e));var t=document.querySelector(".phone input");t&&D()({mask:"(999) 999-99-99"}).mask(t)}),[h]);var N=function(){return 12===["+7",h].join("").replace(/[()-]|_| /gi,"").length&&_.trim()},w=function(){N()&&(l(!1),i(""),g.signIn(h.trim(),_.trim()).then((function(t){sessionStorage.removeItem("alert"),e.history.push("/user")})).catch((function(e){i(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),l(!0)})))};return a.createElement(T,null,a.createElement("div",{className:J["signin-page"]},a.createElement("div",{className:"".concat(r?J["has-error"]:""," ").concat(J["signin-form"])},a.createElement("div",null,a.createElement("h2",null,"Sign In"),b&&a.createElement("div",{className:"".concat(J.alert," ").concat(J["alert-success"])},b.text),r&&a.createElement("div",{className:"".concat(J.alert," ").concat(J["alert-error"])},c),a.createElement("form",{onSubmit:function(e){e.preventDefault(),w()}},a.createElement("div",{className:"phone ".concat(J.phone)},a.createElement("label",null,a.createElement("div",{style:{overflow:"hidden"}},a.createElement("span",{className:J["phone-prefix"]},"+7"),a.createElement("input",{type:"text",value:h,onChange:function(e){f(e.currentTarget.value)},placeholder:"(___) ___-__-__"})))),a.createElement("div",{className:J.password},a.createElement("label",null,a.createElement("input",{type:"password",value:_,onChange:function(e){v(e.currentTarget.value)},placeholder:"Password"}))),a.createElement("div",{className:J["signin-container"]},a.createElement("button",{className:J["signin-btn"],disabled:!N,onClick:w},"Sign In"))),a.createElement(y,null),a.createElement("div",{style:{textAlign:"center",marginBottom:10}},a.createElement("span",null,"Forgot password? You may"," ",a.createElement("a",{href:"/reset-password",style:{color:"initial",fontSize:17}},"reset password"),a.createElement("br",null)),a.createElement("span",null,"Don't have an account? Use"," ",a.createElement("a",{href:"/registration",style:{color:"initial",cursor:"pointer",fontSize:17}},"registration")))))))},L={"layout-user":"LayoutUser_layout-user__2-cjQ"},z=function(e){return a.createElement(T,null,a.createElement("div",{className:L["layout-user"]},a.createElement("div",{className:L["layout-user__main"]},a.createElement("div",{className:L["layout-user__content"]},e.children))))},R="UserPage_user-page__39J4X",q="UserPage_user-page__logout__1lSzz",G="UserPage_user-page__avatar__R1YLC",W="UserPage_first-name__1WXzY",M="UserPage_last-name__3xQ_s",V="UserPage_password__2J90_",H="UserPage_phone-prefix__SnFmw",F="UserPage_phone__A3oi1",Y="UserPage_email__JUiyz",Q="UserPage_update-profile-container__27FQJ",K="UserPage_update-profile-btn__3TV5R",X="UserPage_alert__2f-sq",$="UserPage_alert-success__2Eb-o",ee="UserPage_alert-error__YIXPP",te=(0,l.f3)("UserStore")((0,c.EN)((0,l.Pi)((function(e){var t=e.UserStore,n=(t.state,t.user),r=(0,a.useState)(!1),l=(0,m.Z)(r,2),o=l[0],s=l[1],c=(0,a.useState)(""),i=(0,m.Z)(c,2),u=i[0],d=i[1],h=(0,a.useState)(""),f=(0,m.Z)(h,2),p=f[0],E=f[1],_=(0,a.useState)(!1),v=(0,m.Z)(_,2),S=v[0],y=v[1],P=(0,a.useState)(""),b=(0,m.Z)(P,2),C=b[0],N=b[1],w=(0,a.useState)(""),k=(0,m.Z)(w,2),I=k[0],U=k[1];a.useEffect((function(){var t=sessionStorage.getItem("token");if(console.log(t),!t)return e.history.push("/signin");if(sessionStorage.getItem("alert")){var a=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),E(JSON.parse(a))}(n||g.getProfile().then((function(e){N(e.first_name),U(e.last_name)})),S)||sessionStorage.getItem("useUpdateUser")&&(sessionStorage.removeItem("hasUseUpdateUser"),y(!0));S&&g.getProfile().then((function(e){N(e.first_name),U(e.last_name)}));var r=document.querySelector(".phone input");r&&D()({mask:"(999) 999-99-99"}).mask(r)}),[S]);var j,O=function(e){e.preventDefault();var t=document.querySelector(".file");t.focus(),t.click()},x=function(){C.trim()&&I.trim()&&(s(!1),d(""),g.updateProfile(n.id,C.trim(),I.trim()).then((function(){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"Profile successfully updated!"}));var e=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),E(JSON.parse(e))})).catch((function(e){d(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),s(!0)})))};return a.createElement(z,null,n&&a.createElement("div",{className:R},n&&n.avatar_url&&a.createElement("img",{onClick:O,src:n.avatar_url.indexOf("/avatars/")>0?["http://localhost:8888","/avatars/",n.avatar_url.split("/avatars/")[1]].join(""):n.avatar_url,alt:"vk avatar",className:G})||a.createElement("img",{onClick:O,src:"/default-avatar.png",alt:"vk avatar",className:G}),p&&a.createElement("div",{className:"".concat(X," ").concat($)},p.text),o&&a.createElement("div",{className:"".concat(X," ").concat(ee)},u),a.createElement("form",{onSubmit:function(e){e.preventDefault(),x()}},n&&a.createElement("div",{className:W},a.createElement("label",null,a.createElement("span",null,"First Name"),a.createElement("input",{type:"text",placeholder:"First Name",value:C,onChange:function(e){N(e.currentTarget.value)}}))),n&&a.createElement("div",{className:M},a.createElement("label",null,a.createElement("span",null,"Last Name"),a.createElement("input",{type:"text",placeholder:"Last Name",value:I,onChange:function(e){U(e.currentTarget.value)}}))),a.createElement("div",{className:V},a.createElement("label",null,a.createElement("span",null,"Password"),a.createElement("input",{type:"text",placeholder:"Password",disabled:!0,value:"Password hidden"}),a.createElement("a",{href:"/change-password"},"Change password"))),n&&a.createElement("div",{className:"phone ".concat(F)},a.createElement("label",null,a.createElement("span",null,"Phone"),a.createElement("span",{className:H},"+7"),a.createElement("input",{type:"text",value:n.phone&&n.phone.replace("+7",""),disabled:!0,placeholder:n.phone&&n.phone.replace("+7","")||"Phone not attached"}),a.createElement("a",{href:"/change-phone"},"Change phone"))),n&&a.createElement("div",{className:Y},a.createElement("label",null,a.createElement("span",null,"Email"),a.createElement("input",{type:"text",placeholder:"Email",disabled:!0,value:n.email||"Email not attached"}),a.createElement("a",{href:"/change-email"},"Change email")))),a.createElement("div",{className:Q},a.createElement("button",{className:K,style:{padding:10},onClick:x},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c")),a.createElement("button",{onClick:function(){g.logout(),e.history.push("/signin")},className:q}," ","\u0412\u044b\u0439\u0442\u0438"," "),a.createElement("br",null),a.createElement("br",null),a.createElement("input",{className:"file",style:{display:"none"},type:"file",onChange:function(e){return function(e){j=e.target.files[0];var t=new FormData;t.append("file",j,j.name);var a=n.id;g.uploadImage(a,t).then((function(){return g.getProfile()}))}(e)}})))})))),ne=(0,l.Pi)((function(){var e=P().UserStore.user;return a.createElement(T,null,a.createElement("h1",null,"Home Page"),a.createElement("br",null),e&&a.createElement("div",{style:{fontSize:24}},a.createElement("p",null,"\u041e \u043f\u0440\u0438\u0432\u0435\u0442, ",e.first_name," ",e.last_name),a.createElement("br",null),a.createElement("a",{style:{color:"#dedede"},href:"#"},"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0430\u0434\u043c\u0438\u043d\u043a\u0430: \u0432\u044b\u0431\u043e\u0440 \u0448\u043a\u043e\u043b\u044b \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430")," ",a.createElement("a",{style:{color:"#dedede"},href:"/create-class-area"},"(\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0448\u043a\u043e\u043b\u044b)")," ",a.createElement("a",{style:{color:"#dedede"},href:"/create-class-page"},"(\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430)"),a.createElement("br",null),a.createElement("a",{style:{color:"initial"},href:"/list-users"},"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0430\u0434\u043c\u0438\u043d\u043a\u0430: \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430 \u0443\u0447\u0435\u043d\u0438\u043a\u0443 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432")," ",a.createElement("a",{style:{color:"#dedede"},href:"#"},"(\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u0430)"),a.createElement("br",null),a.createElement("br",null),a.createElement("a",{style:{color:"initial"},href:"/schedule-control-point-per-school-class"},"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u044b\u0439 \u0436\u0443\u0440\u043d\u0430\u043b \u043a\u043b\u0430\u0441\u0441\u043e\u0432: \u0432\u044b\u0431\u043e\u0440 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u0438 \u0441\u0440\u0435\u0434\u0438 timeline \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0445 \u0442\u043e\u0447\u0435\u043a"),a.createElement("br",null),a.createElement("span",{style:{color:"#dedede"}},"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u043e\u0439")," ",a.createElement("span",{style:{color:"#dedede"}},"(\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u0438)"),a.createElement("br",null),a.createElement("a",{style:{color:"initial"},href:"#"},"\u0416\u0443\u0440\u043d\u0430\u043b \u043a\u043b\u0430\u0441\u0441\u0430: \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f"),a.createElement("br",null),a.createElement("a",{style:{color:"#dedede"},href:"#"},"\u0421\u0442\u0430\u0442\u0443\u0441 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0440\u0430\u0431\u043e\u0442 \u043f\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u043c \u0442\u043e\u0447\u043a\u0430\u043c \u0441\u0440\u0435\u0434\u0438 Timeline"),a.createElement("br",null),a.createElement("span",{style:{color:"#dedede"}},"\u0412\u044b\u0431\u043e\u0440 \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f"),a.createElement("br",null),a.createElement("a",{style:{color:"initial"},href:"#"},"\u0416\u0443\u0440\u043d\u0430\u043b \u043a\u043b\u0430\u0441\u0441\u0430: \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432"),a.createElement("br",null),a.createElement("br",null),a.createElement("a",{style:{color:"#dedede"},href:"#"},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0447\u0430\u0442 \u0441 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u043c"),a.createElement("br",null),a.createElement("span",{style:{color:"#dedede"}},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u0435"),a.createElement("br",null),a.createElement("span",{style:{color:"#dedede"}},"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u043f\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u0435"),a.createElement("br",null),a.createElement("span",{style:{color:"#dedede"}},"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043e\u0446\u0435\u043d\u043a\u0443 \u043a \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0439 \u0440\u0430\u0431\u043e\u0442\u0435"),a.createElement("br",null),a.createElement("br",null),a.createElement("a",{style:{color:"#dedede"},href:"#"},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0447\u0430\u0442 \u0441 \u0443\u0447\u0438\u0442\u0435\u043b\u0435\u043c")))})),ae=n(1252),re="ListUsersPage_list-user__3hGHj",le=(0,l.f3)("UserStore")((0,c.EN)((0,l.Pi)((function(e){var t=e.UserStore,n=t.state,r=t.user,l=t.users,s=t.usersPagination,c=t.schoolAreas,i=t.schoolClasses,u=(0,a.useState)(!1),d=(0,m.Z)(u,2),h=d[0],f=d[1],p=(0,a.useState)({}),E=(0,m.Z)(p,2),_=E[0],v=E[1],S=(0,a.useState)({}),y=(0,m.Z)(S,2),P=y[0],b=y[1],C=(0,a.useState)({}),N=(0,m.Z)(C,2),w=N[0],k=N[1],I=(0,a.useState)({}),U=(0,m.Z)(I,2),j=U[0],O=U[1],x=(0,a.useState)(1),A=(0,m.Z)(x,2),T=A[0],Z=A[1],D=(0,a.useState)(2),J=(0,m.Z)(D,2),B=J[0],L=J[1];a.useEffect((function(){if(!sessionStorage.getItem("token"))return e.history.push("/signin");r||g.getProfile(),l||g.getAllUsers(T,B).then((function(e){var t=JSON.parse(JSON.stringify(w));e.map((function(e){e.schoolArea&&(t[e.id]={value:e.schoolArea.id,label:e.schoolArea.school_area})})),k(t);var n=JSON.parse(JSON.stringify(j));e.map((function(e){e.schoolClass&&(n[e.id]={value:e.schoolClass.id,label:e.schoolClass.school_class})})),O(n)})),l&&!c&&g.getSchoolAreas().then((function(e){var t={};l.map((function(n){t[n.id]=JSON.parse(JSON.stringify(e)).map((function(e){return{value:e.id,label:e.school_area}}))})),v(t)})),l&&!i&&g.getSchoolClasses().then((function(e){var t={};l.map((function(n){t[n.id]=JSON.parse(JSON.stringify(e)).filter((function(e){return!w[n.id]||w[n.id].value===e.schoolArea.id})).map((function(e){return{value:e.id,label:e.school_class}}))})),b(t)}))}),[c,i,_,P,w,j,r,l,c,i]);var R=function(e){if(_&&P&&w&&O)return a.createElement("tr",{key:e.vk_id},a.createElement("td",{style:{width:100}},e.vk_id),a.createElement("td",{style:{width:200,textAlign:"left"}},e.first_name," ",e.last_name,a.createElement("br",null)," ",a.createElement("a",{style:{color:"#2980b9"},href:"/dialog/".concat(e.id)},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0447\u0430\u0442\u0443")),a.createElement("td",null,a.createElement("div",{style:{width:100}},a.createElement("img",{style:{width:50,height:50},src:e.avatar_url}))),a.createElement("td",{style:{width:200,paddingRight:10}},a.createElement("select",{style:{width:245,paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,padding:10,fontSize:17},value:w[e.id]&&w[e.id].value||"",onChange:function(t){!function(t){var n=JSON.parse(JSON.stringify(w));n[e.id]=_[e.id].filter((function(e){return e.value===Number(t.currentTarget.value)}))[0],k(n);var a={};l.map((function(e){a[e.id]=JSON.parse(JSON.stringify(i)).filter((function(t){return!n[e.id]||n[e.id].value===t.schoolArea.id})).map((function(e){return{value:e.id,label:e.school_class}}))})),b(a);var r=JSON.parse(JSON.stringify(j));r[e.id]={value:"",label:""},O(r)}(t)}},a.createElement("option",{value:""},"Not selected"),_[e.id]&&Object.keys(_[e.id]).map((function(t){var n=_[e.id][t];return a.createElement("option",{value:n.value},n.label)})))),a.createElement("td",{style:{width:200,paddingRight:10}},a.createElement("select",{style:{width:245,paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,padding:10,fontSize:17},value:j[e.id]&&j[e.id].value||"",onChange:function(t){!function(t){var n=JSON.parse(JSON.stringify(j));n[e.id]=P[e.id].filter((function(e){return e.value===Number(t.currentTarget.value)}))[0],O(n)}(t)}},a.createElement("option",{value:""},"Not selected"),P[e.id]&&Object.keys(P[e.id]).map((function(t){var n=P[e.id][t];return a.createElement("option",{value:n.value},n.label)})))),a.createElement("td",null,a.createElement("button",{onClick:function(){var t={id:e.id,vk_id:e.vk_id,name:e.name,email:e.email,grant:e.grant,avatar_url:e.avatar_url,school_area_id:w[e.id].value,school_class_id:j[e.id].value};g.updateUser(t).then((function(e){})).catch((function(){return f(!0)}))},style:{padding:10}},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c")))};if(n===o.ERROR)return a.createElement("p",null,"Erorr");if(n!==o.SUCCESS)return a.createElement(z,null,a.createElement("p",null,"Loading..."));var q=function(e){var t=Number(e.currentTarget.text);Z(t),g.setUsers(null),g.setUsersPagination(null)};return a.createElement(z,null,a.createElement("h2",{style:{textAlign:"center"}},"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430 \u0443\u0447\u0435\u043d\u0438\u043a\u0443 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432"),a.createElement("br",null),l&&c&&i&&a.createElement("table",{className:re,style:{marginBottom:40}},a.createElement("thead",{style:{textAlign:"left"}},a.createElement("tr",null,a.createElement("th",null,"Vk ID"),a.createElement("th",null,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0438 \u0438\u043c\u044f"),a.createElement("th",null,"\u0410\u0432\u0430\u0442\u0430\u0440"),a.createElement("th",null,"\u0428\u043a\u043e\u043b\u0430"),a.createElement("th",null,"\u041a\u043b\u0430\u0441\u0441"),a.createElement("th",null,"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"))),a.createElement("tbody",null,l.map((function(e){return R(e)})))),l&&a.createElement("div",null,a.createElement("div",{style:{marginBottom:20}},a.createElement("span",null,"\u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435: "),a.createElement("select",{value:B,onChange:function(e){var t=Number(e.currentTarget.value);L(t),g.setUsers(null),g.setUsersPagination(null)},style:{padding:10,fontSize:14}},[2,5,10,25,50,100].map((function(e,t){return a.createElement("option",{key:e},e)})))),a.createElement("div",null,a.createElement("span",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430: "),(0,ae.Z)(Array(s.total_pages)).map((function(e,t){return s.page===t+1?a.createElement("span",{style:{marginRight:10,textDecoration:"initial"}},t+1):a.createElement("a",{onClick:q,href:"#",style:{marginRight:10,textDecoration:"initial",color:"#2980b9",cursor:"pointer"}},t+1)})))),h&&a.createElement("p",{style:{color:"red"}},"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f"))})))),oe=void 0,se=(0,l.f3)("UserStore")((0,c.EN)((0,l.Pi)((function(e){var t=e.UserStore,n=t.state;t.user,t.users;return a.useEffect((function(){var e=sessionStorage.getItem("token");if(console.log(e),!e)return oe.props.history.push("/signin")})),n===o.ERROR?a.createElement("p",null,"Erorr"):n!==o.SUCCESS?a.createElement(z,null,a.createElement("p",null,"Loading...")):a.createElement(z,null,a.createElement("h2",{style:{textAlign:"center"}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u043a\u043e\u043b\u0443"),a.createElement("br",null),a.createElement("input",{type:"text",placeholder:"\u0428\u043a\u043e\u043b\u0430",style:{padding:10,fontSize:18,marginBottom:20}}),a.createElement("br",null),a.createElement("button",{style:{padding:10}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))})))),ce=void 0,ie=(0,l.f3)("UserStore")((0,c.EN)((0,l.Pi)((function(e){var t=e.UserStore,n=t.state;t.user,t.users;return a.useEffect((function(){var e=sessionStorage.getItem("token");if(console.log(e),!e)return ce.props.history.push("/signin")})),n===o.ERROR?a.createElement("p",null,"Erorr"):n!==o.SUCCESS?a.createElement(z,null,a.createElement("p",null,"Loading...")):a.createElement(z,null,a.createElement("h2",{style:{textAlign:"center"}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u043a\u043e\u043b\u0443 \u0438 \u043a\u043b\u0430\u0441\u0441"),a.createElement("br",null),a.createElement("input",{type:"text",placeholder:"\u0428\u043a\u043e\u043b\u0430",style:{padding:10,fontSize:18,marginBottom:10}}),a.createElement("br",null),a.createElement("input",{type:"text",placeholder:"\u041a\u043b\u0430\u0441\u0441",style:{padding:10,fontSize:18,marginBottom:20}}),a.createElement("br",null),a.createElement("button",{style:{padding:10}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))})))),ue="ScheduleControlPointPerSchoolClassPage_selected-calendar-date-container__1ywcV",me="ScheduleControlPointPerSchoolClassPage_schedule-table-container__3CYEG",de="ScheduleControlPointPerSchoolClassPage_schedule-table__2p_hu",he="ScheduleControlPointPerSchoolClassPage_duration-rectangle__1sIcD",fe="ScheduleControlPointPerSchoolClassPage_day-time-window-header__38kYz",pe="ScheduleControlPointPerSchoolClassPage_day-time-window-header_hours-2__3fN3C",ge="ScheduleControlPointPerSchoolClassPage_day-time-window-header_hours-3__-yyDa",Ee="ScheduleControlPointPerSchoolClassPage_day-time-window-header_hours-4__3Fl0U",_e="ScheduleControlPointPerSchoolClassPage_day-time-window-header_hours-6__pZep_",ve="ScheduleControlPointPerSchoolClassPage_day-time-window-body__207uu",Se="ScheduleControlPointPerSchoolClassPage_day-time-window-body_hours-2__3AOrn",ye="ScheduleControlPointPerSchoolClassPage_day-time-window-body_hours-3__1l2k3",Pe="ScheduleControlPointPerSchoolClassPage_day-time-window-body_hours-4__1D8vy",be="ScheduleControlPointPerSchoolClassPage_day-time-window-body_hours-6__1sTgc",Ce="ScheduleControlPointPerSchoolClassPage_update-control-point-container__2QtTk",Ne="ScheduleControlPointPerSchoolClassPage_update-control-point-btn__2OkjU",we="ScheduleControlPointPerSchoolClassPage_alert__107R0",ke="ScheduleControlPointPerSchoolClassPage_alert-success__1el1Q",Ie="ScheduleControlPointPerSchoolClassPage_alert-error__3gZrj",Ue="ScheduleControlPointPerSchoolClassPage_has-error__2JXVO",je="ScheduleControlPointPerSchoolClassPage_form-control-point__JNx8M",Oe="ScheduleControlPointPerSchoolClassPage_calendar-container__2pPmD",xe=n(2688),Ae=(n(648),n(8591)),Te=(0,l.f3)("UserStore")((0,c.EN)((0,l.Pi)((function(e){var t=e.UserStore,n=(t.state,t.schoolClasses),r=t.controlPoints,l=(0,a.useState)(!1),o=(0,m.Z)(l,2),s=o[0],c=o[1],i=(0,a.useState)(""),u=(0,m.Z)(i,2),d=u[0],h=u[1],f=(0,a.useState)(null),p=(0,m.Z)(f,2),E=p[0],_=p[1],v=(0,a.useState)(4),S=(0,m.Z)(v,1)[0],y=(0,a.useState)({}),P=(0,m.Z)(y,2),b=P[0],C=P[1],N=(0,a.useState)(""),w=(0,m.Z)(N,2),k=w[0],I=w[1],U=(0,a.useState)(""),j=(0,m.Z)(U,2),O=j[0],x=j[1],A=(0,a.useState)(null),T=(0,m.Z)(A,2),Z=T[0],D=T[1],J=(0,a.useState)(null),B=(0,m.Z)(J,2),L=B[0],R=B[1],q=(0,a.useState)(null),G=(0,m.Z)(q,2),W=G[0],M=G[1],V=(0,a.useState)(""),H=(0,m.Z)(V,2),F=H[0],Y=H[1],Q=(0,a.useState)(""),K=(0,m.Z)(Q,2),X=K[0],$=K[1],ee=(0,a.useState)(""),te=(0,m.Z)(ee,2),ne=te[0],re=te[1],le=(0,a.useState)(""),oe=(0,m.Z)(le,2),se=oe[0],ce=oe[1],ie=(0,a.useState)(""),Te=(0,m.Z)(ie,2),Ze=Te[0],De=Te[1],Je=(0,a.useState)(""),Be=(0,m.Z)(Je,2),Le=Be[0],ze=Be[1],Re=(0,a.useState)(""),qe=(0,m.Z)(Re,2),Ge=qe[0],We=qe[1],Me=(0,a.useState)(""),Ve=(0,m.Z)(Me,2),He=Ve[0],Fe=Ve[1],Ye=(0,a.useState)(""),Qe=(0,m.Z)(Ye,2),Ke=Qe[0],Xe=Qe[1],$e=(0,a.useState)({}),et=(0,m.Z)($e,2),tt=et[0],nt=et[1],at=(0,a.useState)({}),rt=(0,m.Z)(at,2),lt=rt[0],ot=rt[1],st=(0,a.useState)(""),ct=(0,m.Z)(st,2),it=ct[0],ut=ct[1],mt=(0,a.useState)(""),dt=(0,m.Z)(mt,2),ht=dt[0],ft=dt[1],pt=(0,a.useState)(new Date),gt=(0,m.Z)(pt,2),Et=gt[0],_t=gt[1],vt=(0,a.useState)(!1),St=(0,m.Z)(vt,2),yt=St[0],Pt=St[1],bt=(0,a.useState)(!1),Ct=(0,m.Z)(bt,2),Nt=Ct[0],wt=Ct[1],kt=(0,a.useState)(!1),It=(0,m.Z)(kt,2),Ut=It[0],jt=It[1],Ot=(0,a.useState)({}),xt=(0,m.Z)(Ot,2),At=xt[0],Tt=xt[1],Zt=(0,a.useState)(""),Dt=(0,m.Z)(Zt,2),Jt=Dt[0],Bt=Dt[1],Lt=function(e){var t={};n.filter((function(t){return t.schoolArea.id===e})).map((function(e){t[e.id]||(t[e.id]=e.school_class)})),ot(t)},zt=function(e){M(e.id),Y(e.theme_name),$(e.homework_description),re(e.control_point_opens),ce(e.control_point_closes),De(e.control_point_grade),ze(e.control_point_status);var t=JSON.parse(JSON.stringify(At));t[e.controlPointHandledBy.id]=e.controlPointHandledBy,Tt(t),We(e.controlPointHandledBy.id),Fe(e.schoolArea.id),Xe(e.schoolClass.id);var a=e.schoolArea.id;!function(){var e={};n.map((function(t){e[t.schoolArea.id]||(e[t.schoolArea.id]=t.schoolArea.school_area)})),nt(e)}(),Lt(a)},Rt=function(){var e=document.querySelector(".react-calendar__month-view__days");e&&D(e.children.length)},qt=function(){g.getControlPoints(1,5,it,ht).then((function(e){var t={};e.map((function(e,n){t[[e.schoolArea.id,e.schoolClass.id].join("__")]||(t[[e.schoolArea.id,e.schoolClass.id].join("__")]=[]),t[[e.schoolArea.id,e.schoolClass.id].join("__")].push(e),0===n&&zt(e)})),C(t)}))},Gt=function(){for(var e=[],t=new Date(k);t<=new Date(O);t=new Date(Number(t)+864e5))e.push({weekDayText:t.toLocaleDateString("en-US",{weekday:"short"}),dateText:[t.getDate(),t.toLocaleDateString("en-US",{month:"short"})].join(" ")});_(e)};a.useEffect((function(){if(!Jt){var t=sessionStorage.getItem("alert");Bt(JSON.parse(t))}if(!sessionStorage.getItem("token"))return e.history.push("/signin");(n||g.getSchoolClasses().then((function(){})),Z)||document.querySelector(".react-calendar__month-view__days")&&function(){Rt();var e=document.querySelector(".react-calendar__navigation__prev-button");if(e){e.onclick=function(){setTimeout(Rt)};var t=document.querySelector(".react-calendar__navigation__prev2-button");if(t){t.onclick=function(){setTimeout(Rt)};var n=document.querySelector(".react-calendar__navigation__next-button");if(n){n.onclick=function(){setTimeout(Rt)};var a=document.querySelector(".react-calendar__navigation__next2-button");a&&(a.onclick=function(){setTimeout(Rt)})}}}}();!L&&Z&&function(){var e=document.querySelector(".react-calendar__tile--active"),t=document.querySelector(".react-calendar__month-view__days");if(e&&t){var n=(0,ae.Z)(t.children).indexOf(e),a=Math.trunc(n/7);document.querySelectorAll(".choose-calendar-week-btn")[a].click()}}(),!it&&!ht&&k&&O&&(ut(k.replace(" ","_")),ft(O.replace(" ","_"))),!r&&it&&ht&&qt(),!E&&k&&O&&Gt(),yt&&it&&ht&&(Pt(!1),qt()),Nt&&k&&O&&(wt(!1),Gt()),Ut&&(jt(!1),Rt())}),[n,E,r,b,k,O,Z,yt]);var Wt=function(e){var t=Number(e.currentTarget.dataset.id);r.map((function(e){e.id===t&&zt(e)}))},Mt=function(e,t){var n=b[[e.schoolArea.id,e.id].join("__")]||null,r=[];switch(0===t&&n&&(r=n.map((function(e){return function(e){if(!e)return"";var t=(Number(new Date(e.control_point_opens))-Number(new Date(k)))/1e3/60,n=Math.trunc(t/24/60),r=Math.trunc((t-24*n*60)/60),l=Math.trunc((t-24*n*60-60*r)/5),o=(Number(new Date(e.control_point_closes))-Number(new Date(e.control_point_opens)))/1e3/60,s=(Number(new Date(O))-Number(new Date(e.control_point_opens)))/1e3/60;o>s&&(o=s);var c=Math.trunc(o/24/60),i=Math.trunc((o-24*c*60)/60),u=24*n*10+10*r+l*(10/12)+5+6*n*1+1*r,m=24*c*10+10*i+Math.trunc((o-24*c*60-60*i)/5)*(10/12)+6*c*1-5-1*i;return a.createElement("div",{className:he,style:{position:"absolute",marginLeft:u,marginTop:15,width:m,height:40,background:"cyan",display:"table"}},a.createElement("div",{"data-id":e.id,style:{display:"table-cell",verticalAlign:"middle",paddingLeft:10},onClick:Wt},e.theme_name))}(e)}))),Object.keys(b).length,S){case 2:return a.createElement("td",null,a.createElement("div",{className:"".concat(ve," ").concat(Se)},a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"00:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"02:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"04:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"06:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"08:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"10:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"12:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"14:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"16:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"18:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"20:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"22:00")))));case 3:return a.createElement("td",null,a.createElement("div",{className:"".concat(ve," ").concat(ye)},a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"00:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"03:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"06:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"09:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"12:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"15:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"18:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"21:00")))));case 4:return a.createElement("td",null,a.createElement("div",{className:"".concat(ve," ").concat(Pe)},a.createElement("div",{style:{position:"relative"}},r&&r.map((function(e){return e}))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"00:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"04:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"08:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"12:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"16:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"20:00")))));case 6:default:return a.createElement("td",null,a.createElement("div",{className:"".concat(ve," ").concat(be)},a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"00:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"06:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"12:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"18:00")))))}},Vt={year:"numeric",month:"long",day:"numeric"},Ht=function(e){var t,n,a,r=Number(e.currentTarget.getAttribute("data-key")),l=document.querySelector(".react-calendar__month-view__days"),o=l.children[7*r],s=l.children[7*(r+1)-1],c=document.querySelector(".react-calendar__navigation__label__labelText").textContent.split(" "),i=(0,m.Z)(c,2),u=i[0],d=i[1];switch(u){case"January":t=0;break;case"February":t=1;break;case"March":t=2;break;case"April":t=3;break;case"May":t=4;break;case"June":t=5;break;case"July":t=6;break;case"August":t=7;break;case"September":t=8;break;case"October":t=9;break;case"November":t=10;break;case"December":t=11}if(0===r&&o.textContent>20){var h=t-1,f=d;h<0&&(h=11,f=d-1),n=new Date(f,h,o.textContent,0,0),a=new Date(d,t,s.textContent,23,55)}else if(r+1===Math.trunc(l.children.length/7)){var p=t+1,g=Number(d);p>11&&(p=0,g+=1),n=new Date(d,t,o.textContent,0,0),a=new Date(g,p,s.textContent,23,55)}else n=new Date(d,t,o.textContent,0,0),a=new Date(d,t,s.textContent,23,55);var E=function(e){return 1===String(e).length?"0"+e:e},_=[[n.getFullYear(),E(n.getMonth()+1),E(n.getDate())].join("-"),[E(n.getHours()),E(n.getMinutes())].join(":")].join(" "),v=[[E(a.getFullYear()),E(a.getMonth()+1),E(a.getDate())].join("-"),[E(a.getHours()),E(a.getMinutes())].join(":")].join(" ");I(_),x(v),R(r),ut(_.replace(" ","_")),ft(v.replace(" ","_")),_t(new Date(_)),Pt(!0),wt(!0),jt(!0)},Ft=function(e){return 1===String(e).length?"0"+e:e},Yt=function(){return F.trim()&&X.trim()&&ne.trim()&&se.trim()&&Le.trim()&&Ge&&He&&Ke},Qt=function(){Yt&&(c(!1),h(""),Bt(""),g.updateControlPoint(W,F,X,ne,se,Ze,Le,Ge,He,Ke).then((function(e){sessionStorage.setItem("alert",JSON.stringify({text:"Control point successfully updated!"}));var t=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),Bt(JSON.parse(t)),Pt(!0)})).catch((function(e){h(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u0438"),c(!0)})))};return a.createElement(z,null,!E&&a.createElement("div",{style:{textAlign:"center"}},"Loading..."),n&&a.createElement("div",{style:{}},a.createElement("div",{style:{width:1400,visibility:E?"initial":"hidden"}},a.createElement("div",{style:{display:"flex",justifyContent:"center"}},a.createElement("h2",{style:{textAlign:"left"}},"\u0412\u044b\u0431\u043e\u0440 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u0438 \u0441\u0440\u0435\u0434\u0438 timeline \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0445 \u0442\u043e\u0447\u0435\u043a")),a.createElement("br",null),k&&O&&a.createElement("div",{className:ue,style:{display:"flex",justifyContent:"center",marginBottom:40}},a.createElement("div",{style:{padding:10,border:"1px solid rgb(160, 160, 150)",display:"inline-block"}},new Date(k).toLocaleDateString("en-US",Vt)," ","-"," ",new Date(O).toLocaleDateString("en-US",Vt))),a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},a.createElement("div",{style:{position:"relative"}},a.createElement("div",{className:Oe,style:{border:"1px solid rgb(160, 160, 150)",paddingLeft:130,paddingRight:20,paddingTop:20,paddingBottom:20,borderRadius:10}},a.createElement("div",{style:{width:100,paddingTop:44,marginTop:47,position:"absolute",left:0,marginLeft:20}},Z&&Array.from(Array(Math.trunc(Z/7))).map((function(e,t){return a.createElement("div",{className:"choose-calendar-week-btn",key:t,"data-key":t,style:{marginBottom:1,padding:5,height:34,fontSize:14,boxSizing:"border-box",border:"1px solid #e6e6e6",background:t===L?"#000":"#fff",color:t===L?"#e6e6e6":"#000",lineHeight:"22px",cursor:t===L?"initial":"pointer"},onClick:Ht},"Choose week")}))),a.createElement(xe.default,{calendarType:"Hebrew",value:Et}))),F&&a.createElement("div",{className:"".concat(je)},a.createElement("div",{className:"".concat(s?Ue:""),style:{border:"1px solid rgb(160, 160, 150)",width:590,height:600,borderRadius:10,boxSizing:"border-box",paddingLeft:20,paddingRight:20,paddingTop:10,paddingBottom:10}},a.createElement("h2",{style:{fontWeight:"initial",textAlign:"center",paddingTop:10,marginBottom:20}},"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u043e\u0439"),a.createElement("div",{style:{visibility:Jt||s?"initial":"hidden",height:60}},Jt&&a.createElement("div",{className:"".concat(we," ").concat(ke)},Jt.text),s&&a.createElement("div",{className:"".concat(we," ").concat(Ie),style:{width:400,margin:"auto",textAlign:"center",color:"red",marginBottom:10}},d)),a.createElement("div",{style:{marginBottom:10,overflow:"hidden",display:"flex",justifyContent:"center"}},a.createElement("label",{style:{float:"left"}},a.createElement("span",{style:{marginBottom:5,display:"block",fontSize:17}},"Theme Name"),a.createElement("input",{type:"text",style:{padding:10,fontSize:17},value:F,onChange:function(e){Y(e.currentTarget.value)},placeholder:"Theme Name"})),a.createElement("label",{style:{float:"left",marginLeft:20}},a.createElement("span",{style:{marginBottom:5,display:"block",fontSize:17}},"Homework Description"),a.createElement("input",{type:"text",style:{padding:10,fontSize:17},value:X,onChange:function(e){$(e.currentTarget.value)},placeholder:"Homework Description"}))),a.createElement("div",{style:{marginBottom:10,display:"flex",justifyContent:"center"}},a.createElement("label",{style:{float:"left"}},a.createElement("span",{style:{width:200,marginBottom:5,display:"block",fontSize:17}},"Control Point Opens"),a.createElement("div",{style:{marginLeft:0}},ne&&a.createElement(Ae.Z,{onChange:function(e){re([[Ft(e.getFullYear()),Ft(e.getMonth()+1),Ft(e.getDate())].join("-"),[Ft(e.getHours()),Ft(e.getMinutes())].join(":")].join(" "))},format:"yyyy-MM-dd HH:mm",clearIcon:null,value:new Date(ne)}))),a.createElement("label",{style:{float:"left",marginLeft:20}},a.createElement("span",{style:{width:200,marginBottom:5,display:"block",fontSize:17}},"Control Point Closes"),se&&a.createElement(Ae.Z,{onChange:function(e){ce([[Ft(e.getFullYear()),Ft(e.getMonth()+1),Ft(e.getDate())].join("-"),[Ft(e.getHours()),Ft(e.getMinutes())].join(":")].join(" "))},format:"yyyy-MM-dd HH:mm",clearIcon:null,value:new Date(se)})),a.createElement("div",{style:{clear:"left"}})),a.createElement("div",{style:{marginBottom:10,overflow:"hidden",display:"flex",justifyContent:"center"}},a.createElement("label",{style:{float:"left"}},a.createElement("span",{style:{marginBottom:5,display:"block",fontSize:17}},"Control Point Grade"),a.createElement("select",{style:{paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,width:245,fontSize:17},value:Ze,onChange:function(e){De(e.currentTarget.value)}},a.createElement("option",{value:""},"\u0416\u0434\u0435\u0442 \u043e\u0446\u0435\u043d\u043a\u0438"),a.createElement("option",{value:"5"},"\u041e\u0442\u043b\u0438\u0447\u043d\u043e"),a.createElement("option",{value:"4"},"\u0425\u043e\u0440\u043e\u0448\u043e"),a.createElement("option",{value:"3"},"\u0423\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e"),a.createElement("option",{value:"2"},"\u041d\u0435\u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e"))),a.createElement("label",{style:{float:"left",marginLeft:20}},a.createElement("span",{style:{marginBottom:5,display:"block",fontSize:17}},"Control Point Status"),a.createElement("select",{style:{paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,width:245,fontSize:17},value:Le,onChange:function(e){ze(e.currentTarget.value)}},a.createElement("option",{value:"preview"},"Preview"),a.createElement("option",{value:"opened"},"Opened"),a.createElement("option",{value:"closed"},"Closed")))),a.createElement("div",{style:{marginBottom:10,overflow:"hidden",display:"flex",justifyContent:"center"}},a.createElement("label",{style:{float:"left"}},a.createElement("span",{style:{marginBottom:5,display:"block",fontSize:17}},"Control Point Handled By"),At&&At[Ge]&&a.createElement("input",{type:"text",style:{padding:10,fontSize:17},value:[At[Ge].first_name,At[Ge].last_name].join(" "),disabled:!0,placeholder:"Control Point Handled By"})),a.createElement("label",{style:{float:"left",marginLeft:20,visibility:"hidden"}},a.createElement("span",{style:{marginBottom:5,display:"block",fontSize:17}},"Control Point Handled By"),At&&At[Ge]&&a.createElement("input",{type:"text",style:{padding:10,fontSize:17},value:[At[Ge].first_name,At[Ge].last_name].join(" "),disabled:!0,placeholder:"Control Point Handled By"}))),a.createElement("div",{style:{marginBottom:10,overflow:"hidden",display:"flex",justifyContent:"center"}},a.createElement("label",{style:{float:"left"}},a.createElement("span",{style:{marginBottom:5,display:"block",fontSize:17}},"School Area"),a.createElement("select",{style:{width:245,paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,padding:10,fontSize:17},value:He,onChange:function(e){Fe(e.currentTarget.value),Xe(""),Lt(e.currentTarget.value)}},a.createElement("option",{value:""},"Not selected"),tt&&Object.keys(tt).map((function(e){var t=tt[e];return a.createElement("option",{value:e},t)})))),a.createElement("label",{style:{float:"left",marginLeft:20}},a.createElement("span",{style:{marginBottom:5,display:"block",fontSize:17}},"School Class"),a.createElement("select",{style:{width:245,paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,padding:10,fontSize:17},value:Ke,onChange:function(e){Xe(e.currentTarget.value)}},a.createElement("option",{value:""},"Not selected"),lt&&Object.keys(lt).map((function(e){var t=lt[e];return a.createElement("option",{value:e},t)}))))),a.createElement("div",{className:Ce},a.createElement("button",{className:Ne,style:{padding:10},onClick:function(e){Qt()}},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"))))),a.createElement("br",null),a.createElement("br",null)),E&&n&&a.createElement("div",{className:me,style:{width:1400,marginTop:20}},a.createElement("div",{style:{float:"left",width:100,marginRight:22,marginBottom:70,background:"#fff"}},a.createElement("table",{className:de},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{style:{height:56,borderRight:"1px solid #a0a096",borderLeft:"1px solid #a0a096"}})),a.createElement("tr",null,a.createElement("th",{style:{height:70,borderRight:"1px solid #a0a096",borderLeft:"1px solid #a0a096"}},a.createElement("div",{style:{textAlign:"center"}},a.createElement("span",null,"\u0428\u043a\u043e\u043b\u0430,"),a.createElement("br",null),a.createElement("span",null,"\u041a\u043b\u0430\u0441\u0441"))))),a.createElement("tbody",null,n.map((function(e){return a.createElement("tr",null,function(e){return a.createElement("td",{style:{height:70,borderRight:"1px solid #a0a096",borderLeft:"1px solid #a0a096"}},a.createElement("div",{style:{textAlign:"center",width:120}},e.schoolArea.school_area,a.createElement("br",null),e.school_class))}(e))}))))),a.createElement("div",{style:{float:"left",width:1275,overflowX:"scroll",borderRight:"1px solid #a0a096",background:"#fff"}},a.createElement("table",{className:de},a.createElement("thead",null,a.createElement("tr",null," ",E.map((function(e){return t=e,a.createElement("th",null,a.createElement("div",{style:{padding:10}},t.weekDayText," ",a.createElement("br",null),t.dateText));var t}))),a.createElement("tr",null," ",E.map((function(){return function(){switch(S){case 2:return a.createElement("td",null,a.createElement("div",{className:"".concat(fe," ").concat(pe)},a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"00:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"02:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"04:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"06:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"08:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"10:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"12:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"14:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"16:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"18:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"20:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"22:00")))));case 3:return a.createElement("td",null,a.createElement("div",{className:"".concat(fe," ").concat(ge)},a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"00:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"03:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"06:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"09:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"12:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"15:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"18:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"21:00")))));case 4:return a.createElement("td",null,a.createElement("div",{className:"".concat(fe," ").concat(Ee)},a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"00:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"04:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"08:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"12:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"16:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"20:00")))));case 6:default:return a.createElement("td",null,a.createElement("div",{className:"".concat(fe," ").concat(_e)},a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"00:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"06:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"12:00"))),a.createElement("span",null,a.createElement("span",null,a.createElement("span",null,"18:00")))))}}()})))),a.createElement("tbody",null,n.map((function(e){return a.createElement("tr",null," ",E.map((function(t,n){return Mt(e,n)})))}))))))))})))),Ze=n(1296),De=n.n(Ze),Je={"registration-form":"Registration_registration-form__3vJXj","first-name":"Registration_first-name__flSLM","last-name":"Registration_last-name__xSEjj","phone-prefix":"Registration_phone-prefix__3tO0u",phone:"Registration_phone__3djnX",password:"Registration_password__288ug","registration-btn":"Registration_registration-btn__1Qsnp","VKButton_vk-button__2yUZ7":"Registration_VKButton_vk-button__2yUZ7__2Edho"},Be=(0,l.f3)("UserStore")((function(e){var t=e.UserStore,n=(t.state,t.user,(0,a.useState)("")),r=(0,m.Z)(n,2),l=r[0],o=r[1],s=(0,a.useState)(""),c=(0,m.Z)(s,2),i=c[0],u=c[1],d=(0,a.useState)(""),h=(0,m.Z)(d,2),f=h[0],p=h[1],E=(0,a.useState)(""),_=(0,m.Z)(E,2),v=_[0],S=_[1];a.useEffect((function(){var e=sessionStorage.getItem("selectedPhone");e&&(sessionStorage.removeItem("selectedPhone"),o(e));var t=document.querySelector(".phone input");t&&D()({mask:"(999) 999-99-99"}).mask(t)}),[l]);var P=function(){return f.trim()&&v.trim()&&l.trim()&&i.trim()},b=De()((function(){P()&&g.register(f.trim(),v.trim(),l,i).then((function(t){sessionStorage.setItem("token",t.token),e.history.push("/confirm")}))}),300);return a.createElement(T,null,a.createElement("div",{className:Je["registration-page"]},a.createElement("div",{className:Je["registration-form"]},a.createElement("div",null,a.createElement("h2",null,"Registration"),a.createElement("form",{onSubmit:function(e){e.preventDefault(),b()}},a.createElement("div",{className:Je["first-name"]},a.createElement("label",null,a.createElement("input",{type:"text",value:f,onChange:function(e){p(e.currentTarget.value)},placeholder:"First Name"}))),a.createElement("div",{className:Je["last-name"]},a.createElement("label",null,a.createElement("input",{type:"text",value:v,onChange:function(e){S(e.currentTarget.value)},placeholder:"Last Name"}))),a.createElement("div",{className:"phone ".concat(Je.phone)},a.createElement("label",null,a.createElement("div",{style:{overflow:"hidden"}},a.createElement("span",{className:Je["phone-prefix"]},"+7"),a.createElement("input",{type:"text",value:l,onChange:function(e){o(e.currentTarget.value)},placeholder:"(___) ___-__-__"})))),a.createElement("div",{className:Je.password},a.createElement("label",null,a.createElement("input",{type:"password",value:i,onChange:function(e){u(e.currentTarget.value)},placeholder:"Password"}))),a.createElement("button",{className:Je["registration-btn"],disabled:!P,onClick:b},"Register")),a.createElement(y,null),a.createElement("div",{style:{textAlign:"center",marginBottom:10}},a.createElement("span",null,"Already have an account? Use"," ",a.createElement("a",{href:"/signin",style:{color:"initial",cursor:"pointer",fontSize:17}},"sign in")))))))})),Le={"signin-form":"Confirm_signin-form__3Oq4C","phone-prefix":"Confirm_phone-prefix__3CDI2",phone:"Confirm_phone__3iwGd",code:"Confirm_code__2n2WK","confirm-btn":"Confirm_confirm-btn__1Ljw4","request-confirmation-code-btn":"Confirm_request-confirmation-code-btn__2WjYr",alert:"Confirm_alert__1jwrY","alert-success":"Confirm_alert-success__3G3Yt"},ze=(0,l.f3)("UserStore")((function(e){var t=e.UserStore,n=(t.state,t.user),r=(0,a.useState)(!1),l=(0,m.Z)(r,2),o=l[0],s=l[1],c=(0,a.useState)(""),i=(0,m.Z)(c,2),u=i[0],d=i[1],h=(0,a.useState)(""),f=(0,m.Z)(h,2),p=f[0],E=f[1],_=(0,a.useState)(""),v=(0,m.Z)(_,2),S=v[0],y=v[1],P=(0,a.useState)(""),b=(0,m.Z)(P,2),C=b[0],N=b[1],w=(0,a.useState)(!1),k=(0,m.Z)(w,2),I=k[0],U=k[1],j=(0,a.useState)(3e4),O=(0,m.Z)(j,2),x=O[0],A=O[1],Z=(0,a.useState)("enter-code"),J=(0,m.Z)(Z,2),B=J[0],L=(J[1],(0,a.useState)(!0)),z=(0,m.Z)(L,2),R=z[0],q=z[1],G=(0,a.useState)(!1),W=(0,m.Z)(G,2),M=W[0],V=W[1];a.useEffect((function(){M&&F()&&Y()}),[p,M]),a.useEffect((function(){var e=document.querySelector(".phone input");e&&D()({mask:"(999) 999-99-99"}).mask(e)}),[p]),a.useEffect((function(){if(!C){var e=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),N(JSON.parse(e))}var t;n||g.getProfile().then((function(e){E(e.phone.replace("+7",""))})),x>0?t=setTimeout((function(){A(x-1e3)}),1e3):!1===I&&(clearTimeout(t),U(!0))}),[C,x]);var H=function(){p.trim()&&S.trim()&&(s(!1),d(""),g.confirmAccount(p.trim(),S.trim()).then((function(t){return new Promise((function(e,t){setTimeout((function(){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"Account successfully registered!"})),sessionStorage.setItem("useUpdateUser",JSON.stringify(!0)),e()}),100)})).then((function(){e.history.push("/user")}))})).catch((function(e){d(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),s(!0)})))},F=function(){return 12===["+7",p].join("").replaceAll("(","").replaceAll(")","").replaceAll(" ","").replaceAll("-","").replaceAll("_","").length},Y=function(){if(F())return new Promise((function(e,t){s(!1),d(""),g.requestChangePhone(n.id,p.trim()).then((function(t){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"Phone changed!"}));var n=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),N(JSON.parse(n)),e()})).catch((function(e){s(!0),d(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),t()}))}))};return a.createElement(T,null,a.createElement("div",{className:Le["signin-page"]},a.createElement("div",{className:Le["signin-form"]},a.createElement("div",null,a.createElement("h2",null,"Confirm"),a.createElement("div",{style:{margin:"auto",textAlign:"center",width:400,marginBottom:20,fontSize:17}},"We sent SMS with code into your phone",a.createElement("br",null)," to verify your registration"),C&&a.createElement("div",{className:"".concat(Le.alert," ").concat(Le["alert-success"])},C.text),o&&a.createElement("div",{style:{width:400,margin:"auto",textAlign:"center",color:"red",marginBottom:10}},u),a.createElement("div",null,"enter-code"===B&&R&&a.createElement("form",{onSubmit:function(e){e.preventDefault(),H()},style:{marginBottom:20}},a.createElement("div",{className:"phone ".concat(Le.phone)},a.createElement("label",null,a.createElement("div",{style:{overflow:"hidden"}},a.createElement("span",{className:Le["phone-prefix"]},"+7"),a.createElement("input",{type:"text",value:p,onChange:function(e){E(e.currentTarget.value),V(!0)},placeholder:"(___) ___-__-__"})))),a.createElement("div",{className:Le.code},a.createElement("label",null,a.createElement("input",{type:"text",value:S,onChange:function(e){y(e.currentTarget.value)},placeholder:"Code"}))),a.createElement("button",{className:Le["confirm-btn"],onClick:H},"Confirm")),a.createElement("div",null,!I&&x>0&&"enter-code"===B&&a.createElement("div",{style:{width:400,fontSize:17,textAlign:"center",margin:"auto"}},"Please wait ",x/1e3," sec before requesting ",a.createElement("br",null),"new confirmation code"),I&&"enter-code"===B&&a.createElement("div",null,!R&&a.createElement("div",{className:Le.code},a.createElement("label",null,a.createElement("input",{type:"text",value:p,disabled:!0,placeholder:"Phone"}))),a.createElement("button",{className:Le["request-confirmation-code-btn"],onClick:function(){0===x&&I&&F()&&(s(!1),d(""),g.requestConfirmationCode(p.trim()).then((function(e){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"New confirmation code successfully sent!"}));var t=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),N(JSON.parse(t)),q(!0)})).catch((function(e){s(!0),d(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f")})))}},"Request new confirmation code"))))))))})),Re={"signin-form":"Onboarding_signin-form__1zrza","phone-prefix":"Onboarding_phone-prefix__2PHDT",phone:"Onboarding_phone__Rsb5A","signin-btn":"Onboarding_signin-btn__1fpgy",alert:"Onboarding_alert__S81QU","alert-success":"Onboarding_alert-success__2EgIZ"},qe=function(e){var t=(0,a.useState)(""),n=(0,m.Z)(t,2),r=n[0],l=n[1],o=(0,a.useState)(""),s=(0,m.Z)(o,2),c=s[0],i=s[1];a.useEffect((function(){if(!c){var e=sessionStorage.getItem("alert");i(JSON.parse(e))}sessionStorage.removeItem("phone")}),[c]),a.useEffect((function(){var e=document.querySelector(".phone input");e&&D()({mask:"(999) 999-99-99"}).mask(e)}),[]);var u=function(){return r.trim()},d=function(){u()&&g.welcome(r.trim()).then((function(t){sessionStorage.setItem("selectedPhone",r),sessionStorage.removeItem("alert"),sessionStorage.getItem("phone")?e.history.push("/signin"):e.history.push("/registration")}))};return a.createElement(T,null,a.createElement("div",{className:Re["signin-page"]},a.createElement("div",{className:Re["signin-form"]},a.createElement("div",null,a.createElement("h2",null,"Enter your phone"),c&&a.createElement("div",{className:"".concat(Re.alert," ").concat(Re["alert-success"])},c.text),a.createElement("form",{onSubmit:function(e){e.preventDefault(),d()}},a.createElement("div",{className:"phone ".concat(Re.phone)},a.createElement("label",null,a.createElement("div",{style:{overflow:"hidden"}},a.createElement("span",{className:Re["phone-prefix"]},"+7"),a.createElement("input",{type:"text",value:r,onChange:function(e){l(e.currentTarget.value)},placeholder:"(___) ___-__-__"})))),a.createElement("button",{className:Re["signin-btn"],disabled:!u,onClick:d},"Continue"))))))},Ge="ChangePassword_user-page__1qQNo",We="ChangePassword_password__1bHsL",Me="ChangePassword_update-profile-container__29mif",Ve="ChangePassword_update-profile-btn__1rNvz",He=(0,l.f3)("UserStore")((0,c.EN)((0,l.Pi)((function(e){var t=e.UserStore,n=(t.state,t.user),r=(0,a.useState)(!1),l=(0,m.Z)(r,2),o=l[0],s=l[1],c=(0,a.useState)(""),i=(0,m.Z)(c,2),u=i[0],d=i[1],h=(0,a.useState)(""),f=(0,m.Z)(h,2),p=f[0],E=f[1],_=(0,a.useState)(""),v=(0,m.Z)(_,2),S=v[0],y=v[1],P=(0,a.useState)(""),b=(0,m.Z)(P,2),C=b[0],N=b[1];a.useEffect((function(){var t=sessionStorage.getItem("token");if(console.log(t),!t)return e.history.push("/signin");n||g.getProfile().then((function(e){}))}));var w=function(){p.trim()&&S.trim()===C.trim()&&(s(!1),d(""),g.changePassword(n.id,p.trim(),S.trim()).then((function(t){return new Promise((function(e,t){setTimeout((function(){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"Password successfully changed!"})),e()}),100)})).then((function(){e.history.push("/user")}))})).catch((function(e){d(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u043f\u0430\u0440\u043e\u043b\u044f"),s(!0)})))};return a.createElement(z,null,a.createElement("div",{className:Ge},a.createElement("h2",null,"Change password"),a.createElement("div",{style:{width:300,fontSize:17,margin:"auto"}},"Please fill out the form below ",a.createElement("br",null),"to change password ",a.createElement("br",null),a.createElement("br",null)),a.createElement("form",{onSubmit:function(e){e.preventDefault(),w()},style:{marginBottom:20}},o&&a.createElement("div",{style:{width:400,margin:"auto",textAlign:"center",color:"red",marginBottom:10}},u),a.createElement("div",{className:We},a.createElement("label",null,a.createElement("span",null,"Password"),a.createElement("input",{type:"password",placeholder:"Old Password",value:p,onChange:function(e){E(e.currentTarget.value)}}))),a.createElement("div",{className:We},a.createElement("label",null,a.createElement("span",null,"New Password"),a.createElement("input",{type:"password",placeholder:"New Password",value:S,onChange:function(e){y(e.currentTarget.value)}}))),a.createElement("div",{className:We},a.createElement("label",null,a.createElement("span",null,"Repeat Password"),a.createElement("input",{type:"password",placeholder:"Repeat Password",value:C,onChange:function(e){N(e.currentTarget.value)}}))),a.createElement("div",{className:Me},a.createElement("button",{className:Ve,style:{padding:10},onClick:function(e){}},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")))),a.createElement("br",null),a.createElement("br",null))})))),Fe="ChangePhone_user-page__2R7aV",Ye="ChangePhone_phone-prefix__16Slm",Qe="ChangePhone_phone__sGpwT",Ke="ChangePhone_code__3YTrI",Xe="ChangePhone_update-phone-container__25juU",$e="ChangePhone_update-phone-btn__3TJVr",et="ChangePhone_request-confirmation-code-btn__8xuc_",tt="ChangePhone_alert__2NJq7",nt="ChangePhone_alert-success__2b6PM",at=(0,l.f3)("UserStore")((0,c.EN)((0,l.Pi)((function(e){var t=e.UserStore,n=(t.state,t.user),r=(0,a.useState)(!1),l=(0,m.Z)(r,2),o=l[0],s=l[1],c=(0,a.useState)(""),i=(0,m.Z)(c,2),u=i[0],d=i[1],h=(0,a.useState)(""),f=(0,m.Z)(h,2),p=f[0],E=f[1],_=(0,a.useState)(""),v=(0,m.Z)(_,2),S=v[0],y=v[1],P=(0,a.useState)(""),b=(0,m.Z)(P,2),C=b[0],N=b[1],w=(0,a.useState)(!1),k=(0,m.Z)(w,2),I=k[0],U=k[1],j=(0,a.useState)(2e3),O=(0,m.Z)(j,2),x=O[0],A=O[1],T=(0,a.useState)("enter-code"),Z=(0,m.Z)(T,2),J=Z[0],B=(Z[1],(0,a.useState)(!0)),L=(0,m.Z)(B,2),R=L[0],q=L[1],G=(0,a.useState)(!1),W=(0,m.Z)(G,2),M=W[0],V=W[1],H=(0,a.useState)(!1),F=(0,m.Z)(H,2),Y=F[0],Q=F[1];a.useEffect((function(){M&&K()&&X()}),[S,M]),a.useEffect((function(){var t=sessionStorage.getItem("token");if(console.log(t),!t)return e.history.push("/signin");var a,r=document.querySelector(".phone input");if(r&&D()({mask:"(999) 999-99-99"}).mask(r),n||g.getProfile().then((function(e){y(e.phone&&e.phone.replace("+7","")||"")})),x>0?a=setTimeout((function(){A(x-1e3)}),1e3):!1===I&&(clearTimeout(a),U(!0)),sessionStorage.getItem("alert")){var l=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),E(JSON.parse(l))}}));var K=function(){return 12===["+7",S].join("").replaceAll("(","").replaceAll(")","").replaceAll(" ","").replaceAll("-","").replaceAll("_","").length},X=function(){if(K())return new Promise((function(e,t){s(!1),d(""),g.requestChangePhoneWithConfirmation(n.id,S.trim()).then((function(t){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"Phone changed!"}));var n=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),E(JSON.parse(n)),Q(!0),e()})).catch((function(e){s(!0),d(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),t()}))}))},$=function(e){e.preventDefault()};return a.createElement(z,null,a.createElement("div",{className:Fe},a.createElement("h2",null,"Change phone"),a.createElement("div",{style:{margin:"auto",textAlign:"center",width:400,marginBottom:20,fontSize:17}},"We will send SMS with code into your phone",a.createElement("br",null)," to verify your registration"),p&&a.createElement("div",{className:"".concat(tt," ").concat(nt)},p.text),o&&a.createElement("div",{style:{width:400,margin:"auto",textAlign:"center",color:"red",marginBottom:10}},u),a.createElement("div",null,"enter-code"===J&&R&&a.createElement("form",{onSubmit:$,style:{marginBottom:20}},a.createElement("div",{className:"phone ".concat(Qe)},a.createElement("label",null,a.createElement("div",{style:{overflow:"hidden"}},a.createElement("span",{className:Ye},"+7"),a.createElement("input",{type:"text",value:S,onChange:function(e){y(e.currentTarget.value),V(!0)},placeholder:"(___) ___-__-__"})))),Y&&a.createElement("div",null,a.createElement("div",{className:Ke},a.createElement("label",null,a.createElement("input",{type:"text",value:C,onChange:function(e){N(e.currentTarget.value)},placeholder:"Code"}))),a.createElement("div",{className:Xe},a.createElement("button",{className:$e,onClick:function(){S.trim()&&K()&&(s(!1),d(""),g.confirmChangePhoneWithVerification(n.id,S.trim(),C.trim()).then((function(t){return new Promise((function(e,t){setTimeout((function(){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"Phone successfully changed!"})),sessionStorage.setItem("useUpdateUser",JSON.stringify(!0)),e()}),100)})).then((function(){e.history.push("/user")}))})).catch((function(e){d(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),s(!0)})))}},"Confirm update phone")))),a.createElement("div",null,!I&&x>0&&"enter-code"===J&&Y&&a.createElement("div",{style:{width:400,fontSize:17,textAlign:"center",margin:"auto"}},"Please wait ",x/1e3," sec before requesting ",a.createElement("br",null),"new confirmation code"),I&&"enter-code"===J&&a.createElement("form",{onSubmit:$,style:{marginBottom:20}},a.createElement("div",null,!R&&a.createElement("div",{className:Ke},a.createElement("label",null,a.createElement("input",{type:"text",value:S,disabled:!0,placeholder:"Phone"}))),Y&&a.createElement("div",null,a.createElement("button",{className:et,onClick:function(){0===x&&I&&K()&&Y&&(s(!1),d(""),g.requestChangePhoneWithConfirmation(n.id,S.trim()).then((function(e){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"New confirmation code successfully sent!"}));var t=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),E(JSON.parse(t)),q(!0)})).catch((function(e){s(!0),d(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f")})))}},"Request new confirmation code"))))))),a.createElement("br",null),a.createElement("br",null))})))),rt="ChangeEmail_user-page__2ATTE",lt="ChangeEmail_email__3VF0J",ot="ChangeEmail_code__wN8fL",st="ChangeEmail_update-email-container__2JHrA",ct="ChangeEmail_update-email-btn__1obU7",it="ChangeEmail_request-confirmation-code-btn__34tv3",ut="ChangeEmail_alert__30Qb6",mt="ChangeEmail_alert-success__1zlpM",dt=(0,l.f3)("UserStore")((0,c.EN)((0,l.Pi)((function(e){var t=e.UserStore,n=(t.state,t.user),r=(0,a.useState)(!1),l=(0,m.Z)(r,2),o=l[0],s=l[1],c=(0,a.useState)(""),i=(0,m.Z)(c,2),u=i[0],d=i[1],h=(0,a.useState)(""),f=(0,m.Z)(h,2),p=f[0],E=f[1],_=(0,a.useState)(""),v=(0,m.Z)(_,2),S=v[0],y=v[1],P=(0,a.useState)(""),b=(0,m.Z)(P,2),C=b[0],N=b[1],w=(0,a.useState)(!1),k=(0,m.Z)(w,2),I=k[0],U=k[1],j=(0,a.useState)(2e3),O=(0,m.Z)(j,2),x=O[0],A=O[1],T=(0,a.useState)("enter-email"),Z=(0,m.Z)(T,2),D=Z[0],J=Z[1],B=(0,a.useState)(!0),L=(0,m.Z)(B,2),R=L[0],q=L[1],G=(0,a.useState)(!1),W=(0,m.Z)(G,2),M=(W[0],W[1]),V=(0,a.useState)(!1),H=(0,m.Z)(V,2),F=H[0],Y=H[1];a.useEffect((function(){var t,a=sessionStorage.getItem("token");if(console.log(a),!a)return e.history.push("/signin");if(n||g.getProfile().then((function(e){y(e.email)})),x>0?t=setTimeout((function(){A(x-1e3)}),1e3):!1===I&&(clearTimeout(t),U(!0)),sessionStorage.getItem("alert")){var r=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),E(JSON.parse(r))}}));var Q=function(){var e;return(e=S,new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e)?{isValid:!0}:{errors:{email:"Please enter valid email address."},isValid:!1}).isValid},K=function(){S.trim()&&Q()&&(s(!1),d(""),g.confirmChangeEmailWithVerification(n.id,S.trim(),C.trim()).then((function(t){return new Promise((function(e,t){setTimeout((function(){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"Email successfully changed!"})),sessionStorage.setItem("useUpdateUser",JSON.stringify(!0)),e()}),100)})).then((function(){e.history.push("/user")}))})).catch((function(e){d(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),s(!0)})))};return a.createElement(z,null,a.createElement("div",{className:rt},a.createElement("h2",null,"Change email"),a.createElement("div",{style:{margin:"auto",textAlign:"center",width:400,marginBottom:20,fontSize:17}},"We will send mail with code into your email",a.createElement("br",null)," to verify your email"),p&&a.createElement("div",{className:"".concat(ut," ").concat(mt)},p.text),o&&a.createElement("div",{style:{width:400,margin:"auto",textAlign:"center",color:"red",marginBottom:10}},u),a.createElement("div",null,"enter-email"===D&&a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{marginBottom:20}},a.createElement("div",{className:"email ".concat(lt)},a.createElement("label",null,a.createElement("div",{style:{overflow:"hidden"}},a.createElement("input",{type:"text",value:S,onChange:function(e){y(e.currentTarget.value),M(!0)}})))),a.createElement("div",{className:st},a.createElement("button",{className:ct,onClick:function(){if(Q())return new Promise((function(e,t){s(!1),d(""),g.requestChangeEmailWithConfirmation(n.id,S.trim()).then((function(t){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"Email changed!"}));var n=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),E(JSON.parse(n)),J("enter-code"),Y(!0),e()})).catch((function(e){s(!0),d(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),t()}))}))}},"Update email"))),"enter-code"===D&&R&&a.createElement("form",{onSubmit:function(e){e.preventDefault(),K()},style:{marginBottom:20}},a.createElement("div",{className:"email ".concat(lt)},a.createElement("input",{type:"text",value:S,disabled:!0})),F&&a.createElement("div",null,a.createElement("div",{className:ot},a.createElement("label",null,a.createElement("input",{type:"text",value:C,onChange:function(e){N(e.currentTarget.value)},placeholder:"Code"}))),a.createElement("div",{className:st},a.createElement("button",{className:ct,onClick:K},"Confirm update email")))),a.createElement("div",null,!I&&x>0&&"enter-code"===D&&a.createElement("div",{style:{width:400,fontSize:17,textAlign:"center",margin:"auto"}},"Please wait ",x/1e3," sec before requesting ",a.createElement("br",null),"new confirmation code"),I&&"enter-code"===D&&a.createElement("div",null,a.createElement("div",null,a.createElement("button",{className:it,onClick:function(){0===x&&I&&Q()&&F&&(s(!1),d(""),g.requestChangeEmailWithConfirmation(n.id,S.trim()).then((function(e){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"New confirmation code successfully sent!"}));var t=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),E(JSON.parse(t)),q(!0)})).catch((function(e){s(!0),d(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f")})))}},"Request new confirmation code")),a.createElement("div",{style:{textAlign:"center",marginBottom:10,marginTop:20}},a.createElement("span",null,"Incorrect email? You may"," ",a.createElement("a",{href:"#",style:{color:"initial",fontSize:17},onClick:function(){J("enter-email")}},"change email"),a.createElement("br",null))))))),a.createElement("br",null),a.createElement("br",null))})))),ht="ResetPassword_user-page__2v5n6",ft="ResetPassword_phone-prefix__83Zvg",pt="ResetPassword_phone__3Kmws",gt="ResetPassword_password__1kei2",Et="ResetPassword_code__1FnbG",_t="ResetPassword_update-email-container__1gQfD",vt="ResetPassword_update-email-btn__1hkyc",St="ResetPassword_request-confirmation-code-btn__1--Oi",yt="ResetPassword_alert__32Cmt",Pt="ResetPassword_alert-success__AnEDe",bt="ResetPassword_update-password-container__LEYpT",Ct="ResetPassword_update-password-btn__1aSfJ",Nt=(0,l.f3)("UserStore")((0,c.EN)((0,l.Pi)((function(e){e.UserStore.state;var t=(0,a.useState)(!1),n=(0,m.Z)(t,2),r=n[0],l=n[1],o=(0,a.useState)(""),s=(0,m.Z)(o,2),c=s[0],i=s[1],u=(0,a.useState)(""),d=(0,m.Z)(u,2),h=d[0],f=d[1],p=(0,a.useState)(""),E=(0,m.Z)(p,2),_=E[0],v=E[1],S=(0,a.useState)(""),y=(0,m.Z)(S,2),P=y[0],b=y[1],C=(0,a.useState)(!1),N=(0,m.Z)(C,2),w=N[0],k=N[1],I=(0,a.useState)(2e3),U=(0,m.Z)(I,2),j=U[0],O=U[1],x=(0,a.useState)("enter-phone"),A=(0,m.Z)(x,2),T=A[0],Z=A[1],J=(0,a.useState)(!0),B=(0,m.Z)(J,2),L=B[0],R=B[1],q=(0,a.useState)(!1),G=(0,m.Z)(q,2),W=G[0],M=G[1],V=(0,a.useState)(""),H=(0,m.Z)(V,2),F=H[0],Y=H[1],Q=(0,a.useState)(""),K=(0,m.Z)(Q,2),X=K[0],$=K[1];a.useEffect((function(){var e,t=document.querySelector(".phone input");if(t&&D()({mask:"(999) 999-99-99"}).mask(t),j>0?e=setTimeout((function(){O(j-1e3)}),1e3):!1===w&&(clearTimeout(e),k(!0)),sessionStorage.getItem("alert")){var n=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),f(JSON.parse(n))}}));var ee=function(){return 12===["+7",_].join("").replace(/[()-]|_| /gi,"").length};return a.createElement(z,null,a.createElement("div",{className:ht},a.createElement("h2",null,"Reset password"),a.createElement("div",{style:{margin:"auto",textAlign:"center",width:400,marginBottom:20,fontSize:17}},"We will send sms with code into your phone",a.createElement("br",null)," to reset password"),h&&a.createElement("div",{className:"".concat(yt," ").concat(Pt)},h.text),r&&a.createElement("div",{style:{width:400,margin:"auto",textAlign:"center",color:"red",marginBottom:10}},c),a.createElement("div",null,"enter-phone"===T&&a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{marginBottom:20}},a.createElement("div",{style:{overflow:"hidden"}},a.createElement("div",{className:"phone ".concat(pt)},a.createElement("label",null,a.createElement("div",{style:{overflow:"hidden"}},a.createElement("span",{className:ft},"+7"),a.createElement("input",{type:"text",value:_,onChange:function(e){v(e.currentTarget.value)},placeholder:"(___) ___-__-__"}))))),a.createElement("div",{className:_t},a.createElement("button",{className:vt,onClick:function(){if(ee())return new Promise((function(e,t){l(!1),i(""),g.requestConfirmationCodeForResetPasswordUsingPhone(_.trim()).then((function(t){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"Phone found"}));var n=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),f(JSON.parse(n)),Z("enter-code"),M(!0),e()})).catch((function(e){l(!0),i(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),t()}))}))}},"Use phone"))),"enter-code"===T&&L&&a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{marginBottom:20}},a.createElement("div",{className:"phone ".concat(pt)},a.createElement("label",null,a.createElement("div",{style:{overflow:"hidden"}},a.createElement("span",{className:ft},"+7"),a.createElement("input",{type:"text",value:_,onChange:function(e){v(e.currentTarget.value)},placeholder:"(___) ___-__-__"})))),W&&a.createElement("div",null,a.createElement("div",{className:Et},a.createElement("label",null,a.createElement("input",{type:"text",value:P,onChange:function(e){b(e.currentTarget.value)},placeholder:"Code"}))),a.createElement("div",{className:_t},a.createElement("button",{className:vt,onClick:function(){_.trim()&&ee()&&(l(!1),i(""),g.verifyConfirmationCodeUsingPhone(_.trim(),P.trim()).then((function(e){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"Code successfully verified!"}));var t=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),f(JSON.parse(t)),Z("enter-password")})).catch((function(e){i(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),l(!0)})))}},"Verify code")))),"enter-password"===T&&a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{marginBottom:20}},a.createElement("div",{className:gt},a.createElement("label",null,a.createElement("span",null,"New Password"),a.createElement("input",{type:"password",placeholder:"New Password",value:F,onChange:function(e){Y(e.currentTarget.value)}}))),a.createElement("div",{className:gt},a.createElement("label",null,a.createElement("span",null,"Repeat Password"),a.createElement("input",{type:"password",placeholder:"Repeat Password",value:X,onChange:function(e){$(e.currentTarget.value)}}))),a.createElement("div",{className:bt},a.createElement("button",{className:Ct,style:{padding:10},onClick:function(){ee()&&P.trim()&&F===X&&(l(!1),i(""),g.confirmResetPasswordWithConfirmationUsingPhone(_.trim(),P.trim(),F.trim()).then((function(t){return new Promise((function(e,t){setTimeout((function(){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"Password successfully changed!"})),sessionStorage.setItem("useUpdateUser",JSON.stringify(!0)),e()}),50)})).then((function(){e.history.push("/user")}))})).catch((function(e){i(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),l(!0)})))}},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"))),"enter-code"===T&&W&&a.createElement("div",null,!w&&j>0&&"enter-code"===T&&a.createElement("div",{style:{width:400,fontSize:17,textAlign:"center",margin:"auto"}},"Please wait ",j/1e3," sec before requesting ",a.createElement("br",null),"new confirmation code"),w&&"enter-code"===T&&a.createElement("div",null,a.createElement("div",null,a.createElement("button",{className:St,onClick:function(){0===j&&w&&ee()&&M&&(l(!1),i(""),g.requestConfirmationCodeForResetPasswordUsingPhone(_.trim()).then((function(e){sessionStorage.removeItem("alert"),sessionStorage.setItem("alert",JSON.stringify({text:"New confirmation code successfully sent!"}));var t=sessionStorage.getItem("alert");sessionStorage.removeItem("alert"),f(JSON.parse(t)),R(!0)})).catch((function(e){l(!0),i(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f")})))}},"Request new confirmation code")))))),a.createElement("br",null),a.createElement("br",null))})))),wt="UserPage_chat-page__3uzdS",kt="UserPage_chat-page-content__1GdU4",It="UserPage_chats-page-top-headbar__3yCGd",Ut="UserPage_chats__3W4mM",jt="UserPage_dialog__1ya1v",Ot="UserPage_receiver__h-nd0",xt="UserPage_chats-actions__uVAd2",At="UserPage_chats-more-container__1aYM-",Tt="UserPage_chats-more-btn__3mpdY",Zt="UserPage_chats-search-container__Hil4z",Dt="UserPage_chats-search__1Yvb_",Jt="UserPage_chats-latest__1ed3K",Bt="UserPage_chats-latest-item__1hj-_",Lt="UserPage_active__3JRdq",zt="UserPage_dialog-receiver__2N1Gb",Rt="UserPage_dialog-receiver-name__1R6zq",qt="UserPage_dialog-receiver-last-seen__2joju",Gt="UserPage_dialog-messages__QvApI",Wt="UserPage_dialog-messages-message__-6syb",Mt="UserPage_from-user__3jV47",Vt="UserPage_from-receiver__3UeT4",Ht="UserPage_dialog-messages-new-message-container__3rrpT",Ft="UserPage_dialog-messages-add-attachment-btn__1LREs",Yt="UserPage_dialog-messages-new-message__rOzIc",Qt="UserPage_dialog-messages-submit-btn__2BDTT",Kt="UserPage_receiver-content__2eh5z",Xt="UserPage_receiver-person__3vwnH",$t="UserPage_receiver-person-avatar__1A1GL",en="UserPage_receiver-person-name__sJuSC",tn="UserPage_receiver-person-last-seen__1W6VG",nn="UserPage_receiver-divider__3y22d",an="UserPage_receiver-phone__18Mjo",rn="UserPage_receiver-phone-value__23T4k",ln="UserPage_receiver-phone-label__o2p9V",on="UserPage_receiver-photos__2duqz",sn="UserPage_receiver-photos-value__3buYF",cn="UserPage_receiver-photos-label__3BWmE",un="UserPage_receiver-files__1fqmL",mn="UserPage_receiver-files-value__2lS-Q",dn="UserPage_receiver-files-label__HlZs-",hn="UserPage_receiver-shared-links__b35-1",fn="UserPage_receiver-shared-links-value__3o591",pn="UserPage_receiver-shared-links-label__10ChF",gn=n(7625),En=n(1436),_n=n(2854),vn=new(function(){function e(){var t=this;(0,h.Z)(this,e),this.connect=function(){return new Promise((function(e,n){t.tryToConnect().then((function(){k="connected",e()})).catch((function(){setTimeout((function(){t.connect().then(e).catch(n)}),300)}))}))},this.registerMessageCallback=function(e){b=e},this.registerOnConnectedCallback=function(e){w=e}}return(0,_n.Z)(e,[{key:"startWebsocketConnection",value:function(){N||this.connect()}},{key:"tryToConnect",value:function(){return new Promise((function(e,t){(N=new WebSocket("ws://localhost:8080")).onerror=function(e){t(e)},N.onopen=function(){console.log("Connected"),w&&w(),e(N)},N.onmessage=function(e){b&&b(e)},N.onclose=function(e){k="disconnected",console.log("disconnected",e.code,e.reason)},C=N.send.bind(N)}))}},{key:"send",value:function(e){"connected"===k?C(e):this.connect().then((function(){C(e)}))}}]),e}()),Sn=(0,l.f3)("WebsocketService")((0,l.f3)("UserStore")((0,c.EN)((0,l.Pi)((function(e){var t=e.UserStore,n=(t.state,t.user),r=(0,a.useState)(!1),l=(0,m.Z)(r,2),o=(l[0],l[1],(0,a.useState)("")),s=(0,m.Z)(o,2),i=(s[0],s[1],(0,a.useState)("")),u=(0,m.Z)(i,2),d=(u[0],u[1],(0,a.useState)("")),h=(0,m.Z)(d,2),f=h[0],p=h[1],E=(0,a.useState)(""),_=(0,m.Z)(E,2),v=_[0],S=_[1],y=(0,a.useState)([]),P=(0,m.Z)(y,2),b=P[0],C=P[1],N=(0,a.useState)(""),w=(0,m.Z)(N,2),k=w[0],I=w[1],U=(0,a.useState)(!1),j=(0,m.Z)(U,2),O=j[0],x=j[1];vn.startWebsocketConnection();var A=(0,c.UO)().receiverId;a.useEffect((function(){var t=sessionStorage.getItem("token");if(console.log(t),!t)return e.history.push("/signin");f||new Promise((function(e,t){return e({entities:[{receiver:{user_id:49,avatar_url:"http://localhost:8888/avatars/f93910b68a6a08d8848bae44ff554aa87.jpg",first_name:"\u0412\u043b\u0430\u0434\u0430",last_name:"\u042f\u043c\u0449\u0438\u043a\u043e\u0432\u0430"}}],pagination:{page:1,per_page:1,total_items:1}})})).then((function(e){p(e)})),v||g.getProfile().then((function(e){g.getLatestDialogs(e.id).then((function(e){S(e)}))})),k||g.getProfileById(A).then((function(e){I(e)})),n||g.getProfile().then((function(e){})),O&&g.getProfileById(A).then((function(e){I(e)})),O&&Z()}),[A]);var T=function(t){var n=t.currentTarget.dataset.userId;if(n!==A)return C([]),x(!0),e.history.push("/dialog/".concat(n))};function Z(){return g.getProfile().then((function(e){vn.send(JSON.stringify({event:"connected",data:{sender:e,receiver_id:A}}))}))}vn.registerMessageCallback((function(e){var t;try{t=JSON.parse(e.data)}catch(n){return void console.log("This doesn't look like a valid JSON: ",e.data)}"history"===t.type?C(t.data):"message"===t.type?C(b.concat([t.data])):console.log("Hmm..., I've never seen JSON like this: ",t);console.log(e)})),vn.registerOnConnectedCallback(Z);var D,J=function(e){return new Promise((function(t,a){vn.send(JSON.stringify({event:"draft-message",data:{msg:e,from:n,to:A}})),t()}))};return a.createElement(z,null,n&&v&&b&&k&&a.createElement("div",{className:wt},a.createElement("div",{className:It}),a.createElement("div",{className:kt},a.createElement("div",{className:Ut},a.createElement("div",{className:xt},a.createElement("div",{className:At},a.createElement("a",{href:"#",className:Tt},a.createElement(gn.G,{icon:En.xiG}))),a.createElement("div",{className:Zt},a.createElement("input",{className:Dt,type:"text",placeholder:"Search"}))),a.createElement("div",{className:Jt},v.map((function(e){return a.createElement("a",{href:"#",onClick:T,"data-user-id":e.receiver.id,className:"".concat(Bt," chats-latest-item ").concat(Number(k.profile.id)===Number(e.receiver.id)?Lt:"")},a.createElement("img",{src:e.receiver.avatar_url})," ",a.createElement("span",null,e.receiver.first_name," ",e.receiver.last_name))})))),a.createElement("div",{className:jt},a.createElement("div",{className:zt},a.createElement("div",{className:Rt},k.profile.first_name," ",k.profile.last_name),a.createElement("div",{className:qt},"last seen 7 minutes ago")),a.createElement("div",{className:Gt},b.map((function(e){if("message"===e.entity_type)return a.createElement("div",{className:"".concat(Wt," ").concat(e.authorId===n.id?Mt:Vt)},e.message_content)}))),a.createElement("div",{className:Ht},a.createElement("a",{href:"#",className:Ft},a.createElement(gn.G,{icon:En.Alc})),a.createElement("input",{id:"dialog-messages-new-message",className:Yt,type:"text",onKeyDown:function(e){if(13===e.keyCode){var t=e.currentTarget.value;if(!t)return;e.currentTarget.value="",function(e){vn.send(JSON.stringify({event:"message",data:{msg:e,from:n,to:A}}))}(t)}},onChange:function(e){var t=e.currentTarget.value;t&&(D&&clearTimeout(D),D=setTimeout((function(){J(t).then((function(){g.getLatestDialogs(n.id).then((function(e){S(e)}))}))}),300))},placeholder:"Write a message"}),a.createElement("a",{href:"#",onClick:function(e){e.preventDefault();var t=document.getElementById("dialog-messages-new-message").value;t&&J(t)},className:Qt},a.createElement(gn.G,{icon:En.XCy})))),a.createElement("div",{className:Ot},a.createElement("div",{className:Kt},a.createElement("span",null,"User Info"),a.createElement("div",{className:Xt},a.createElement("img",{className:$t,src:k.profile.avatar_url}),a.createElement("div",null,a.createElement("div",{className:en},k.first_name," ",k.profile.last_name),a.createElement("div",{className:tn},"last seen 7 minutes ago")))),a.createElement("div",{className:nn}),a.createElement("div",{className:an,style:{paddingBottom:20}},a.createElement("div",{className:rn},k.profile.phone),a.createElement("div",{className:ln},"Mobile")),a.createElement("div",{className:nn}),a.createElement("div",{className:on},a.createElement("div",{className:sn},k.total_photos),a.createElement("div",{className:cn},"photos")),a.createElement("div",{className:un},a.createElement("div",{className:mn},k.total_files),a.createElement("div",{className:dn},"files")),a.createElement("div",{className:hn},a.createElement("div",{className:fn},k.total_shared_links),a.createElement("div",{className:pn},"shared links"))))))}))))),yn=function(){return a.createElement(s.VK,null,a.createElement(c.rs,null,a.createElement(c.AW,{path:"/",exact:!0,component:ne}),a.createElement(c.AW,{path:"/signin",component:B}),a.createElement(c.AW,{path:"/user",component:te}),a.createElement(c.AW,{path:"/list-users",component:le}),a.createElement(c.AW,{path:"/create-class-area",component:se}),a.createElement(c.AW,{path:"/create-class-page",component:ie}),a.createElement(c.AW,{path:"/schedule-control-point-per-school-class",component:Te}),a.createElement(c.AW,{path:"/registration",component:Be}),a.createElement(c.AW,{path:"/confirm",component:ze}),a.createElement(c.AW,{path:"/onboarding",component:qe}),a.createElement(c.AW,{path:"/change-password",component:He}),a.createElement(c.AW,{path:"/change-phone",component:at}),a.createElement(c.AW,{path:"/change-email",component:dt}),a.createElement(c.AW,{path:"/reset-password",component:Nt}),a.createElement(c.AW,{path:"/dialog/:receiverId",component:Sn}),a.createElement(c.AW,{component:u})))};r.render(a.createElement(l.zt,{UserStore:g,WebsocketService:vn},a.createElement(yn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.m=e,n.x=function(){},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0},t=[[6123,985]],a=function(){},r=function(r,l){for(var o,s,c=l[0],i=l[1],u=l[2],m=l[3],d=0,h=[];d<c.length;d++)s=c[d],n.o(e,s)&&e[s]&&h.push(e[s][0]),e[s]=0;for(o in i)n.o(i,o)&&(n.m[o]=i[o]);for(u&&u(n),r&&r(l);h.length;)h.shift()();return m&&t.push.apply(t,m),a()},l=self.webpackChunkvk_auth_react=self.webpackChunkvk_auth_react||[];function o(){for(var a,r=0;r<t.length;r++){for(var l=t[r],o=!0,s=1;s<l.length;s++){var c=l[s];0!==e[c]&&(o=!1)}o&&(t.splice(r--,1),a=n(n.s=l[0]))}return 0===t.length&&(n.x(),n.x=function(){}),a}l.forEach(r.bind(null,0)),l.push=r.bind(null,l.push.bind(l));var s=n.x;n.x=function(){return n.x=s||function(){},(a=o)()}}(),n.x()}();
//# sourceMappingURL=main.709734fe.js.map